function ty(s,a){for(var l=0;l<a.length;l++){const r=a[l];if(typeof r!="string"&&!Array.isArray(r)){for(const c in r)if(c!=="default"&&!(c in s)){const f=Object.getOwnPropertyDescriptor(r,c);f&&Object.defineProperty(s,c,f.get?f:{enumerable:!0,get:()=>r[c]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(c){if(c.ep)return;c.ep=!0;const f=l(c);fetch(c.href,f)}})();function Nu(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Qc={exports:{}},Bi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th;function ny(){if(Th)return Bi;Th=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(r,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var y in c)y!=="key"&&(f[y]=c[y])}else f=c;return c=f.ref,{$$typeof:s,type:r,key:h,ref:c!==void 0?c:null,props:f}}return Bi.Fragment=a,Bi.jsx=l,Bi.jsxs=l,Bi}var Nh;function ay(){return Nh||(Nh=1,Qc.exports=ny()),Qc.exports}var m=ay(),Fc={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah;function sy(){if(Ah)return we;Ah=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.iterator;function M(v){return v===null||typeof v!="object"?null:(v=E&&v[E]||v["@@iterator"],typeof v=="function"?v:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,T={};function _(v,O,K){this.props=v,this.context=O,this.refs=T,this.updater=K||R}_.prototype.isReactComponent={},_.prototype.setState=function(v,O){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,O,"setState")},_.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function j(){}j.prototype=_.prototype;function $(v,O,K){this.props=v,this.context=O,this.refs=T,this.updater=K||R}var Y=$.prototype=new j;Y.constructor=$,x(Y,_.prototype),Y.isPureReactComponent=!0;var ie=Array.isArray,ee={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function he(v,O,K,Q,U,H){return K=H.ref,{$$typeof:s,type:v,key:O,ref:K!==void 0?K:null,props:H}}function pe(v,O){return he(v.type,O,void 0,void 0,void 0,v.props)}function se(v){return typeof v=="object"&&v!==null&&v.$$typeof===s}function me(v){var O={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(K){return O[K]})}var ze=/\/+/g;function Ae(v,O){return typeof v=="object"&&v!==null&&v.key!=null?me(""+v.key):O.toString(36)}function xe(){}function Te(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(xe,xe):(v.status="pending",v.then(function(O){v.status==="pending"&&(v.status="fulfilled",v.value=O)},function(O){v.status==="pending"&&(v.status="rejected",v.reason=O)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function _e(v,O,K,Q,U){var H=typeof v;(H==="undefined"||H==="boolean")&&(v=null);var L=!1;if(v===null)L=!0;else switch(H){case"bigint":case"string":case"number":L=!0;break;case"object":switch(v.$$typeof){case s:case a:L=!0;break;case w:return L=v._init,_e(L(v._payload),O,K,Q,U)}}if(L)return U=U(v),L=Q===""?"."+Ae(v,0):Q,ie(U)?(K="",L!=null&&(K=L.replace(ze,"$&/")+"/"),_e(U,O,K,"",function(ae){return ae})):U!=null&&(se(U)&&(U=pe(U,K+(U.key==null||v&&v.key===U.key?"":(""+U.key).replace(ze,"$&/")+"/")+L)),O.push(U)),1;L=0;var ne=Q===""?".":Q+":";if(ie(v))for(var X=0;X<v.length;X++)Q=v[X],H=ne+Ae(Q,X),L+=_e(Q,O,K,H,U);else if(X=M(v),typeof X=="function")for(v=X.call(v),X=0;!(Q=v.next()).done;)Q=Q.value,H=ne+Ae(Q,X++),L+=_e(Q,O,K,H,U);else if(H==="object"){if(typeof v.then=="function")return _e(Te(v),O,K,Q,U);throw O=String(v),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return L}function W(v,O,K){if(v==null)return v;var Q=[],U=0;return _e(v,Q,"","",function(H){return O.call(K,H,U++)}),Q}function ce(v){if(v._status===-1){var O=v._result;O=O(),O.then(function(K){(v._status===0||v._status===-1)&&(v._status=1,v._result=K)},function(K){(v._status===0||v._status===-1)&&(v._status=2,v._result=K)}),v._status===-1&&(v._status=0,v._result=O)}if(v._status===1)return v._result.default;throw v._result}var re=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)};function V(){}return we.Children={map:W,forEach:function(v,O,K){W(v,function(){O.apply(this,arguments)},K)},count:function(v){var O=0;return W(v,function(){O++}),O},toArray:function(v){return W(v,function(O){return O})||[]},only:function(v){if(!se(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},we.Component=_,we.Fragment=l,we.Profiler=c,we.PureComponent=$,we.StrictMode=r,we.Suspense=d,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,we.act=function(){throw Error("act(...) is not supported in production builds of React.")},we.cache=function(v){return function(){return v.apply(null,arguments)}},we.cloneElement=function(v,O,K){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var Q=x({},v.props),U=v.key,H=void 0;if(O!=null)for(L in O.ref!==void 0&&(H=void 0),O.key!==void 0&&(U=""+O.key),O)!le.call(O,L)||L==="key"||L==="__self"||L==="__source"||L==="ref"&&O.ref===void 0||(Q[L]=O[L]);var L=arguments.length-2;if(L===1)Q.children=K;else if(1<L){for(var ne=Array(L),X=0;X<L;X++)ne[X]=arguments[X+2];Q.children=ne}return he(v.type,U,void 0,void 0,H,Q)},we.createContext=function(v){return v={$$typeof:h,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:f,_context:v},v},we.createElement=function(v,O,K){var Q,U={},H=null;if(O!=null)for(Q in O.key!==void 0&&(H=""+O.key),O)le.call(O,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(U[Q]=O[Q]);var L=arguments.length-2;if(L===1)U.children=K;else if(1<L){for(var ne=Array(L),X=0;X<L;X++)ne[X]=arguments[X+2];U.children=ne}if(v&&v.defaultProps)for(Q in L=v.defaultProps,L)U[Q]===void 0&&(U[Q]=L[Q]);return he(v,H,void 0,void 0,null,U)},we.createRef=function(){return{current:null}},we.forwardRef=function(v){return{$$typeof:y,render:v}},we.isValidElement=se,we.lazy=function(v){return{$$typeof:w,_payload:{_status:-1,_result:v},_init:ce}},we.memo=function(v,O){return{$$typeof:p,type:v,compare:O===void 0?null:O}},we.startTransition=function(v){var O=ee.T,K={};ee.T=K;try{var Q=v(),U=ee.S;U!==null&&U(K,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(V,re)}catch(H){re(H)}finally{ee.T=O}},we.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},we.use=function(v){return ee.H.use(v)},we.useActionState=function(v,O,K){return ee.H.useActionState(v,O,K)},we.useCallback=function(v,O){return ee.H.useCallback(v,O)},we.useContext=function(v){return ee.H.useContext(v)},we.useDebugValue=function(){},we.useDeferredValue=function(v,O){return ee.H.useDeferredValue(v,O)},we.useEffect=function(v,O){return ee.H.useEffect(v,O)},we.useId=function(){return ee.H.useId()},we.useImperativeHandle=function(v,O,K){return ee.H.useImperativeHandle(v,O,K)},we.useInsertionEffect=function(v,O){return ee.H.useInsertionEffect(v,O)},we.useLayoutEffect=function(v,O){return ee.H.useLayoutEffect(v,O)},we.useMemo=function(v,O){return ee.H.useMemo(v,O)},we.useOptimistic=function(v,O){return ee.H.useOptimistic(v,O)},we.useReducer=function(v,O,K){return ee.H.useReducer(v,O,K)},we.useRef=function(v){return ee.H.useRef(v)},we.useState=function(v){return ee.H.useState(v)},we.useSyncExternalStore=function(v,O,K){return ee.H.useSyncExternalStore(v,O,K)},we.useTransition=function(){return ee.H.useTransition()},we.version="19.0.0",we}var _h;function Nr(){return _h||(_h=1,Fc.exports=sy()),Fc.exports}var b=Nr();const pa=Nu(b),iy=ty({__proto__:null,default:pa},[b]);var $c={exports:{}},qi={},Kc={exports:{}},Jc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh;function ly(){return Rh||(Rh=1,function(s){function a(W,ce){var re=W.length;W.push(ce);e:for(;0<re;){var V=re-1>>>1,v=W[V];if(0<c(v,ce))W[V]=ce,W[re]=v,re=V;else break e}}function l(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ce=W[0],re=W.pop();if(re!==ce){W[0]=re;e:for(var V=0,v=W.length,O=v>>>1;V<O;){var K=2*(V+1)-1,Q=W[K],U=K+1,H=W[U];if(0>c(Q,re))U<v&&0>c(H,Q)?(W[V]=H,W[U]=re,V=U):(W[V]=Q,W[K]=re,V=K);else if(U<v&&0>c(H,re))W[V]=H,W[U]=re,V=U;else break e}}return ce}function c(W,ce){var re=W.sortIndex-ce.sortIndex;return re!==0?re:W.id-ce.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,y=h.now();s.unstable_now=function(){return h.now()-y}}var d=[],p=[],w=1,E=null,M=3,R=!1,x=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Y(W){for(var ce=l(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=W)r(p),ce.sortIndex=ce.expirationTime,a(d,ce);else break;ce=l(p)}}function ie(W){if(T=!1,Y(W),!x)if(l(d)!==null)x=!0,Te();else{var ce=l(p);ce!==null&&_e(ie,ce.startTime-W)}}var ee=!1,le=-1,he=5,pe=-1;function se(){return!(s.unstable_now()-pe<he)}function me(){if(ee){var W=s.unstable_now();pe=W;var ce=!0;try{e:{x=!1,T&&(T=!1,j(le),le=-1),R=!0;var re=M;try{t:{for(Y(W),E=l(d);E!==null&&!(E.expirationTime>W&&se());){var V=E.callback;if(typeof V=="function"){E.callback=null,M=E.priorityLevel;var v=V(E.expirationTime<=W);if(W=s.unstable_now(),typeof v=="function"){E.callback=v,Y(W),ce=!0;break t}E===l(d)&&r(d),Y(W)}else r(d);E=l(d)}if(E!==null)ce=!0;else{var O=l(p);O!==null&&_e(ie,O.startTime-W),ce=!1}}break e}finally{E=null,M=re,R=!1}ce=void 0}}finally{ce?ze():ee=!1}}}var ze;if(typeof $=="function")ze=function(){$(me)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,xe=Ae.port2;Ae.port1.onmessage=me,ze=function(){xe.postMessage(null)}}else ze=function(){_(me,0)};function Te(){ee||(ee=!0,ze())}function _e(W,ce){le=_(function(){W(s.unstable_now())},ce)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_continueExecution=function(){x||R||(x=!0,Te())},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_getFirstCallbackNode=function(){return l(d)},s.unstable_next=function(W){switch(M){case 1:case 2:case 3:var ce=3;break;default:ce=M}var re=M;M=ce;try{return W()}finally{M=re}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(W,ce){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=M;M=W;try{return ce()}finally{M=re}},s.unstable_scheduleCallback=function(W,ce,re){var V=s.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?V+re:V):re=V,W){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=re+v,W={id:w++,callback:ce,priorityLevel:W,startTime:re,expirationTime:v,sortIndex:-1},re>V?(W.sortIndex=re,a(p,W),l(d)===null&&W===l(p)&&(T?(j(le),le=-1):T=!0,_e(ie,re-V))):(W.sortIndex=v,a(d,W),x||R||(x=!0,Te())),W},s.unstable_shouldYield=se,s.unstable_wrapCallback=function(W){var ce=M;return function(){var re=M;M=ce;try{return W.apply(this,arguments)}finally{M=re}}}}(Jc)),Jc}var Oh;function ry(){return Oh||(Oh=1,Kc.exports=ly()),Kc.exports}var Pc={exports:{}},vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function oy(){if(kh)return vt;kh=1;var s=Nr();function a(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(d,p,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:d,containerInfo:p,implementation:w}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,vt.createPortal=function(d,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return f(d,p,null,w)},vt.flushSync=function(d){var p=h.T,w=r.p;try{if(h.T=null,r.p=2,d)return d()}finally{h.T=p,r.p=w,r.d.f()}},vt.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},vt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},vt.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var w=p.as,E=y(w,p.crossOrigin),M=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;w==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:M,fetchPriority:R}):w==="script"&&r.d.X(d,{crossOrigin:E,integrity:M,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vt.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var w=y(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},vt.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var w=p.as,E=y(w,p.crossOrigin);r.d.L(d,w,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vt.preloadModule=function(d,p){if(typeof d=="string")if(p){var w=y(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},vt.requestFormReset=function(d){r.d.r(d)},vt.unstable_batchedUpdates=function(d,p){return d(p)},vt.useFormState=function(d,p,w){return h.H.useFormState(d,p,w)},vt.useFormStatus=function(){return h.H.useHostTransitionStatus()},vt.version="19.0.0",vt}var jh;function Nm(){if(jh)return Pc.exports;jh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Pc.exports=oy(),Pc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh;function cy(){if(Uh)return qi;Uh=1;var s=ry(),a=Nr(),l=Nm();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),R=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),ie=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var he=Symbol.for("react.client.reference");function pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===he?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case d:return"Fragment";case y:return"Portal";case w:return"Profiler";case p:return"StrictMode";case T:return"Suspense";case _:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R:return(e.displayName||"Context")+".Provider";case M:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case $:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}var se=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=Object.assign,ze,Ae;function xe(e){if(ze===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ze=t&&t[1]||"",Ae=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+e+Ae}var Te=!1;function _e(e,t){if(!e||Te)return"";Te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var z=q}Reflect.construct(e,[],J)}else{try{J.call()}catch(q){z=q}e.call(J.prototype)}}else{try{throw Error()}catch(q){z=q}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),g=u[0],S=u[1];if(g&&S){var C=g.split(`
`),A=S.split(`
`);for(o=i=0;i<C.length&&!C[i].includes("DetermineComponentFrameRoot");)i++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(i===C.length||o===A.length)for(i=C.length-1,o=A.length-1;1<=i&&0<=o&&C[i]!==A[o];)o--;for(;1<=i&&0<=o;i--,o--)if(C[i]!==A[o]){if(i!==1||o!==1)do if(i--,o--,0>o||C[i]!==A[o]){var G=`
`+C[i].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=i&&0<=o);break}}}finally{Te=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xe(n):""}function W(e){switch(e.tag){case 26:case 27:case 5:return xe(e.type);case 16:return xe("Lazy");case 13:return xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return e=_e(e.type,!1),e;case 11:return e=_e(e.type.render,!1),e;case 1:return e=_e(e.type,!0),e;default:return""}}function ce(e){try{var t="";do t+=W(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function re(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function V(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(re(e)!==e)throw Error(r(188))}function O(e){var t=e.alternate;if(!t){if(t=re(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return v(o),e;if(u===i)return v(o),t;u=u.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=u;else{for(var g=!1,S=o.child;S;){if(S===n){g=!0,n=o,i=u;break}if(S===i){g=!0,i=o,n=u;break}S=S.sibling}if(!g){for(S=u.child;S;){if(S===n){g=!0,n=u,i=o;break}if(S===i){g=!0,i=u,n=o;break}S=S.sibling}if(!g)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function K(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=K(e),t!==null)return t;e=e.sibling}return null}var Q=Array.isArray,U=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},L=[],ne=-1;function X(e){return{current:e}}function ae(e){0>ne||(e.current=L[ne],L[ne]=null,ne--)}function fe(e,t){ne++,L[ne]=e.current,e.current=t}var Se=X(null),Nt=X(null),At=X(null),dn=X(null);function et(e,t){switch(fe(At,t),fe(Nt,e),fe(Se,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?th(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=th(e),t=nh(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(Se),fe(Se,t)}function _t(){ae(Se),ae(Nt),ae(At)}function Vt(e){e.memoizedState!==null&&fe(dn,e);var t=Se.current,n=nh(t,e.type);t!==n&&(fe(Nt,e),fe(Se,n))}function wn(e){Nt.current===e&&(ae(Se),ae(Nt)),dn.current===e&&(ae(dn),ji._currentValue=H)}var Ia=Object.prototype.hasOwnProperty,Yn=s.unstable_scheduleCallback,Zt=s.unstable_cancelCallback,Xe=s.unstable_shouldYield,Rt=s.unstable_requestPaint,wt=s.unstable_now,Br=s.unstable_getCurrentPriorityLevel,Vn=s.unstable_ImmediatePriority,Ji=s.unstable_UserBlockingPriority,es=s.unstable_NormalPriority,qr=s.unstable_LowPriority,Pi=s.unstable_IdlePriority,Ot=s.log,Hr=s.unstable_setDisableYieldValue,ba=null,xt=null;function F(e){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(ba,e,void 0,(e.current.flags&128)===128)}catch{}}function te(e){if(typeof Ot=="function"&&Hr(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(ba,e)}catch{}}var I=Math.clz32?Math.clz32:ve,ye=Math.log,Re=Math.LN2;function ve(e){return e>>>=0,e===0?32:31-(ye(e)/Re|0)|0}var Ze=128,kt=4194304;function it(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Le(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,u=e.pingedLanes,g=e.warmLanes;e=e.finishedLanes!==0;var S=n&134217727;return S!==0?(n=S&~o,n!==0?i=it(n):(u&=S,u!==0?i=it(u):e||(g=S&~g,g!==0&&(i=it(g))))):(S=n&~o,S!==0?i=it(S):u!==0?i=it(u):e||(g=n&~g,g!==0&&(i=it(g)))),i===0?0:t!==0&&t!==i&&(t&o)===0&&(o=i&-i,g=t&-t,o>=g||o===32&&(g&4194176)!==0)?t:i}function hn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ts(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ea(){var e=Ze;return Ze<<=1,(Ze&4194176)===0&&(Ze=128),e}function xn(){var e=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),e}function mn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wi(e,t,n,i,o,u){var g=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var S=e.entanglements,C=e.expirationTimes,A=e.hiddenUpdates;for(n=g&~n;0<n;){var G=31-I(n),J=1<<G;S[G]=0,C[G]=-1;var z=A[G];if(z!==null)for(A[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}n&=~J}i!==0&&Ii(e,i,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(g&~t))}function Ii(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-I(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194218}function Ku(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-I(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function Ju(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pu(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:bh(e.type))}function Xg(e,t){var n=U.p;try{return U.p=e,t()}finally{U.p=n}}var Xn=Math.random().toString(36).slice(2),pt="__reactFiber$"+Xn,jt="__reactProps$"+Xn,ns="__reactContainer$"+Xn,Gr="__reactEvents$"+Xn,Qg="__reactListeners$"+Xn,Fg="__reactHandles$"+Xn,Wu="__reactResources$"+Xn,Xs="__reactMarker$"+Xn;function Yr(e){delete e[pt],delete e[jt],delete e[Gr],delete e[Qg],delete e[Fg]}function wa(e){var t=e[pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ns]||n[pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ih(e);e!==null;){if(n=e[pt])return n;e=ih(e)}return t}e=n,n=e.parentNode}return null}function as(e){if(e=e[pt]||e[ns]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Qs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ss(e){var t=e[Wu];return t||(t=e[Wu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[Xs]=!0}var Iu=new Set,ef={};function xa(e,t){is(e,t),is(e+"Capture",t)}function is(e,t){for(ef[e]=t,e=0;e<t.length;e++)Iu.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$g=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tf={},nf={};function Kg(e){return Ia.call(nf,e)?!0:Ia.call(tf,e)?!1:$g.test(e)?nf[e]=!0:(tf[e]=!0,!1)}function el(e,t,n){if(Kg(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function tl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Mn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function af(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jg(e){var t=af(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){i=""+g,u.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nl(e){e._valueTracker||(e._valueTracker=Jg(e))}function sf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=af(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pg=/[\n"\\]/g;function Qt(e){return e.replace(Pg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vr(e,t,n,i,o,u,g,S){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xt(t)):e.value!==""+Xt(t)&&(e.value=""+Xt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Zr(e,g,Xt(t)):n!=null?Zr(e,g,Xt(n)):i!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Xt(S):e.removeAttribute("name")}function lf(e,t,n,i,o,u,g,S){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;n=n!=null?""+Xt(n):"",t=t!=null?""+Xt(t):n,S||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=S?e.checked:!!i,e.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function Zr(e,t,n){t==="number"&&al(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ls(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Xt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function rf(e,t,n){if(t!=null&&(t=""+Xt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Xt(n):""}function of(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(r(92));if(Q(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Xt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function rs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cf(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Wg.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function uf(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&cf(e,o,i)}else for(var u in t)t.hasOwnProperty(u)&&cf(e,u,t[u])}function Xr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ig=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ep=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sl(e){return ep.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Qr=null;function Fr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var os=null,cs=null;function ff(e){var t=as(e);if(t&&(e=t.stateNode)){var n=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Qt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[jt]||null;if(!o)throw Error(r(90));Vr(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&sf(i)}break e;case"textarea":rf(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ls(e,!!n.multiple,t,!1)}}}var $r=!1;function df(e,t,n){if($r)return e(t,n);$r=!0;try{var i=e(t);return i}finally{if($r=!1,(os!==null||cs!==null)&&(Gl(),os&&(t=os,e=cs,cs=os=null,ff(t),e)))for(t=0;t<e.length;t++)ff(e[t])}}function Fs(e,t){var n=e.stateNode;if(n===null)return null;var i=n[jt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Kr=!1;if(Cn)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Kr=!1}var Qn=null,Jr=null,il=null;function hf(){if(il)return il;var e,t=Jr,n=t.length,i,o="value"in Qn?Qn.value:Qn.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var g=n-e;for(i=1;i<=g&&t[n-i]===o[u-i];i++);return il=o.slice(e,1<i?1-i:void 0)}function ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rl(){return!0}function mf(){return!1}function Ut(e){function t(n,i,o,u,g){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=g,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(n=e[S],this[S]=n?n(u):u[S]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?rl:mf,this.isPropagationStopped=mf,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),t}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=Ut(Ca),Ks=me({},Ca,{view:0,detail:0}),tp=Ut(Ks),Pr,Wr,Js,cl=me({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Js&&(Js&&e.type==="mousemove"?(Pr=e.screenX-Js.screenX,Wr=e.screenY-Js.screenY):Wr=Pr=0,Js=e),Pr)},movementY:function(e){return"movementY"in e?e.movementY:Wr}}),gf=Ut(cl),np=me({},cl,{dataTransfer:0}),ap=Ut(np),sp=me({},Ks,{relatedTarget:0}),Ir=Ut(sp),ip=me({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),lp=Ut(ip),rp=me({},Ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),op=Ut(rp),cp=me({},Ca,{data:0}),pf=Ut(cp),up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dp[e])?!!t[e]:!1}function eo(){return hp}var mp=me({},Ks,{key:function(e){if(e.key){var t=up[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(e){return e.type==="keypress"?ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gp=Ut(mp),pp=me({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=Ut(pp),yp=me({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),vp=Ut(yp),Sp=me({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),bp=Ut(Sp),Ep=me({},cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wp=Ut(Ep),xp=me({},Ca,{newState:0,oldState:0}),Cp=Ut(xp),Mp=[9,13,27,32],to=Cn&&"CompositionEvent"in window,Ps=null;Cn&&"documentMode"in document&&(Ps=document.documentMode);var Tp=Cn&&"TextEvent"in window&&!Ps,vf=Cn&&(!to||Ps&&8<Ps&&11>=Ps),Sf=" ",bf=!1;function Ef(e,t){switch(e){case"keyup":return Mp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var us=!1;function Np(e,t){switch(e){case"compositionend":return wf(t);case"keypress":return t.which!==32?null:(bf=!0,Sf);case"textInput":return e=t.data,e===Sf&&bf?null:e;default:return null}}function Ap(e,t){if(us)return e==="compositionend"||!to&&Ef(e,t)?(e=hf(),il=Jr=Qn=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vf&&t.locale!=="ko"?null:t.data;default:return null}}var _p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_p[e.type]:t==="textarea"}function Cf(e,t,n,i){os?cs?cs.push(i):cs=[i]:os=i,t=Ql(t,"onChange"),0<t.length&&(n=new ol("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ws=null,Is=null;function Rp(e){J0(e,0)}function ul(e){var t=Qs(e);if(sf(t))return e}function Mf(e,t){if(e==="change")return t}var Tf=!1;if(Cn){var no;if(Cn){var ao="oninput"in document;if(!ao){var Nf=document.createElement("div");Nf.setAttribute("oninput","return;"),ao=typeof Nf.oninput=="function"}no=ao}else no=!1;Tf=no&&(!document.documentMode||9<document.documentMode)}function Af(){Ws&&(Ws.detachEvent("onpropertychange",_f),Is=Ws=null)}function _f(e){if(e.propertyName==="value"&&ul(Is)){var t=[];Cf(t,Is,e,Fr(e)),df(Rp,t)}}function Op(e,t,n){e==="focusin"?(Af(),Ws=t,Is=n,Ws.attachEvent("onpropertychange",_f)):e==="focusout"&&Af()}function kp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(Is)}function jp(e,t){if(e==="click")return ul(t)}function Up(e,t){if(e==="input"||e==="change")return ul(t)}function Dp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:Dp;function ei(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Ia.call(t,o)||!Lt(e[o],t[o]))return!1}return!0}function Rf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Of(e,t){var n=Rf(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rf(n)}}function kf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=al(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=al(e.document)}return t}function so(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zp(e,t){var n=jf(t);t=e.focusedElem;var i=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&kf(t.ownerDocument.documentElement,t)){if(i!==null&&so(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=t.textContent.length,u=Math.min(i.start,o);i=i.end===void 0?u:Math.min(i.end,o),!n.extend&&u>i&&(o=i,i=u,u=o),o=Of(t,u);var g=Of(t,i);o&&g&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==g.node||n.focusOffset!==g.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),u>i?(n.addRange(e),n.extend(g.node,g.offset)):(e.setEnd(g.node,g.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Lp=Cn&&"documentMode"in document&&11>=document.documentMode,fs=null,io=null,ti=null,lo=!1;function Uf(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lo||fs==null||fs!==al(i)||(i=fs,"selectionStart"in i&&so(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ti&&ei(ti,i)||(ti=i,i=Ql(io,"onSelect"),0<i.length&&(t=new ol("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=fs)))}function Ma(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ds={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},ro={},Df={};Cn&&(Df=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Ta(e){if(ro[e])return ro[e];if(!ds[e])return e;var t=ds[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Df)return ro[e]=t[n];return e}var zf=Ta("animationend"),Lf=Ta("animationiteration"),Bf=Ta("animationstart"),Bp=Ta("transitionrun"),qp=Ta("transitionstart"),Hp=Ta("transitioncancel"),qf=Ta("transitionend"),Hf=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function sn(e,t){Hf.set(e,t),xa(t,[e])}var Ft=[],hs=0,oo=0;function fl(){for(var e=hs,t=oo=hs=0;t<e;){var n=Ft[t];Ft[t++]=null;var i=Ft[t];Ft[t++]=null;var o=Ft[t];Ft[t++]=null;var u=Ft[t];if(Ft[t++]=null,i!==null&&o!==null){var g=i.pending;g===null?o.next=o:(o.next=g.next,g.next=o),i.pending=o}u!==0&&Yf(n,o,u)}}function dl(e,t,n,i){Ft[hs++]=e,Ft[hs++]=t,Ft[hs++]=n,Ft[hs++]=i,oo|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function co(e,t,n,i){return dl(e,t,n,i),hl(e)}function Fn(e,t){return dl(e,null,null,t),hl(e)}function Yf(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,i=u.alternate,i!==null&&(i.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;o&&t!==null&&e.tag===3&&(u=e.stateNode,o=31-I(n),u=u.hiddenUpdates,e=u[o],e===null?u[o]=[t]:e.push(t),t.lane=n|536870912)}function hl(e){if(50<Ti)throw Ti=0,pc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ms={},Vf=new WeakMap;function $t(e,t){if(typeof e=="object"&&e!==null){var n=Vf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ce(t)},Vf.set(e,t),t)}return{value:e,source:t,stack:ce(t)}}var gs=[],ps=0,ml=null,gl=0,Kt=[],Jt=0,Na=null,Tn=1,Nn="";function Aa(e,t){gs[ps++]=gl,gs[ps++]=ml,ml=e,gl=t}function Zf(e,t,n){Kt[Jt++]=Tn,Kt[Jt++]=Nn,Kt[Jt++]=Na,Na=e;var i=Tn;e=Nn;var o=32-I(i)-1;i&=~(1<<o),n+=1;var u=32-I(t)+o;if(30<u){var g=o-o%5;u=(i&(1<<g)-1).toString(32),i>>=g,o-=g,Tn=1<<32-I(t)+o|n<<o|i,Nn=u+e}else Tn=1<<u|n<<o|i,Nn=e}function uo(e){e.return!==null&&(Aa(e,1),Zf(e,1,0))}function fo(e){for(;e===ml;)ml=gs[--ps],gs[ps]=null,gl=gs[--ps],gs[ps]=null;for(;e===Na;)Na=Kt[--Jt],Kt[Jt]=null,Nn=Kt[--Jt],Kt[Jt]=null,Tn=Kt[--Jt],Kt[Jt]=null}var Ct=null,ht=null,Ue=!1,ln=null,gn=!1,ho=Error(r(519));function _a(e){var t=Error(r(418,""));throw si($t(t,e)),ho}function Xf(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[pt]=e,t[jt]=i,n){case"dialog":Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":case"embed":Oe("load",t);break;case"video":case"audio":for(n=0;n<Ai.length;n++)Oe(Ai[n],t);break;case"source":Oe("error",t);break;case"img":case"image":case"link":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"input":Oe("invalid",t),lf(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),nl(t);break;case"select":Oe("invalid",t);break;case"textarea":Oe("invalid",t),of(t,i.value,i.defaultValue,i.children),nl(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||eh(t.textContent,n)?(i.popover!=null&&(Oe("beforetoggle",t),Oe("toggle",t)),i.onScroll!=null&&Oe("scroll",t),i.onScrollEnd!=null&&Oe("scrollend",t),i.onClick!=null&&(t.onclick=Fl),t=!0):t=!1,t||_a(e)}function Qf(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 3:case 27:gn=!0;return;case 5:case 13:gn=!1;return;default:Ct=Ct.return}}function ni(e){if(e!==Ct)return!1;if(!Ue)return Qf(e),Ue=!0,!1;var t=!1,n;if((n=e.tag!==3&&e.tag!==27)&&((n=e.tag===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||jc(e.type,e.memoizedProps)),n=!n),n&&(t=!0),t&&ht&&_a(e),Qf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){ht=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}ht=null}}else ht=Ct?on(e.stateNode.nextSibling):null;return!0}function ai(){ht=Ct=null,Ue=!1}function si(e){ln===null?ln=[e]:ln.push(e)}var ii=Error(r(460)),Ff=Error(r(474)),mo={then:function(){}};function $f(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pl(){}function Kf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(pl,pl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===ii?Error(r(483)):e;default:if(typeof t.status=="string")t.then(pl,pl);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===ii?Error(r(483)):e}throw li=t,ii}}var li=null;function Jf(){if(li===null)throw Error(r(459));var e=li;return li=null,e}var ys=null,ri=0;function yl(e){var t=ri;return ri+=1,ys===null&&(ys=[]),Kf(ys,e,t)}function oi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function vl(e,t){throw t.$$typeof===f?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Pf(e){var t=e._init;return t(e._payload)}function Wf(e){function t(k,N){if(e){var D=k.deletions;D===null?(k.deletions=[N],k.flags|=16):D.push(N)}}function n(k,N){if(!e)return null;for(;N!==null;)t(k,N),N=N.sibling;return null}function i(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function o(k,N){return k=ia(k,N),k.index=0,k.sibling=null,k}function u(k,N,D){return k.index=D,e?(D=k.alternate,D!==null?(D=D.index,D<N?(k.flags|=33554434,N):D):(k.flags|=33554434,N)):(k.flags|=1048576,N)}function g(k){return e&&k.alternate===null&&(k.flags|=33554434),k}function S(k,N,D,Z){return N===null||N.tag!==6?(N=oc(D,k.mode,Z),N.return=k,N):(N=o(N,D),N.return=k,N)}function C(k,N,D,Z){var oe=D.type;return oe===d?G(k,N,D.props.children,Z,D.key):N!==null&&(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===$&&Pf(oe)===N.type)?(N=o(N,D.props),oi(N,D),N.return=k,N):(N=zl(D.type,D.key,D.props,null,k.mode,Z),oi(N,D),N.return=k,N)}function A(k,N,D,Z){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=cc(D,k.mode,Z),N.return=k,N):(N=o(N,D.children||[]),N.return=k,N)}function G(k,N,D,Z,oe){return N===null||N.tag!==7?(N=qa(D,k.mode,Z,oe),N.return=k,N):(N=o(N,D),N.return=k,N)}function J(k,N,D){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=oc(""+N,k.mode,D),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case h:return D=zl(N.type,N.key,N.props,null,k.mode,D),oi(D,N),D.return=k,D;case y:return N=cc(N,k.mode,D),N.return=k,N;case $:var Z=N._init;return N=Z(N._payload),J(k,N,D)}if(Q(N)||le(N))return N=qa(N,k.mode,D,null),N.return=k,N;if(typeof N.then=="function")return J(k,yl(N),D);if(N.$$typeof===R)return J(k,jl(k,N),D);vl(k,N)}return null}function z(k,N,D,Z){var oe=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return oe!==null?null:S(k,N,""+D,Z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case h:return D.key===oe?C(k,N,D,Z):null;case y:return D.key===oe?A(k,N,D,Z):null;case $:return oe=D._init,D=oe(D._payload),z(k,N,D,Z)}if(Q(D)||le(D))return oe!==null?null:G(k,N,D,Z,null);if(typeof D.then=="function")return z(k,N,yl(D),Z);if(D.$$typeof===R)return z(k,N,jl(k,D),Z);vl(k,D)}return null}function q(k,N,D,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(D)||null,S(N,k,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case h:return k=k.get(Z.key===null?D:Z.key)||null,C(N,k,Z,oe);case y:return k=k.get(Z.key===null?D:Z.key)||null,A(N,k,Z,oe);case $:var Me=Z._init;return Z=Me(Z._payload),q(k,N,D,Z,oe)}if(Q(Z)||le(Z))return k=k.get(D)||null,G(N,k,Z,oe,null);if(typeof Z.then=="function")return q(k,N,D,yl(Z),oe);if(Z.$$typeof===R)return q(k,N,D,jl(N,Z),oe);vl(N,Z)}return null}function ue(k,N,D,Z){for(var oe=null,Me=null,de=N,ge=N=0,ft=null;de!==null&&ge<D.length;ge++){de.index>ge?(ft=de,de=null):ft=de.sibling;var De=z(k,de,D[ge],Z);if(De===null){de===null&&(de=ft);break}e&&de&&De.alternate===null&&t(k,de),N=u(De,N,ge),Me===null?oe=De:Me.sibling=De,Me=De,de=ft}if(ge===D.length)return n(k,de),Ue&&Aa(k,ge),oe;if(de===null){for(;ge<D.length;ge++)de=J(k,D[ge],Z),de!==null&&(N=u(de,N,ge),Me===null?oe=de:Me.sibling=de,Me=de);return Ue&&Aa(k,ge),oe}for(de=i(de);ge<D.length;ge++)ft=q(de,k,ge,D[ge],Z),ft!==null&&(e&&ft.alternate!==null&&de.delete(ft.key===null?ge:ft.key),N=u(ft,N,ge),Me===null?oe=ft:Me.sibling=ft,Me=ft);return e&&de.forEach(function(da){return t(k,da)}),Ue&&Aa(k,ge),oe}function be(k,N,D,Z){if(D==null)throw Error(r(151));for(var oe=null,Me=null,de=N,ge=N=0,ft=null,De=D.next();de!==null&&!De.done;ge++,De=D.next()){de.index>ge?(ft=de,de=null):ft=de.sibling;var da=z(k,de,De.value,Z);if(da===null){de===null&&(de=ft);break}e&&de&&da.alternate===null&&t(k,de),N=u(da,N,ge),Me===null?oe=da:Me.sibling=da,Me=da,de=ft}if(De.done)return n(k,de),Ue&&Aa(k,ge),oe;if(de===null){for(;!De.done;ge++,De=D.next())De=J(k,De.value,Z),De!==null&&(N=u(De,N,ge),Me===null?oe=De:Me.sibling=De,Me=De);return Ue&&Aa(k,ge),oe}for(de=i(de);!De.done;ge++,De=D.next())De=q(de,k,ge,De.value,Z),De!==null&&(e&&De.alternate!==null&&de.delete(De.key===null?ge:De.key),N=u(De,N,ge),Me===null?oe=De:Me.sibling=De,Me=De);return e&&de.forEach(function(ey){return t(k,ey)}),Ue&&Aa(k,ge),oe}function Pe(k,N,D,Z){if(typeof D=="object"&&D!==null&&D.type===d&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case h:e:{for(var oe=D.key;N!==null;){if(N.key===oe){if(oe=D.type,oe===d){if(N.tag===7){n(k,N.sibling),Z=o(N,D.props.children),Z.return=k,k=Z;break e}}else if(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===$&&Pf(oe)===N.type){n(k,N.sibling),Z=o(N,D.props),oi(Z,D),Z.return=k,k=Z;break e}n(k,N);break}else t(k,N);N=N.sibling}D.type===d?(Z=qa(D.props.children,k.mode,Z,D.key),Z.return=k,k=Z):(Z=zl(D.type,D.key,D.props,null,k.mode,Z),oi(Z,D),Z.return=k,k=Z)}return g(k);case y:e:{for(oe=D.key;N!==null;){if(N.key===oe)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){n(k,N.sibling),Z=o(N,D.children||[]),Z.return=k,k=Z;break e}else{n(k,N);break}else t(k,N);N=N.sibling}Z=cc(D,k.mode,Z),Z.return=k,k=Z}return g(k);case $:return oe=D._init,D=oe(D._payload),Pe(k,N,D,Z)}if(Q(D))return ue(k,N,D,Z);if(le(D)){if(oe=le(D),typeof oe!="function")throw Error(r(150));return D=oe.call(D),be(k,N,D,Z)}if(typeof D.then=="function")return Pe(k,N,yl(D),Z);if(D.$$typeof===R)return Pe(k,N,jl(k,D),Z);vl(k,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,N!==null&&N.tag===6?(n(k,N.sibling),Z=o(N,D),Z.return=k,k=Z):(n(k,N),Z=oc(D,k.mode,Z),Z.return=k,k=Z),g(k)):n(k,N)}return function(k,N,D,Z){try{ri=0;var oe=Pe(k,N,D,Z);return ys=null,oe}catch(de){if(de===ii)throw de;var Me=en(29,de,null,k.mode);return Me.lanes=Z,Me.return=k,Me}finally{}}}var Ra=Wf(!0),If=Wf(!1),vs=X(null),Sl=X(0);function ed(e,t){e=Bn,fe(Sl,e),fe(vs,t),Bn=e|t.baseLanes}function go(){fe(Sl,Bn),fe(vs,vs.current)}function po(){Bn=Sl.current,ae(vs),ae(Sl)}var Pt=X(null),pn=null;function $n(e){var t=e.alternate;fe(lt,lt.current&1),fe(Pt,e),pn===null&&(t===null||vs.current!==null||t.memoizedState!==null)&&(pn=e)}function td(e){if(e.tag===22){if(fe(lt,lt.current),fe(Pt,e),pn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(pn=e)}}else Kn()}function Kn(){fe(lt,lt.current),fe(Pt,Pt.current)}function An(e){ae(Pt),pn===e&&(pn=null),ae(lt)}var lt=X(0);function bl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Yp=s.unstable_scheduleCallback,Vp=s.unstable_NormalPriority,rt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yo(){return{controller:new Gp,data:new Map,refCount:0}}function ci(e){e.refCount--,e.refCount===0&&Yp(Vp,function(){e.controller.abort()})}var ui=null,vo=0,Ss=0,bs=null;function Zp(e,t){if(ui===null){var n=ui=[];vo=0,Ss=Cc(),bs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return vo++,t.then(nd,nd),t}function nd(){if(--vo===0&&ui!==null){bs!==null&&(bs.status="fulfilled");var e=ui;ui=null,Ss=0,bs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Xp(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var ad=se.S;se.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zp(e,t),ad!==null&&ad(e,t)};var Oa=X(null);function So(){var e=Oa.current;return e!==null?e:Ye.pooledCache}function El(e,t){t===null?fe(Oa,Oa.current):fe(Oa,t.pool)}function sd(){var e=So();return e===null?null:{parent:rt._currentValue,pool:e}}var Jn=0,Ce=null,Be=null,tt=null,wl=!1,Es=!1,ka=!1,xl=0,fi=0,ws=null,Qp=0;function We(){throw Error(r(321))}function bo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lt(e[n],t[n]))return!1;return!0}function Eo(e,t,n,i,o,u){return Jn=u,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,se.H=e===null||e.memoizedState===null?ja:Pn,ka=!1,u=n(i,o),ka=!1,Es&&(u=ld(t,n,i,o)),id(e),u}function id(e){se.H=yn;var t=Be!==null&&Be.next!==null;if(Jn=0,tt=Be=Ce=null,wl=!1,fi=0,ws=null,t)throw Error(r(300));e===null||ct||(e=e.dependencies,e!==null&&kl(e)&&(ct=!0))}function ld(e,t,n,i){Ce=e;var o=0;do{if(Es&&(ws=null),fi=0,Es=!1,25<=o)throw Error(r(301));if(o+=1,tt=Be=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}se.H=Ua,u=t(n,i)}while(Es);return u}function Fp(){var e=se.H,t=e.useState()[0];return t=typeof t.then=="function"?di(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(Ce.flags|=1024),t}function wo(){var e=xl!==0;return xl=0,e}function xo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Co(e){if(wl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wl=!1}Jn=0,tt=Be=Ce=null,Es=!1,fi=xl=0,ws=null}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ce.memoizedState=tt=e:tt=tt.next=e,tt}function nt(){if(Be===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=tt===null?Ce.memoizedState:tt.next;if(t!==null)tt=t,Be=e;else{if(e===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},tt===null?Ce.memoizedState=tt=e:tt=tt.next=e}return tt}var Cl;Cl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function di(e){var t=fi;return fi+=1,ws===null&&(ws=[]),e=Kf(ws,e,t),t=Ce,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,se.H=t===null||t.memoizedState===null?ja:Pn),e}function Ml(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return di(e);if(e.$$typeof===R)return yt(e)}throw Error(r(438,String(e)))}function Mo(e){var t=null,n=Ce.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Ce.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Cl(),Ce.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=ie;return t.index++,n}function _n(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=nt();return To(t,Be,e)}function To(e,t,n){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var o=e.baseQueue,u=i.pending;if(u!==null){if(o!==null){var g=o.next;o.next=u.next,u.next=g}t.baseQueue=o=u,i.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var S=g=null,C=null,A=t,G=!1;do{var J=A.lane&-536870913;if(J!==A.lane?(je&J)===J:(Jn&J)===J){var z=A.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),J===Ss&&(G=!0);else if((Jn&z)===z){A=A.next,z===Ss&&(G=!0);continue}else J={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},C===null?(S=C=J,g=u):C=C.next=J,Ce.lanes|=z,la|=z;J=A.action,ka&&n(u,J),u=A.hasEagerState?A.eagerState:n(u,J)}else z={lane:J,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},C===null?(S=C=z,g=u):C=C.next=z,Ce.lanes|=J,la|=J;A=A.next}while(A!==null&&A!==t);if(C===null?g=u:C.next=S,!Lt(u,e.memoizedState)&&(ct=!0,G&&(n=bs,n!==null)))throw n;e.memoizedState=u,e.baseState=g,e.baseQueue=C,i.lastRenderedState=u}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function No(e){var t=nt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var g=o=o.next;do u=e(u,g.action),g=g.next;while(g!==o);Lt(u,t.memoizedState)||(ct=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,i]}function rd(e,t,n){var i=Ce,o=nt(),u=Ue;if(u){if(n===void 0)throw Error(r(407));n=n()}else n=t();var g=!Lt((Be||o).memoizedState,n);if(g&&(o.memoizedState=n,ct=!0),o=o.queue,Ro(ud.bind(null,i,o,e),[e]),o.getSnapshot!==t||g||tt!==null&&tt.memoizedState.tag&1){if(i.flags|=2048,xs(9,cd.bind(null,i,o,n,t),{destroy:void 0},null),Ye===null)throw Error(r(349));u||(Jn&60)!==0||od(i,t,n)}return n}function od(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t=Cl(),Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cd(e,t,n,i){t.value=n,t.getSnapshot=i,fd(t)&&dd(e)}function ud(e,t,n){return n(function(){fd(t)&&dd(e)})}function fd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lt(e,n)}catch{return!0}}function dd(e){var t=Fn(e,2);t!==null&&Mt(t,e,2)}function Ao(e){var t=Dt();if(typeof e=="function"){var n=e;if(e=n(),ka){te(!0);try{n()}finally{te(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},t}function hd(e,t,n,i){return e.baseState=n,To(e,Be,typeof i=="function"?i:_n)}function $p(e,t,n,i,o){if(_l(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){u.listeners.push(g)}};se.T!==null?n(!0):u.isTransition=!1,i(u),n=t.pending,n===null?(u.next=t.pending=u,md(t,u)):(u.next=n.next,t.pending=n.next=u)}}function md(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var u=se.T,g={};se.T=g;try{var S=n(o,i),C=se.S;C!==null&&C(g,S),gd(e,t,S)}catch(A){_o(e,t,A)}finally{se.T=u}}else try{u=n(o,i),gd(e,t,u)}catch(A){_o(e,t,A)}}function gd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){pd(e,t,i)},function(i){return _o(e,t,i)}):pd(e,t,n)}function pd(e,t,n){t.status="fulfilled",t.value=n,yd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,md(e,n)))}function _o(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,yd(t),t=t.next;while(t!==i)}e.action=null}function yd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function vd(e,t){return t}function Sd(e,t){if(Ue){var n=Ye.formState;if(n!==null){e:{var i=Ce;if(Ue){if(ht){t:{for(var o=ht,u=gn;o.nodeType!==8;){if(!u){o=null;break t}if(o=on(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){ht=on(o.nextSibling),i=o.data==="F!";break e}}_a(i)}i=!1}i&&(t=n[0])}}return n=Dt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vd,lastRenderedState:t},n.queue=i,n=Ld.bind(null,Ce,i),i.dispatch=n,i=Ao(!1),u=Do.bind(null,Ce,!1,i.queue),i=Dt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=$p.bind(null,Ce,o,u,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function bd(e){var t=nt();return Ed(t,Be,e)}function Ed(e,t,n){t=To(e,t,vd)[0],e=Tl(_n)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?di(t):t;var i=nt(),o=i.queue,u=o.dispatch;return n!==i.memoizedState&&(Ce.flags|=2048,xs(9,Kp.bind(null,o,n),{destroy:void 0},null)),[t,u,e]}function Kp(e,t){e.action=t}function wd(e){var t=nt(),n=Be;if(n!==null)return Ed(t,n,e);nt(),t=t.memoizedState,n=nt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function xs(e,t,n,i){return e={tag:e,create:t,inst:n,deps:i,next:null},t=Ce.updateQueue,t===null&&(t=Cl(),Ce.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function xd(){return nt().memoizedState}function Nl(e,t,n,i){var o=Dt();Ce.flags|=e,o.memoizedState=xs(1|t,n,{destroy:void 0},i===void 0?null:i)}function Al(e,t,n,i){var o=nt();i=i===void 0?null:i;var u=o.memoizedState.inst;Be!==null&&i!==null&&bo(i,Be.memoizedState.deps)?o.memoizedState=xs(t,n,u,i):(Ce.flags|=e,o.memoizedState=xs(1|t,n,u,i))}function Cd(e,t){Nl(8390656,8,e,t)}function Ro(e,t){Al(2048,8,e,t)}function Md(e,t){return Al(4,2,e,t)}function Td(e,t){return Al(4,4,e,t)}function Nd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ad(e,t,n){n=n!=null?n.concat([e]):null,Al(4,4,Nd.bind(null,t,e),n)}function Oo(){}function _d(e,t){var n=nt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&bo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Rd(e,t){var n=nt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&bo(t,i[1]))return i[0];if(i=e(),ka){te(!0);try{e()}finally{te(!1)}}return n.memoizedState=[i,t],i}function ko(e,t,n){return n===void 0||(Jn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=k0(),Ce.lanes|=e,la|=e,n)}function Od(e,t,n,i){return Lt(n,t)?n:vs.current!==null?(e=ko(e,n,i),Lt(e,t)||(ct=!0),e):(Jn&42)===0?(ct=!0,e.memoizedState=n):(e=k0(),Ce.lanes|=e,la|=e,t)}function kd(e,t,n,i,o){var u=U.p;U.p=u!==0&&8>u?u:8;var g=se.T,S={};se.T=S,Do(e,!1,t,n);try{var C=o(),A=se.S;if(A!==null&&A(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=Xp(C,i);hi(e,t,G,Gt(e))}else hi(e,t,i,Gt(e))}catch(J){hi(e,t,{then:function(){},status:"rejected",reason:J},Gt())}finally{U.p=u,se.T=g}}function Jp(){}function jo(e,t,n,i){if(e.tag!==5)throw Error(r(476));var o=jd(e).queue;kd(e,o,t,H,n===null?Jp:function(){return Ud(e),n(i)})}function jd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:H},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ud(e){var t=jd(e).next.queue;hi(e,t,{},Gt())}function Uo(){return yt(ji)}function Dd(){return nt().memoizedState}function zd(){return nt().memoizedState}function Pp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Gt();e=ea(n);var i=ta(t,e,n);i!==null&&(Mt(i,t,n),pi(i,t,n)),t={cache:yo()},e.payload=t;return}t=t.return}}function Wp(e,t,n){var i=Gt();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},_l(e)?Bd(t,n):(n=co(e,t,n,i),n!==null&&(Mt(n,e,i),qd(n,t,i)))}function Ld(e,t,n){var i=Gt();hi(e,t,n,i)}function hi(e,t,n,i){var o={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(_l(e))Bd(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var g=t.lastRenderedState,S=u(g,n);if(o.hasEagerState=!0,o.eagerState=S,Lt(S,g))return dl(e,t,o,0),Ye===null&&fl(),!1}catch{}finally{}if(n=co(e,t,o,i),n!==null)return Mt(n,e,i),qd(n,t,i),!0}return!1}function Do(e,t,n,i){if(i={lane:2,revertLane:Cc(),action:i,hasEagerState:!1,eagerState:null,next:null},_l(e)){if(t)throw Error(r(479))}else t=co(e,n,i,2),t!==null&&Mt(t,e,2)}function _l(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Bd(e,t){Es=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qd(e,t,n){if((n&4194176)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ku(e,n)}}var yn={readContext:yt,use:Ml,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We};yn.useCacheRefresh=We,yn.useMemoCache=We,yn.useHostTransitionStatus=We,yn.useFormState=We,yn.useActionState=We,yn.useOptimistic=We;var ja={readContext:yt,use:Ml,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:Cd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Nl(4194308,4,Nd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nl(4194308,4,e,t)},useInsertionEffect:function(e,t){Nl(4,2,e,t)},useMemo:function(e,t){var n=Dt();t=t===void 0?null:t;var i=e();if(ka){te(!0);try{e()}finally{te(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Dt();if(n!==void 0){var o=n(t);if(ka){te(!0);try{n(t)}finally{te(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=Wp.bind(null,Ce,e),[i.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ao(e);var t=e.queue,n=Ld.bind(null,Ce,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Oo,useDeferredValue:function(e,t){var n=Dt();return ko(n,e,t)},useTransition:function(){var e=Ao(!1);return e=kd.bind(null,Ce,e.queue,!0,!1),Dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Ce,o=Dt();if(Ue){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Ye===null)throw Error(r(349));(je&60)!==0||od(i,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,Cd(ud.bind(null,i,u,e),[e]),i.flags|=2048,xs(9,cd.bind(null,i,u,n,t),{destroy:void 0},null),n},useId:function(){var e=Dt(),t=Ye.identifierPrefix;if(Ue){var n=Nn,i=Tn;n=(i&~(1<<32-I(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=xl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Qp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Dt().memoizedState=Pp.bind(null,Ce)}};ja.useMemoCache=Mo,ja.useHostTransitionStatus=Uo,ja.useFormState=Sd,ja.useActionState=Sd,ja.useOptimistic=function(e){var t=Dt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Do.bind(null,Ce,!0,n),n.dispatch=t,[e,t]};var Pn={readContext:yt,use:Ml,useCallback:_d,useContext:yt,useEffect:Ro,useImperativeHandle:Ad,useInsertionEffect:Md,useLayoutEffect:Td,useMemo:Rd,useReducer:Tl,useRef:xd,useState:function(){return Tl(_n)},useDebugValue:Oo,useDeferredValue:function(e,t){var n=nt();return Od(n,Be.memoizedState,e,t)},useTransition:function(){var e=Tl(_n)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:di(e),t]},useSyncExternalStore:rd,useId:Dd};Pn.useCacheRefresh=zd,Pn.useMemoCache=Mo,Pn.useHostTransitionStatus=Uo,Pn.useFormState=bd,Pn.useActionState=bd,Pn.useOptimistic=function(e,t){var n=nt();return hd(n,Be,e,t)};var Ua={readContext:yt,use:Ml,useCallback:_d,useContext:yt,useEffect:Ro,useImperativeHandle:Ad,useInsertionEffect:Md,useLayoutEffect:Td,useMemo:Rd,useReducer:No,useRef:xd,useState:function(){return No(_n)},useDebugValue:Oo,useDeferredValue:function(e,t){var n=nt();return Be===null?ko(n,e,t):Od(n,Be.memoizedState,e,t)},useTransition:function(){var e=No(_n)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:di(e),t]},useSyncExternalStore:rd,useId:Dd};Ua.useCacheRefresh=zd,Ua.useMemoCache=Mo,Ua.useHostTransitionStatus=Uo,Ua.useFormState=wd,Ua.useActionState=wd,Ua.useOptimistic=function(e,t){var n=nt();return Be!==null?hd(n,Be,e,t):(n.baseState=e,[e,n.queue.dispatch])};function zo(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Lo={isMounted:function(e){return(e=e._reactInternals)?re(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Gt(),o=ea(i);o.payload=t,n!=null&&(o.callback=n),t=ta(e,o,i),t!==null&&(Mt(t,e,i),pi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Gt(),o=ea(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ta(e,o,i),t!==null&&(Mt(t,e,i),pi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gt(),i=ea(n);i.tag=2,t!=null&&(i.callback=t),t=ta(e,i,n),t!==null&&(Mt(t,e,n),pi(t,e,n))}};function Hd(e,t,n,i,o,u,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,g):t.prototype&&t.prototype.isPureReactComponent?!ei(n,i)||!ei(o,u):!0}function Gd(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function Da(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=me({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}var Rl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Yd(e){Rl(e)}function Vd(e){console.error(e)}function Zd(e){Rl(e)}function Ol(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Xd(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Bo(e,t,n){return n=ea(n),n.tag=3,n.payload={element:null},n.callback=function(){Ol(e,t)},n}function Qd(e){return e=ea(e),e.tag=3,e}function Fd(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=i.value;e.payload=function(){return o(u)},e.callback=function(){Xd(t,n,i)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Xd(t,n,i),typeof o!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})})}function Ip(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&gi(t,n,o,!0),n=Pt.current,n!==null){switch(n.tag){case 13:return pn===null?Sc():n.alternate===null&&Je===0&&(Je=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===mo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Ec(e,i,o)),!1;case 22:return n.flags|=65536,i===mo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Ec(e,i,o)),!1}throw Error(r(435,n.tag))}return Ec(e,i,o),Sc(),!1}if(Ue)return t=Pt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==ho&&(e=Error(r(422),{cause:i}),si($t(e,n)))):(i!==ho&&(t=Error(r(423),{cause:i}),si($t(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=$t(i,n),o=Bo(e.stateNode,i,o),Io(e,o),Je!==4&&(Je=2)),!1;var u=Error(r(520),{cause:i});if(u=$t(u,n),Ci===null?Ci=[u]:Ci.push(u),Je!==4&&(Je=2),t===null)return!0;i=$t(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Bo(n.stateNode,i,e),Io(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ra===null||!ra.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Qd(o),Fd(o,e,n,i),Io(n,o),!1}n=n.return}while(n!==null);return!1}var $d=Error(r(461)),ct=!1;function mt(e,t,n,i){t.child=e===null?If(t,null,n,i):Ra(t,e.child,n,i)}function Kd(e,t,n,i,o){n=n.render;var u=t.ref;if("ref"in i){var g={};for(var S in i)S!=="ref"&&(g[S]=i[S])}else g=i;return La(t),i=Eo(e,t,n,g,u,o),S=wo(),e!==null&&!ct?(xo(e,t,o),Rn(e,t,o)):(Ue&&S&&uo(t),t.flags|=1,mt(e,t,i,o),t.child)}function Jd(e,t,n,i,o){if(e===null){var u=n.type;return typeof u=="function"&&!rc(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Pd(e,t,u,i,o)):(e=zl(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Fo(e,o)){var g=u.memoizedProps;if(n=n.compare,n=n!==null?n:ei,n(g,i)&&e.ref===t.ref)return Rn(e,t,o)}return t.flags|=1,e=ia(u,i),e.ref=t.ref,e.return=t,t.child=e}function Pd(e,t,n,i,o){if(e!==null){var u=e.memoizedProps;if(ei(u,i)&&e.ref===t.ref)if(ct=!1,t.pendingProps=i=u,Fo(e,o))(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,Rn(e,t,o)}return qo(e,t,n,i,o)}function Wd(e,t,n){var i=t.pendingProps,o=i.children,u=(t.stateNode._pendingVisibility&2)!==0,g=e!==null?e.memoizedState:null;if(mi(e,t),i.mode==="hidden"||u){if((t.flags&128)!==0){if(i=g!==null?g.baseLanes|n:n,e!==null){for(o=t.child=e.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;t.childLanes=u&~i}else t.childLanes=0,t.child=null;return Id(e,t,i,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&El(t,g!==null?g.cachePool:null),g!==null?ed(t,g):go(),td(t);else return t.lanes=t.childLanes=536870912,Id(e,t,g!==null?g.baseLanes|n:n,n)}else g!==null?(El(t,g.cachePool),ed(t,g),Kn(),t.memoizedState=null):(e!==null&&El(t,null),go(),Kn());return mt(e,t,o,n),t.child}function Id(e,t,n,i){var o=So();return o=o===null?null:{parent:rt._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&El(t,null),go(),td(t),e!==null&&gi(e,t,i,!0),null}function mi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=2097664)}}function qo(e,t,n,i,o){return La(t),n=Eo(e,t,n,i,void 0,o),i=wo(),e!==null&&!ct?(xo(e,t,o),Rn(e,t,o)):(Ue&&i&&uo(t),t.flags|=1,mt(e,t,n,o),t.child)}function e0(e,t,n,i,o,u){return La(t),t.updateQueue=null,n=ld(t,i,n,o),id(e),i=wo(),e!==null&&!ct?(xo(e,t,u),Rn(e,t,u)):(Ue&&i&&uo(t),t.flags|=1,mt(e,t,n,u),t.child)}function t0(e,t,n,i,o){if(La(t),t.stateNode===null){var u=ms,g=n.contextType;typeof g=="object"&&g!==null&&(u=yt(g)),u=new n(i,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Lo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=i,u.state=t.memoizedState,u.refs={},Po(t),g=n.contextType,u.context=typeof g=="object"&&g!==null?yt(g):ms,u.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(zo(t,n,g,i),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(g=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),g!==u.state&&Lo.enqueueReplaceState(u,u.state,null),vi(t,i,u,o),yi(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){u=t.stateNode;var S=t.memoizedProps,C=Da(n,S);u.props=C;var A=u.context,G=n.contextType;g=ms,typeof G=="object"&&G!==null&&(g=yt(G));var J=n.getDerivedStateFromProps;G=typeof J=="function"||typeof u.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,G||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(S||A!==g)&&Gd(t,u,i,g),In=!1;var z=t.memoizedState;u.state=z,vi(t,i,u,o),yi(),A=t.memoizedState,S||z!==A||In?(typeof J=="function"&&(zo(t,n,J,i),A=t.memoizedState),(C=In||Hd(t,n,C,i,z,A,g))?(G||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=A),u.props=i,u.state=A,u.context=g,i=C):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,Wo(e,t),g=t.memoizedProps,G=Da(n,g),u.props=G,J=t.pendingProps,z=u.context,A=n.contextType,C=ms,typeof A=="object"&&A!==null&&(C=yt(A)),S=n.getDerivedStateFromProps,(A=typeof S=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g!==J||z!==C)&&Gd(t,u,i,C),In=!1,z=t.memoizedState,u.state=z,vi(t,i,u,o),yi();var q=t.memoizedState;g!==J||z!==q||In||e!==null&&e.dependencies!==null&&kl(e.dependencies)?(typeof S=="function"&&(zo(t,n,S,i),q=t.memoizedState),(G=In||Hd(t,n,G,i,z,q,C)||e!==null&&e.dependencies!==null&&kl(e.dependencies))?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,q,C),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,q,C)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=q),u.props=i,u.state=q,u.context=C,i=G):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),i=!1)}return u=i,mi(e,t),i=(t.flags&128)!==0,u||i?(u=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&i?(t.child=Ra(t,e.child,null,o),t.child=Ra(t,null,n,o)):mt(e,t,n,o),t.memoizedState=u.state,e=t.child):e=Rn(e,t,o),e}function n0(e,t,n,i){return ai(),t.flags|=256,mt(e,t,n,i),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0};function Go(e){return{baseLanes:e,cachePool:sd()}}function Yo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=tn),e}function a0(e,t,n){var i=t.pendingProps,o=!1,u=(t.flags&128)!==0,g;if((g=u)||(g=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ue){if(o?$n(t):Kn(),Ue){var S=ht,C;if(C=S){e:{for(C=S,S=gn;C.nodeType!==8;){if(!S){S=null;break e}if(C=on(C.nextSibling),C===null){S=null;break e}}S=C}S!==null?(t.memoizedState={dehydrated:S,treeContext:Na!==null?{id:Tn,overflow:Nn}:null,retryLane:536870912},C=en(18,null,null,0),C.stateNode=S,C.return=t,t.child=C,Ct=t,ht=null,C=!0):C=!1}C||_a(t)}if(S=t.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?t.lanes=16:t.lanes=536870912,null;An(t)}return S=i.children,i=i.fallback,o?(Kn(),o=t.mode,S=Zo({mode:"hidden",children:S},o),i=qa(i,o,n,null),S.return=t,i.return=t,S.sibling=i,t.child=S,o=t.child,o.memoizedState=Go(n),o.childLanes=Yo(e,g,n),t.memoizedState=Ho,i):($n(t),Vo(t,S))}if(C=e.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(u)t.flags&256?($n(t),t.flags&=-257,t=Xo(e,t,n)):t.memoizedState!==null?(Kn(),t.child=e.child,t.flags|=128,t=null):(Kn(),o=i.fallback,S=t.mode,i=Zo({mode:"visible",children:i.children},S),o=qa(o,S,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,Ra(t,e.child,null,n),i=t.child,i.memoizedState=Go(n),i.childLanes=Yo(e,g,n),t.memoizedState=Ho,t=o);else if($n(t),S.data==="$!"){if(g=S.nextSibling&&S.nextSibling.dataset,g)var A=g.dgst;g=A,i=Error(r(419)),i.stack="",i.digest=g,si({value:i,source:null,stack:null}),t=Xo(e,t,n)}else if(ct||gi(e,t,n,!1),g=(n&e.childLanes)!==0,ct||g){if(g=Ye,g!==null){if(i=n&-n,(i&42)!==0)i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(i=(i&(g.suspendedLanes|n))!==0?0:i,i!==0&&i!==C.retryLane)throw C.retryLane=i,Fn(e,i),Mt(g,e,i),$d}S.data==="$?"||Sc(),t=Xo(e,t,n)}else S.data==="$?"?(t.flags|=128,t.child=e.child,t=m1.bind(null,e),S._reactRetry=t,t=null):(e=C.treeContext,ht=on(S.nextSibling),Ct=t,Ue=!0,ln=null,gn=!1,e!==null&&(Kt[Jt++]=Tn,Kt[Jt++]=Nn,Kt[Jt++]=Na,Tn=e.id,Nn=e.overflow,Na=t),t=Vo(t,i.children),t.flags|=4096);return t}return o?(Kn(),o=i.fallback,S=t.mode,C=e.child,A=C.sibling,i=ia(C,{mode:"hidden",children:i.children}),i.subtreeFlags=C.subtreeFlags&31457280,A!==null?o=ia(A,o):(o=qa(o,S,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,S=e.child.memoizedState,S===null?S=Go(n):(C=S.cachePool,C!==null?(A=rt._currentValue,C=C.parent!==A?{parent:A,pool:A}:C):C=sd(),S={baseLanes:S.baseLanes|n,cachePool:C}),o.memoizedState=S,o.childLanes=Yo(e,g,n),t.memoizedState=Ho,i):($n(t),n=e.child,e=n.sibling,n=ia(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=n,t.memoizedState=null,n)}function Vo(e,t){return t=Zo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zo(e,t){return _0(e,t,0,null)}function Xo(e,t,n){return Ra(t,e.child,null,n),e=Vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s0(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ko(e.return,t,n)}function Qo(e,t,n,i,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=n,u.tailMode=o)}function i0(e,t,n){var i=t.pendingProps,o=i.revealOrder,u=i.tail;if(mt(e,t,i.children,n),i=lt.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&s0(e,n,t);else if(e.tag===19)s0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(fe(lt,i),o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&bl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Qo(t,!1,o,n,u);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&bl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Qo(t,!0,n,null,u);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),la|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(gi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=ia(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ia(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&kl(e)))}function e1(e,t,n){switch(t.tag){case 3:et(t,t.stateNode.containerInfo),Wn(t,rt,e.memoizedState.cache),ai();break;case 27:case 5:Vt(t);break;case 4:et(t,t.stateNode.containerInfo);break;case 10:Wn(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?($n(t),t.flags|=128,null):(n&t.child.childLanes)!==0?a0(e,t,n):($n(t),e=Rn(e,t,n),e!==null?e.sibling:null);$n(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(gi(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return i0(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),fe(lt,lt.current),i)break;return null;case 22:case 23:return t.lanes=0,Wd(e,t,n);case 24:Wn(t,rt,e.memoizedState.cache)}return Rn(e,t,n)}function l0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!Fo(e,n)&&(t.flags&128)===0)return ct=!1,e1(e,t,n);ct=(e.flags&131072)!==0}else ct=!1,Ue&&(t.flags&1048576)!==0&&Zf(t,gl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,o=i._init;if(i=o(i._payload),t.type=i,typeof i=="function")rc(i)?(e=Da(i,e),t.tag=1,t=t0(null,t,i,e,n)):(t.tag=0,t=qo(null,t,i,e,n));else{if(i!=null){if(o=i.$$typeof,o===x){t.tag=11,t=Kd(null,t,i,e,n);break e}else if(o===j){t.tag=14,t=Jd(null,t,i,e,n);break e}}throw t=pe(i)||i,Error(r(306,t,""))}}return t;case 0:return qo(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=Da(i,t.pendingProps),t0(e,t,i,o,n);case 3:e:{if(et(t,t.stateNode.containerInfo),e===null)throw Error(r(387));var u=t.pendingProps;o=t.memoizedState,i=o.element,Wo(e,t),vi(t,u,null,n);var g=t.memoizedState;if(u=g.cache,Wn(t,rt,u),u!==o.cache&&Jo(t,[rt],n,!0),yi(),u=g.element,o.isDehydrated)if(o={element:u,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=n0(e,t,u,n);break e}else if(u!==i){i=$t(Error(r(424)),t),si(i),t=n0(e,t,u,n);break e}else for(ht=on(t.stateNode.containerInfo.firstChild),Ct=t,Ue=!0,ln=null,gn=!0,n=If(t,null,u,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ai(),u===i){t=Rn(e,t,n);break e}mt(e,t,u,n)}t=t.child}return t;case 26:return mi(e,t),e===null?(n=ch(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ue||(n=t.type,e=t.pendingProps,i=$l(At.current).createElement(n),i[pt]=t,i[jt]=e,gt(i,n,e),ot(i),t.stateNode=i):t.memoizedState=ch(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Vt(t),e===null&&Ue&&(i=t.stateNode=lh(t.type,t.pendingProps,At.current),Ct=t,gn=!0,ht=on(i.firstChild)),i=t.pendingProps.children,e!==null||Ue?mt(e,t,i,n):t.child=Ra(t,null,i,n),mi(e,t),t.child;case 5:return e===null&&Ue&&((o=i=ht)&&(i=R1(i,t.type,t.pendingProps,gn),i!==null?(t.stateNode=i,Ct=t,ht=on(i.firstChild),gn=!1,o=!0):o=!1),o||_a(t)),Vt(t),o=t.type,u=t.pendingProps,g=e!==null?e.memoizedProps:null,i=u.children,jc(o,u)?i=null:g!==null&&jc(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=Eo(e,t,Fp,null,null,n),ji._currentValue=o),mi(e,t),mt(e,t,i,n),t.child;case 6:return e===null&&Ue&&((e=n=ht)&&(n=O1(n,t.pendingProps,gn),n!==null?(t.stateNode=n,Ct=t,ht=null,e=!0):e=!1),e||_a(t)),null;case 13:return a0(e,t,n);case 4:return et(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ra(t,null,i,n):mt(e,t,i,n),t.child;case 11:return Kd(e,t,t.type,t.pendingProps,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Wn(t,t.type,i.value),mt(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,La(t),o=yt(o),i=i(o),t.flags|=1,mt(e,t,i,n),t.child;case 14:return Jd(e,t,t.type,t.pendingProps,n);case 15:return Pd(e,t,t.type,t.pendingProps,n);case 19:return i0(e,t,n);case 22:return Wd(e,t,n);case 24:return La(t),i=yt(rt),e===null?(o=So(),o===null&&(o=Ye,u=yo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:i,cache:o},Po(t),Wn(t,rt,o)):((e.lanes&n)!==0&&(Wo(e,t),vi(t,null,null,n),yi()),o=e.memoizedState,u=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Wn(t,rt,i)):(i=u.cache,Wn(t,rt,i),i!==o.cache&&Jo(t,[rt],n,!0))),mt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}var $o=X(null),za=null,On=null;function Wn(e,t,n){fe($o,t._currentValue),t._currentValue=n}function kn(e){e._currentValue=$o.current,ae($o)}function Ko(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Jo(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var g=o.child;u=u.firstContext;e:for(;u!==null;){var S=u;u=o;for(var C=0;C<t.length;C++)if(S.context===t[C]){u.lanes|=n,S=u.alternate,S!==null&&(S.lanes|=n),Ko(u.return,n,e),i||(g=null);break e}u=S.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(r(341));g.lanes|=n,u=g.alternate,u!==null&&(u.lanes|=n),Ko(g,n,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function gi(e,t,n,i){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var S=o.type;Lt(o.pendingProps.value,g.value)||(e!==null?e.push(S):e=[S])}}else if(o===dn.current){if(g=o.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ji):e=[ji])}o=o.return}e!==null&&Jo(t,e,n,i),t.flags|=262144}function kl(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function La(e){za=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yt(e){return r0(za,e)}function jl(e,t){return za===null&&La(e),r0(e,t)}function r0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},On===null){if(e===null)throw Error(r(308));On=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else On=On.next=t;return n}var In=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ta(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Fe&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=hl(e),Yf(e,null,n),t}return dl(e,i,t,n),hl(e)}function pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194176)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ku(e,n)}}function Io(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=g:u=u.next=g,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ec=!1;function yi(){if(ec){var e=bs;if(e!==null)throw e}}function vi(e,t,n,i){ec=!1;var o=e.updateQueue;In=!1;var u=o.firstBaseUpdate,g=o.lastBaseUpdate,S=o.shared.pending;if(S!==null){o.shared.pending=null;var C=S,A=C.next;C.next=null,g===null?u=A:g.next=A,g=C;var G=e.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==g&&(S===null?G.firstBaseUpdate=A:S.next=A,G.lastBaseUpdate=C))}if(u!==null){var J=o.baseState;g=0,G=A=C=null,S=u;do{var z=S.lane&-536870913,q=z!==S.lane;if(q?(je&z)===z:(i&z)===z){z!==0&&z===Ss&&(ec=!0),G!==null&&(G=G.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ue=e,be=S;z=t;var Pe=n;switch(be.tag){case 1:if(ue=be.payload,typeof ue=="function"){J=ue.call(Pe,J,z);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=be.payload,z=typeof ue=="function"?ue.call(Pe,J,z):ue,z==null)break e;J=me({},J,z);break e;case 2:In=!0}}z=S.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=o.callbacks,q===null?o.callbacks=[z]:q.push(z))}else q={lane:z,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(A=G=q,C=J):G=G.next=q,g|=z;if(S=S.next,S===null){if(S=o.shared.pending,S===null)break;q=S,S=q.next,q.next=null,o.lastBaseUpdate=q,o.shared.pending=null}}while(!0);G===null&&(C=J),o.baseState=C,o.firstBaseUpdate=A,o.lastBaseUpdate=G,u===null&&(o.shared.lanes=0),la|=g,e.lanes=g,e.memoizedState=J}}function o0(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function c0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)o0(n[e],t)}function Si(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var u=n.create,g=n.inst;i=u(),g.destroy=i}n=n.next}while(n!==o)}}catch(S){Ge(t,t.return,S)}}function na(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){var g=i.inst,S=g.destroy;if(S!==void 0){g.destroy=void 0,o=t;var C=n;try{S()}catch(A){Ge(o,C,A)}}}i=i.next}while(i!==u)}}catch(A){Ge(t,t.return,A)}}function u0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{c0(t,n)}catch(i){Ge(e,e.return,i)}}}function f0(e,t,n){n.props=Da(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Ge(e,t,i)}}function Ba(e,t){try{var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=i;break;default:o=i}typeof n=="function"?e.refCleanup=n(o):n.current=o}}catch(u){Ge(e,t,u)}}function Bt(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){Ge(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Ge(e,t,o)}else n.current=null}function d0(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){Ge(e,e.return,o)}}function h0(e,t,n){try{var i=e.stateNode;M1(i,e.type,n,t),i[jt]=t}catch(o){Ge(e,e.return,o)}}function m0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||m0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fl));else if(i!==4&&i!==27&&(e=e.child,e!==null))for(nc(e,t,n),e=e.sibling;e!==null;)nc(e,t,n),e=e.sibling}function Ul(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&i!==27&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}var jn=!1,Ke=!1,ac=!1,g0=typeof WeakSet=="function"?WeakSet:Set,ut=null,p0=!1;function t1(e,t){if(e=e.containerInfo,Oc=er,e=jf(e),so(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var g=0,S=-1,C=-1,A=0,G=0,J=e,z=null;t:for(;;){for(var q;J!==n||o!==0&&J.nodeType!==3||(S=g+o),J!==u||i!==0&&J.nodeType!==3||(C=g+i),J.nodeType===3&&(g+=J.nodeValue.length),(q=J.firstChild)!==null;)z=J,J=q;for(;;){if(J===e)break t;if(z===n&&++A===o&&(S=g),z===u&&++G===i&&(C=g),(q=J.nextSibling)!==null)break;J=z,z=J.parentNode}J=q}n=S===-1||C===-1?null:{start:S,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(kc={focusedElem:e,selectionRange:n},er=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){switch(t=ut,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,i=n.stateNode;try{var ue=Da(n.type,o,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(ue,u),i.__reactInternalSnapshotBeforeUpdate=e}catch(be){Ge(n,n.return,be)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)zc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}return ue=p0,p0=!1,ue}function y0(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Dn(e,n),i&4&&Si(5,n);break;case 1:if(Dn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(S){Ge(n,n.return,S)}else{var o=Da(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Ge(n,n.return,S)}}i&64&&u0(n),i&512&&Ba(n,n.return);break;case 3:if(Dn(e,n),i&64&&(i=n.updateQueue,i!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{c0(i,e)}catch(S){Ge(n,n.return,S)}}break;case 26:Dn(e,n),i&512&&Ba(n,n.return);break;case 27:case 5:Dn(e,n),t===null&&i&4&&d0(n),i&512&&Ba(n,n.return);break;case 12:Dn(e,n);break;case 13:Dn(e,n),i&4&&b0(e,n);break;case 22:if(o=n.memoizedState!==null||jn,!o){t=t!==null&&t.memoizedState!==null||Ke;var u=jn,g=Ke;jn=o,(Ke=t)&&!g?aa(e,n,(n.subtreeFlags&8772)!==0):Dn(e,n),jn=u,Ke=g}i&512&&(n.memoizedProps.mode==="manual"?Ba(n,n.return):Bt(n,n.return));break;default:Dn(e,n)}}function v0(e){var t=e.alternate;t!==null&&(e.alternate=null,v0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,qt=!1;function Un(e,t,n){for(n=n.child;n!==null;)S0(e,t,n),n=n.sibling}function S0(e,t,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(ba,n)}catch{}switch(n.tag){case 26:Ke||Bt(n,t),Un(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ke||Bt(n,t);var i=at,o=qt;for(at=n.stateNode,Un(e,t,n),n=n.stateNode,t=n.attributes;t.length;)n.removeAttributeNode(t[0]);Yr(n),at=i,qt=o;break;case 5:Ke||Bt(n,t);case 6:o=at;var u=qt;if(at=null,Un(e,t,n),at=o,qt=u,at!==null)if(qt)try{e=at,i=n.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)}catch(g){Ge(n,t,g)}else try{at.removeChild(n.stateNode)}catch(g){Ge(n,t,g)}break;case 18:at!==null&&(qt?(t=at,n=n.stateNode,t.nodeType===8?Dc(t.parentNode,n):t.nodeType===1&&Dc(t,n),Li(t)):Dc(at,n.stateNode));break;case 4:i=at,o=qt,at=n.stateNode.containerInfo,qt=!0,Un(e,t,n),at=i,qt=o;break;case 0:case 11:case 14:case 15:Ke||na(2,n,t),Ke||na(4,n,t),Un(e,t,n);break;case 1:Ke||(Bt(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&f0(n,t,i)),Un(e,t,n);break;case 21:Un(e,t,n);break;case 22:Ke||Bt(n,t),Ke=(i=Ke)||n.memoizedState!==null,Un(e,t,n),Ke=i;break;default:Un(e,t,n)}}function b0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Li(e)}catch(n){Ge(t,t.return,n)}}function n1(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new g0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new g0),t;default:throw Error(r(435,e.tag))}}function sc(e,t){var n=n1(e);t.forEach(function(i){var o=g1.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}function Wt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],u=e,g=t,S=g;e:for(;S!==null;){switch(S.tag){case 27:case 5:at=S.stateNode,qt=!1;break e;case 3:at=S.stateNode.containerInfo,qt=!0;break e;case 4:at=S.stateNode.containerInfo,qt=!0;break e}S=S.return}if(at===null)throw Error(r(160));S0(u,g,o),at=null,qt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)E0(t,e),t=t.sibling}var rn=null;function E0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wt(t,e),It(e),i&4&&(na(3,e,e.return),Si(3,e),na(5,e,e.return));break;case 1:Wt(t,e),It(e),i&512&&(Ke||n===null||Bt(n,n.return)),i&64&&jn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=rn;if(Wt(t,e),It(e),i&512&&(Ke||n===null||Bt(n,n.return)),i&4){var u=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Xs]||u[pt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(i),o.head.insertBefore(u,o.querySelector("head > title"))),gt(u,i,n),u[pt]=e,ot(u),i=u;break e;case"link":var g=dh("link","href",o).get(i+(n.href||""));if(g){for(var S=0;S<g.length;S++)if(u=g[S],u.getAttribute("href")===(n.href==null?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(S,1);break t}}u=o.createElement(i),gt(u,i,n),o.head.appendChild(u);break;case"meta":if(g=dh("meta","content",o).get(i+(n.content||""))){for(S=0;S<g.length;S++)if(u=g[S],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(S,1);break t}}u=o.createElement(i),gt(u,i,n),o.head.appendChild(u);break;default:throw Error(r(468,i))}u[pt]=e,ot(u),i=u}e.stateNode=i}else hh(o,e.type,e.stateNode);else e.stateNode=fh(o,i,e.memoizedProps);else u!==i?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,i===null?hh(o,e.type,e.stateNode):fh(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&h0(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(i&4&&e.alternate===null){o=e.stateNode,u=e.memoizedProps;try{for(var C=o.firstChild;C;){var A=C.nextSibling,G=C.nodeName;C[Xs]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&C.rel.toLowerCase()==="stylesheet"||o.removeChild(C),C=A}for(var J=e.type,z=o.attributes;z.length;)o.removeAttributeNode(z[0]);gt(o,J,u),o[pt]=e,o[jt]=u}catch(ue){Ge(e,e.return,ue)}}case 5:if(Wt(t,e),It(e),i&512&&(Ke||n===null||Bt(n,n.return)),e.flags&32){o=e.stateNode;try{rs(o,"")}catch(ue){Ge(e,e.return,ue)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,h0(e,o,n!==null?n.memoizedProps:o)),i&1024&&(ac=!0);break;case 6:if(Wt(t,e),It(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(ue){Ge(e,e.return,ue)}}break;case 3:if(Pl=null,o=rn,rn=Kl(t.containerInfo),Wt(t,e),rn=o,It(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Li(t.containerInfo)}catch(ue){Ge(e,e.return,ue)}ac&&(ac=!1,w0(e));break;case 4:i=rn,rn=Kl(e.stateNode.containerInfo),Wt(t,e),It(e),rn=i;break;case 12:Wt(t,e),It(e);break;case 13:Wt(t,e),It(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(hc=wt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,sc(e,i)));break;case 22:if(i&512&&(Ke||n===null||Bt(n,n.return)),C=e.memoizedState!==null,A=n!==null&&n.memoizedState!==null,G=jn,J=Ke,jn=G||C,Ke=J||A,Wt(t,e),Ke=J,jn=G,It(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,i&8192&&(t._visibility=C?t._visibility&-2:t._visibility|1,C&&(t=jn||Ke,n===null||A||t||Cs(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(n=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(n===null){A=n=t;try{if(o=A.stateNode,C)u=o.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{g=A.stateNode,S=A.memoizedProps.style;var q=S!=null&&S.hasOwnProperty("display")?S.display:null;g.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ue){Ge(A,A.return,ue)}}}else if(t.tag===6){if(n===null){A=t;try{A.stateNode.nodeValue=C?"":A.memoizedProps}catch(ue){Ge(A,A.return,ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,sc(e,n))));break;case 19:Wt(t,e),It(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,sc(e,i)));break;case 21:break;default:Wt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var n=e.return;n!==null;){if(m0(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 27:var o=i.stateNode,u=tc(e);Ul(e,u,o);break;case 5:var g=i.stateNode;i.flags&32&&(rs(g,""),i.flags&=-33);var S=tc(e);Ul(e,S,g);break;case 3:case 4:var C=i.stateNode.containerInfo,A=tc(e);nc(e,A,C);break;default:throw Error(r(161))}}}catch(G){Ge(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function w0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;w0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Dn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)y0(e,t.alternate,t),t=t.sibling}function Cs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:na(4,t,t.return),Cs(t);break;case 1:Bt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&f0(t,t.return,n),Cs(t);break;case 26:case 27:case 5:Bt(t,t.return),Cs(t);break;case 22:Bt(t,t.return),t.memoizedState===null&&Cs(t);break;default:Cs(t)}e=e.sibling}}function aa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,u=t,g=u.flags;switch(u.tag){case 0:case 11:case 15:aa(o,u,n),Si(4,u);break;case 1:if(aa(o,u,n),i=u,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Ge(i,i.return,A)}if(i=u,o=i.updateQueue,o!==null){var S=i.stateNode;try{var C=o.shared.hiddenCallbacks;if(C!==null)for(o.shared.hiddenCallbacks=null,o=0;o<C.length;o++)o0(C[o],S)}catch(A){Ge(i,i.return,A)}}n&&g&64&&u0(u),Ba(u,u.return);break;case 26:case 27:case 5:aa(o,u,n),n&&i===null&&g&4&&d0(u),Ba(u,u.return);break;case 12:aa(o,u,n);break;case 13:aa(o,u,n),n&&g&4&&b0(o,u);break;case 22:u.memoizedState===null&&aa(o,u,n),Ba(u,u.return);break;default:aa(o,u,n)}t=t.sibling}}function ic(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ci(n))}function lc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ci(e))}function sa(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)x0(e,t,n,i),t=t.sibling}function x0(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:sa(e,t,n,i),o&2048&&Si(9,t);break;case 3:sa(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ci(e)));break;case 12:if(o&2048){sa(e,t,n,i),e=t.stateNode;try{var u=t.memoizedProps,g=u.id,S=u.onPostCommit;typeof S=="function"&&S(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ge(t,t.return,C)}}else sa(e,t,n,i);break;case 23:break;case 22:u=t.stateNode,t.memoizedState!==null?u._visibility&4?sa(e,t,n,i):bi(e,t):u._visibility&4?sa(e,t,n,i):(u._visibility|=4,Ms(e,t,n,i,(t.subtreeFlags&10256)!==0)),o&2048&&ic(t.alternate,t);break;case 24:sa(e,t,n,i),o&2048&&lc(t.alternate,t);break;default:sa(e,t,n,i)}}function Ms(e,t,n,i,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,g=t,S=n,C=i,A=g.flags;switch(g.tag){case 0:case 11:case 15:Ms(u,g,S,C,o),Si(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&4?Ms(u,g,S,C,o):bi(u,g):(G._visibility|=4,Ms(u,g,S,C,o)),o&&A&2048&&ic(g.alternate,g);break;case 24:Ms(u,g,S,C,o),o&&A&2048&&lc(g.alternate,g);break;default:Ms(u,g,S,C,o)}t=t.sibling}}function bi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:bi(n,i),o&2048&&ic(i.alternate,i);break;case 24:bi(n,i),o&2048&&lc(i.alternate,i);break;default:bi(n,i)}t=t.sibling}}var Ei=8192;function Ts(e){if(e.subtreeFlags&Ei)for(e=e.child;e!==null;)C0(e),e=e.sibling}function C0(e){switch(e.tag){case 26:Ts(e),e.flags&Ei&&e.memoizedState!==null&&Z1(rn,e.memoizedState,e.memoizedProps);break;case 5:Ts(e);break;case 3:case 4:var t=rn;rn=Kl(e.stateNode.containerInfo),Ts(e),rn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ei,Ei=16777216,Ts(e),Ei=t):Ts(e));break;default:Ts(e)}}function M0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function wi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ut=i,N0(i,e)}M0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)T0(e),e=e.sibling}function T0(e){switch(e.tag){case 0:case 11:case 15:wi(e),e.flags&2048&&na(9,e,e.return);break;case 3:wi(e);break;case 12:wi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,Dl(e)):wi(e);break;default:wi(e)}}function Dl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ut=i,N0(i,e)}M0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:na(8,t,t.return),Dl(t);break;case 22:n=t.stateNode,n._visibility&4&&(n._visibility&=-5,Dl(t));break;default:Dl(t)}e=e.sibling}}function N0(e,t){for(;ut!==null;){var n=ut;switch(n.tag){case 0:case 11:case 15:na(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ci(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ut=i;else e:for(n=e;ut!==null;){i=ut;var o=i.sibling,u=i.return;if(v0(i),i===n){ut=null;break e}if(o!==null){o.return=u,ut=o;break e}ut=u}}}function a1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,n,i){return new a1(e,t,n,i)}function rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ia(e,t){var n=e.alternate;return n===null?(n=en(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&31457280,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function A0(e,t){e.flags&=31457282;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zl(e,t,n,i,o,u){var g=0;if(i=e,typeof e=="function")rc(e)&&(g=1);else if(typeof e=="string")g=Y1(e,n,Se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case d:return qa(n.children,o,u,t);case p:g=8,o|=24;break;case w:return e=en(12,n,t,o|2),e.elementType=w,e.lanes=u,e;case T:return e=en(13,n,t,o),e.elementType=T,e.lanes=u,e;case _:return e=en(19,n,t,o),e.elementType=_,e.lanes=u,e;case Y:return _0(n,o,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:case R:g=10;break e;case M:g=9;break e;case x:g=11;break e;case j:g=14;break e;case $:g=16,i=null;break e}g=29,n=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=en(g,n,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function qa(e,t,n,i){return e=en(7,e,i,t),e.lanes=n,e}function _0(e,t,n,i){e=en(22,e,i,t),e.elementType=Y,e.lanes=n;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var u=o._current;if(u===null)throw Error(r(456));if((o._pendingVisibility&2)===0){var g=Fn(u,2);g!==null&&(o._pendingVisibility|=2,Mt(g,u,2))}},attach:function(){var u=o._current;if(u===null)throw Error(r(456));if((o._pendingVisibility&2)!==0){var g=Fn(u,2);g!==null&&(o._pendingVisibility&=-3,Mt(g,u,2))}}};return e.stateNode=o,e}function oc(e,t,n){return e=en(6,e,null,t),e.lanes=n,e}function cc(e,t,n){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zn(e){e.flags|=4}function R0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!mh(t)){if(t=Pt.current,t!==null&&((je&4194176)===je?pn!==null:(je&62914560)!==je&&(je&536870912)===0||t!==pn))throw li=mo,Ff;e.flags|=8192}}function Ll(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?xn():536870912,e.lanes|=t,As|=t)}function xi(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&31457280,i|=o.flags&31457280,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function s1(e,t,n){var i=t.pendingProps;switch(fo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),kn(rt),_t(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ni(t)?zn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ln!==null&&(yc(ln),ln=null))),Qe(t),null;case 26:return n=t.memoizedState,e===null?(zn(t),n!==null?(Qe(t),R0(t,n)):(Qe(t),t.flags&=-16777217)):n?n!==e.memoizedState?(zn(t),Qe(t),R0(t,n)):(Qe(t),t.flags&=-16777217):(e.memoizedProps!==i&&zn(t),Qe(t),t.flags&=-16777217),null;case 27:wn(t),n=At.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&zn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Qe(t),null}e=Se.current,ni(t)?Xf(t):(e=lh(o,i,n),t.stateNode=e,zn(t))}return Qe(t),null;case 5:if(wn(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&zn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Qe(t),null}if(e=Se.current,ni(t))Xf(t);else{switch(o=$l(At.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?o.createElement(n,{is:i.is}):o.createElement(n)}}e[pt]=t,e[jt]=i;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(gt(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&zn(t)}}return Qe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&zn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=At.current,ni(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=Ct,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[pt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||eh(e.nodeValue,n)),e||_a(t)}else e=$l(e).createTextNode(i),e[pt]=t,t.stateNode=e}return Qe(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ni(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[pt]=t}else ai(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),o=!1}else ln!==null&&(yc(ln),ln=null),o=!0;if(!o)return t.flags&256?(An(t),t):(An(t),null)}if(An(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool);var u=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Ll(t,t.updateQueue),Qe(t),null;case 4:return _t(),e===null&&Ac(t.stateNode.containerInfo),Qe(t),null;case 10:return kn(t.type),Qe(t),null;case 19:if(ae(lt),o=t.memoizedState,o===null)return Qe(t),null;if(i=(t.flags&128)!==0,u=o.rendering,u===null)if(i)xi(o,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=bl(e),u!==null){for(t.flags|=128,xi(o,!1),e=u.updateQueue,t.updateQueue=e,Ll(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)A0(n,e),n=n.sibling;return fe(lt,lt.current&1|2),t.child}e=e.sibling}o.tail!==null&&wt()>Bl&&(t.flags|=128,i=!0,xi(o,!1),t.lanes=4194304)}else{if(!i)if(e=bl(u),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ll(t,e),xi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Ue)return Qe(t),null}else 2*wt()-o.renderingStartTime>Bl&&n!==536870912&&(t.flags|=128,i=!0,xi(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(e=o.last,e!==null?e.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=wt(),t.sibling=null,e=lt.current,fe(lt,i?e&1|2:e&1),t):(Qe(t),null);case 22:case 23:return An(t),po(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),n=t.updateQueue,n!==null&&Ll(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ae(Oa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),kn(rt),Qe(t),null;case 25:return null}throw Error(r(156,t.tag))}function i1(e,t){switch(fo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(rt),_t(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return wn(t),null;case 13:if(An(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(lt),null;case 4:return _t(),null;case 10:return kn(t.type),null;case 22:case 23:return An(t),po(),e!==null&&ae(Oa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return kn(rt),null;case 25:return null;default:return null}}function O0(e,t){switch(fo(t),t.tag){case 3:kn(rt),_t();break;case 26:case 27:case 5:wn(t);break;case 4:_t();break;case 13:An(t);break;case 19:ae(lt);break;case 10:kn(t.type);break;case 22:case 23:An(t),po(),e!==null&&ae(Oa);break;case 24:kn(rt)}}var l1={getCacheForType:function(e){var t=yt(rt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},r1=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Ye=null,Ne=null,je=0,Ve=0,Ht=null,Ln=!1,Ns=!1,uc=!1,Bn=0,Je=0,la=0,Ha=0,fc=0,tn=0,As=0,Ci=null,vn=null,dc=!1,hc=0,Bl=1/0,ql=null,ra=null,Hl=!1,Ga=null,Mi=0,mc=0,gc=null,Ti=0,pc=null;function Gt(){if((Fe&2)!==0&&je!==0)return je&-je;if(se.T!==null){var e=Ss;return e!==0?e:Cc()}return Pu()}function k0(){tn===0&&(tn=(je&536870912)===0||Ue?Ea():536870912);var e=Pt.current;return e!==null&&(e.flags|=32),tn}function Mt(e,t,n){(e===Ye&&Ve===2||e.cancelPendingCommit!==null)&&(_s(e,0),qn(e,je,tn,!1)),Zn(e,n),((Fe&2)===0||e!==Ye)&&(e===Ye&&((Fe&2)===0&&(Ha|=n),Je===4&&qn(e,je,tn,!1)),Sn(e))}function j0(e,t,n){if((Fe&6)!==0)throw Error(r(327));var i=!n&&(t&60)===0&&(t&e.expiredLanes)===0||hn(e,t),o=i?u1(e,t):bc(e,t,!0),u=i;do{if(o===0){Ns&&!i&&qn(e,t,0,!1);break}else if(o===6)qn(e,t,0,!Ln);else{if(n=e.current.alternate,u&&!o1(n)){o=bc(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var S=e;o=Ci;var C=S.current.memoizedState.isDehydrated;if(C&&(_s(S,g).flags|=256),g=bc(S,g,!1),g!==2){if(uc&&!C){S.errorRecoveryDisabledLanes|=u,Ha|=u,o=4;break e}u=vn,vn=o,u!==null&&yc(u)}o=g}if(u=!1,o!==2)continue}}if(o===1){_s(e,0),qn(e,t,0,!0);break}e:{switch(i=e,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194176)===t){qn(i,t,tn,!Ln);break e}break;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if(i.finishedWork=n,i.finishedLanes=t,(t&62914560)===t&&(u=hc+300-wt(),10<u)){if(qn(i,t,tn,!Ln),Le(i,0)!==0)break e;i.timeoutHandle=ah(U0.bind(null,i,n,vn,ql,dc,t,tn,Ha,As,Ln,2,-0,0),u);break e}U0(i,n,vn,ql,dc,t,tn,Ha,As,Ln,0,-0,0)}}break}while(!0);Sn(e)}function yc(e){vn===null?vn=e:vn.push.apply(vn,e)}function U0(e,t,n,i,o,u,g,S,C,A,G,J,z){var q=t.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(ki={stylesheets:null,count:0,unsuspend:V1},C0(t),t=X1(),t!==null)){e.cancelPendingCommit=t(G0.bind(null,e,n,i,o,g,S,C,1,J,z)),qn(e,u,g,!A);return}G0(e,n,i,o,g,S,C,G,J,z)}function o1(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],u=o.getSnapshot;o=o.value;try{if(!Lt(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t,n,i){t&=~fc,t&=~Ha,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var u=31-I(o),g=1<<u;i[u]=-1,o&=~g}n!==0&&Ii(e,n,t)}function Gl(){return(Fe&6)===0?(Ni(0),!1):!0}function vc(){if(Ne!==null){if(Ve===0)var e=Ne.return;else e=Ne,On=za=null,Co(e),ys=null,ri=0,e=Ne;for(;e!==null;)O0(e.alternate,e),e=e.return;Ne=null}}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,N1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),vc(),Ye=e,Ne=n=ia(e.current,null),je=t,Ve=0,Ht=null,Ln=!1,Ns=hn(e,t),uc=!1,As=tn=fc=Ha=la=Je=0,vn=Ci=null,dc=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-I(i),u=1<<o;t|=e[o],i&=~u}return Bn=t,fl(),n}function D0(e,t){Ce=null,se.H=yn,t===ii?(t=Jf(),Ve=3):t===Ff?(t=Jf(),Ve=4):Ve=t===$d?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ht=t,Ne===null&&(Je=1,Ol(e,$t(t,e.current)))}function z0(){var e=se.H;return se.H=yn,e===null?yn:e}function L0(){var e=se.A;return se.A=l1,e}function Sc(){Je=4,Ln||(je&4194176)!==je&&Pt.current!==null||(Ns=!0),(la&134217727)===0&&(Ha&134217727)===0||Ye===null||qn(Ye,je,tn,!1)}function bc(e,t,n){var i=Fe;Fe|=2;var o=z0(),u=L0();(Ye!==e||je!==t)&&(ql=null,_s(e,t)),t=!1;var g=Je;e:do try{if(Ve!==0&&Ne!==null){var S=Ne,C=Ht;switch(Ve){case 8:vc(),g=6;break e;case 3:case 2:case 6:Pt.current===null&&(t=!0);var A=Ve;if(Ve=0,Ht=null,Rs(e,S,C,A),n&&Ns){g=0;break e}break;default:A=Ve,Ve=0,Ht=null,Rs(e,S,C,A)}}c1(),g=Je;break}catch(G){D0(e,G)}while(!0);return t&&e.shellSuspendCounter++,On=za=null,Fe=i,se.H=o,se.A=u,Ne===null&&(Ye=null,je=0,fl()),g}function c1(){for(;Ne!==null;)B0(Ne)}function u1(e,t){var n=Fe;Fe|=2;var i=z0(),o=L0();Ye!==e||je!==t?(ql=null,Bl=wt()+500,_s(e,t)):Ns=hn(e,t);e:do try{if(Ve!==0&&Ne!==null){t=Ne;var u=Ht;t:switch(Ve){case 1:Ve=0,Ht=null,Rs(e,t,u,1);break;case 2:if($f(u)){Ve=0,Ht=null,q0(t);break}t=function(){Ve===2&&Ye===e&&(Ve=7),Sn(e)},u.then(t,t);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:$f(u)?(Ve=0,Ht=null,q0(t)):(Ve=0,Ht=null,Rs(e,t,u,7));break;case 5:var g=null;switch(Ne.tag){case 26:g=Ne.memoizedState;case 5:case 27:var S=Ne;if(!g||mh(g)){Ve=0,Ht=null;var C=S.sibling;if(C!==null)Ne=C;else{var A=S.return;A!==null?(Ne=A,Yl(A)):Ne=null}break t}}Ve=0,Ht=null,Rs(e,t,u,5);break;case 6:Ve=0,Ht=null,Rs(e,t,u,6);break;case 8:vc(),Je=6;break e;default:throw Error(r(462))}}f1();break}catch(G){D0(e,G)}while(!0);return On=za=null,se.H=i,se.A=o,Fe=n,Ne!==null?0:(Ye=null,je=0,fl(),Je)}function f1(){for(;Ne!==null&&!Xe();)B0(Ne)}function B0(e){var t=l0(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,t===null?Yl(e):Ne=t}function q0(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=e0(n,t,t.pendingProps,t.type,void 0,je);break;case 11:t=e0(n,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:Co(t);default:O0(n,t),t=Ne=A0(t,Bn),t=l0(n,t,Bn)}e.memoizedProps=e.pendingProps,t===null?Yl(e):Ne=t}function Rs(e,t,n,i){On=za=null,Co(t),ys=null,ri=0;var o=t.return;try{if(Ip(e,o,t,n,je)){Je=1,Ol(e,$t(n,e.current)),Ne=null;return}}catch(u){if(o!==null)throw Ne=o,u;Je=1,Ol(e,$t(n,e.current)),Ne=null;return}t.flags&32768?(Ue||i===1?e=!0:Ns||(je&536870912)!==0?e=!1:(Ln=e=!0,(i===2||i===3||i===6)&&(i=Pt.current,i!==null&&i.tag===13&&(i.flags|=16384))),H0(t,e)):Yl(t)}function Yl(e){var t=e;do{if((t.flags&32768)!==0){H0(t,Ln);return}e=t.return;var n=s1(t.alternate,t,Bn);if(n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Je===0&&(Je=5)}function H0(e,t){do{var n=i1(e.alternate,e);if(n!==null){n.flags&=32767,Ne=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=n}while(e!==null);Je=6,Ne=null}function G0(e,t,n,i,o,u,g,S,C,A){var G=se.T,J=U.p;try{U.p=2,se.T=null,d1(e,t,n,i,J,o,u,g,S,C,A)}finally{se.T=G,U.p=J}}function d1(e,t,n,i,o,u,g,S){do Os();while(Ga!==null);if((Fe&6)!==0)throw Error(r(327));var C=e.finishedWork;if(i=e.finishedLanes,C===null)return null;if(e.finishedWork=null,e.finishedLanes=0,C===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var A=C.lanes|C.childLanes;if(A|=oo,Wi(e,i,A,u,g,S),e===Ye&&(Ne=Ye=null,je=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Hl||(Hl=!0,mc=A,gc=n,p1(es,function(){return Os(),null})),n=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||n?(n=se.T,se.T=null,u=U.p,U.p=2,g=Fe,Fe|=4,t1(e,C),E0(C,e),zp(kc,e.containerInfo),er=!!Oc,kc=Oc=null,e.current=C,y0(e,C.alternate,C),Rt(),Fe=g,U.p=u,se.T=n):e.current=C,Hl?(Hl=!1,Ga=e,Mi=i):Y0(e,A),A=e.pendingLanes,A===0&&(ra=null),F(C.stateNode),Sn(e),t!==null)for(o=e.onRecoverableError,C=0;C<t.length;C++)A=t[C],o(A.value,{componentStack:A.stack});return(Mi&3)!==0&&Os(),A=e.pendingLanes,(i&4194218)!==0&&(A&42)!==0?e===pc?Ti++:(Ti=0,pc=e):Ti=0,Ni(0),null}function Y0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ci(t)))}function Os(){if(Ga!==null){var e=Ga,t=mc;mc=0;var n=Ju(Mi),i=se.T,o=U.p;try{if(U.p=32>n?32:n,se.T=null,Ga===null)var u=!1;else{n=gc,gc=null;var g=Ga,S=Mi;if(Ga=null,Mi=0,(Fe&6)!==0)throw Error(r(331));var C=Fe;if(Fe|=4,T0(g.current),x0(g,g.current,S,n),Fe=C,Ni(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(ba,g)}catch{}u=!0}return u}finally{U.p=o,se.T=i,Y0(e,t)}}return!1}function V0(e,t,n){t=$t(n,t),t=Bo(e.stateNode,t,2),e=ta(e,t,2),e!==null&&(Zn(e,2),Sn(e))}function Ge(e,t,n){if(e.tag===3)V0(e,e,n);else for(;t!==null;){if(t.tag===3){V0(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ra===null||!ra.has(i))){e=$t(n,e),n=Qd(2),i=ta(t,n,2),i!==null&&(Fd(n,i,t,e),Zn(i,2),Sn(i));break}}t=t.return}}function Ec(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new r1;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(uc=!0,o.add(n),e=h1.bind(null,e,t,n),t.then(e,e))}function h1(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ye===e&&(je&n)===n&&(Je===4||Je===3&&(je&62914560)===je&&300>wt()-hc?(Fe&2)===0&&_s(e,0):fc|=n,As===je&&(As=0)),Sn(e)}function Z0(e,t){t===0&&(t=xn()),e=Fn(e,t),e!==null&&(Zn(e,t),Sn(e))}function m1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Z0(e,n)}function g1(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),Z0(e,n)}function p1(e,t){return Yn(e,t)}var Vl=null,ks=null,wc=!1,Zl=!1,xc=!1,Ya=0;function Sn(e){e!==ks&&e.next===null&&(ks===null?Vl=ks=e:ks=ks.next=e),Zl=!0,wc||(wc=!0,v1(y1))}function Ni(e,t){if(!xc&&Zl){xc=!0;do for(var n=!1,i=Vl;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var u=0;else{var g=i.suspendedLanes,S=i.pingedLanes;u=(1<<31-I(42|e)+1)-1,u&=o&~(g&~S),u=u&201326677?u&201326677|1:u?u|2:0}u!==0&&(n=!0,F0(i,u))}else u=je,u=Le(i,i===Ye?u:0),(u&3)===0||hn(i,u)||(n=!0,F0(i,u));i=i.next}while(n);xc=!1}}function y1(){Zl=wc=!1;var e=0;Ya!==0&&(T1()&&(e=Ya),Ya=0);for(var t=wt(),n=null,i=Vl;i!==null;){var o=i.next,u=X0(i,t);u===0?(i.next=null,n===null?Vl=o:n.next=o,o===null&&(ks=n)):(n=i,(e!==0||(u&3)!==0)&&(Zl=!0)),i=o}Ni(e)}function X0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var g=31-I(u),S=1<<g,C=o[g];C===-1?((S&n)===0||(S&i)!==0)&&(o[g]=ts(S,t)):C<=t&&(e.expiredLanes|=S),u&=~S}if(t=Ye,n=je,n=Le(e,e===t?n:0),i=e.callbackNode,n===0||e===t&&Ve===2||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Zt(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||hn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Zt(i),Ju(n)){case 2:case 8:n=Ji;break;case 32:n=es;break;case 268435456:n=Pi;break;default:n=es}return i=Q0.bind(null,e),n=Yn(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Zt(i),e.callbackPriority=2,e.callbackNode=null,2}function Q0(e,t){var n=e.callbackNode;if(Os()&&e.callbackNode!==n)return null;var i=je;return i=Le(e,e===Ye?i:0),i===0?null:(j0(e,i,t),X0(e,wt()),e.callbackNode!=null&&e.callbackNode===n?Q0.bind(null,e):null)}function F0(e,t){if(Os())return null;j0(e,t,!0)}function v1(e){A1(function(){(Fe&6)!==0?Yn(Vn,e):e()})}function Cc(){return Ya===0&&(Ya=Ea()),Ya}function $0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sl(""+e)}function K0(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function S1(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var u=$0((o[jt]||null).action),g=i.submitter;g&&(t=(t=g[jt]||null)?$0(t.formAction):g.getAttribute("formAction"),t!==null&&(u=t,g=null));var S=new ol("action","action",null,i,o);e.push({event:S,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ya!==0){var C=g?K0(o,g):new FormData(o);jo(n,{pending:!0,data:C,method:o.method,action:u},null,C)}}else typeof u=="function"&&(S.preventDefault(),C=g?K0(o,g):new FormData(o),jo(n,{pending:!0,data:C,method:o.method,action:u},u,C))},currentTarget:o}]})}}for(var Mc=0;Mc<Gf.length;Mc++){var Tc=Gf[Mc],b1=Tc.toLowerCase(),E1=Tc[0].toUpperCase()+Tc.slice(1);sn(b1,"on"+E1)}sn(zf,"onAnimationEnd"),sn(Lf,"onAnimationIteration"),sn(Bf,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(Bp,"onTransitionRun"),sn(qp,"onTransitionStart"),sn(Hp,"onTransitionCancel"),sn(qf,"onTransitionEnd"),is("onMouseEnter",["mouseout","mouseover"]),is("onMouseLeave",["mouseout","mouseover"]),is("onPointerEnter",["pointerout","pointerover"]),is("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ai));function J0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var g=i.length-1;0<=g;g--){var S=i[g],C=S.instance,A=S.currentTarget;if(S=S.listener,C!==u&&o.isPropagationStopped())break e;u=S,o.currentTarget=A;try{u(o)}catch(G){Rl(G)}o.currentTarget=null,u=C}else for(g=0;g<i.length;g++){if(S=i[g],C=S.instance,A=S.currentTarget,S=S.listener,C!==u&&o.isPropagationStopped())break e;u=S,o.currentTarget=A;try{u(o)}catch(G){Rl(G)}o.currentTarget=null,u=C}}}}function Oe(e,t){var n=t[Gr];n===void 0&&(n=t[Gr]=new Set);var i=e+"__bubble";n.has(i)||(P0(t,e,2,!1),n.add(i))}function Nc(e,t,n){var i=0;t&&(i|=4),P0(n,e,i,t)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Ac(e){if(!e[Xl]){e[Xl]=!0,Iu.forEach(function(n){n!=="selectionchange"&&(w1.has(n)||Nc(n,!1,e),Nc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xl]||(t[Xl]=!0,Nc("selectionchange",!1,t))}}function P0(e,t,n,i){switch(bh(t)){case 2:var o=$1;break;case 8:o=K1;break;default:o=Gc}n=o.bind(null,t,n,e),o=void 0,!Kr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function _c(e,t,n,i,o){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var S=i.stateNode.containerInfo;if(S===o||S.nodeType===8&&S.parentNode===o)break;if(g===4)for(g=i.return;g!==null;){var C=g.tag;if((C===3||C===4)&&(C=g.stateNode.containerInfo,C===o||C.nodeType===8&&C.parentNode===o))return;g=g.return}for(;S!==null;){if(g=wa(S),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){i=u=g;continue e}S=S.parentNode}}i=i.return}df(function(){var A=u,G=Fr(n),J=[];e:{var z=Hf.get(e);if(z!==void 0){var q=ol,ue=e;switch(e){case"keypress":if(ll(n)===0)break e;case"keydown":case"keyup":q=gp;break;case"focusin":ue="focus",q=Ir;break;case"focusout":ue="blur",q=Ir;break;case"beforeblur":case"afterblur":q=Ir;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=vp;break;case zf:case Lf:case Bf:q=lp;break;case qf:q=bp;break;case"scroll":case"scrollend":q=tp;break;case"wheel":q=wp;break;case"copy":case"cut":case"paste":q=op;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=yf;break;case"toggle":case"beforetoggle":q=Cp}var be=(t&4)!==0,Pe=!be&&(e==="scroll"||e==="scrollend"),k=be?z!==null?z+"Capture":null:z;be=[];for(var N=A,D;N!==null;){var Z=N;if(D=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||D===null||k===null||(Z=Fs(N,k),Z!=null&&be.push(_i(N,Z,D))),Pe)break;N=N.return}0<be.length&&(z=new q(z,ue,null,n,G),J.push({event:z,listeners:be}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&n!==Qr&&(ue=n.relatedTarget||n.fromElement)&&(wa(ue)||ue[ns]))break e;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ue=n.relatedTarget||n.toElement,q=A,ue=ue?wa(ue):null,ue!==null&&(Pe=re(ue),be=ue.tag,ue!==Pe||be!==5&&be!==27&&be!==6)&&(ue=null)):(q=null,ue=A),q!==ue)){if(be=gf,Z="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(be=yf,Z="onPointerLeave",k="onPointerEnter",N="pointer"),Pe=q==null?z:Qs(q),D=ue==null?z:Qs(ue),z=new be(Z,N+"leave",q,n,G),z.target=Pe,z.relatedTarget=D,Z=null,wa(G)===A&&(be=new be(k,N+"enter",ue,n,G),be.target=D,be.relatedTarget=Pe,Z=be),Pe=Z,q&&ue)t:{for(be=q,k=ue,N=0,D=be;D;D=js(D))N++;for(D=0,Z=k;Z;Z=js(Z))D++;for(;0<N-D;)be=js(be),N--;for(;0<D-N;)k=js(k),D--;for(;N--;){if(be===k||k!==null&&be===k.alternate)break t;be=js(be),k=js(k)}be=null}else be=null;q!==null&&W0(J,z,q,be,!1),ue!==null&&Pe!==null&&W0(J,Pe,ue,be,!0)}}e:{if(z=A?Qs(A):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var oe=Mf;else if(xf(z))if(Tf)oe=Up;else{oe=kp;var Me=Op}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?A&&Xr(A.elementType)&&(oe=Mf):oe=jp;if(oe&&(oe=oe(e,A))){Cf(J,oe,n,G);break e}Me&&Me(e,z,A),e==="focusout"&&A&&z.type==="number"&&A.memoizedProps.value!=null&&Zr(z,"number",z.value)}switch(Me=A?Qs(A):window,e){case"focusin":(xf(Me)||Me.contentEditable==="true")&&(fs=Me,io=A,ti=null);break;case"focusout":ti=io=fs=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,Uf(J,n,G);break;case"selectionchange":if(Lp)break;case"keydown":case"keyup":Uf(J,n,G)}var de;if(to)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else us?Ef(e,n)&&(ge="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ge="onCompositionStart");ge&&(vf&&n.locale!=="ko"&&(us||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&us&&(de=hf()):(Qn=G,Jr="value"in Qn?Qn.value:Qn.textContent,us=!0)),Me=Ql(A,ge),0<Me.length&&(ge=new pf(ge,e,null,n,G),J.push({event:ge,listeners:Me}),de?ge.data=de:(de=wf(n),de!==null&&(ge.data=de)))),(de=Tp?Np(e,n):Ap(e,n))&&(ge=Ql(A,"onBeforeInput"),0<ge.length&&(Me=new pf("onBeforeInput","beforeinput",null,n,G),J.push({event:Me,listeners:ge}),Me.data=de)),S1(J,e,A,n,G)}J0(J,t)})}function _i(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ql(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Fs(e,n),o!=null&&i.unshift(_i(e,o,u)),o=Fs(e,t),o!=null&&i.push(_i(e,o,u))),e=e.return}return i}function js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function W0(e,t,n,i,o){for(var u=t._reactName,g=[];n!==null&&n!==i;){var S=n,C=S.alternate,A=S.stateNode;if(S=S.tag,C!==null&&C===i)break;S!==5&&S!==26&&S!==27||A===null||(C=A,o?(A=Fs(n,u),A!=null&&g.unshift(_i(n,A,C))):o||(A=Fs(n,u),A!=null&&g.push(_i(n,A,C)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var x1=/\r\n?/g,C1=/\u0000|\uFFFD/g;function I0(e){return(typeof e=="string"?e:""+e).replace(x1,`
`).replace(C1,"")}function eh(e,t){return t=I0(t),I0(e)===t}function Fl(){}function qe(e,t,n,i,o,u){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||rs(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&rs(e,""+i);break;case"className":tl(e,"class",i);break;case"tabIndex":tl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":tl(e,n,i);break;case"style":uf(e,i,u);break;case"data":if(t!=="object"){tl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=sl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&qe(e,t,"name",o.name,o,null),qe(e,t,"formEncType",o.formEncType,o,null),qe(e,t,"formMethod",o.formMethod,o,null),qe(e,t,"formTarget",o.formTarget,o,null)):(qe(e,t,"encType",o.encType,o,null),qe(e,t,"method",o.method,o,null),qe(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=sl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Fl);break;case"onScroll":i!=null&&Oe("scroll",e);break;case"onScrollEnd":i!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=sl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),el(e,"popover",i);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":el(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ig.get(n)||n,el(e,n,i))}}function Rc(e,t,n,i,o,u){switch(n){case"style":uf(e,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof i=="string"?rs(e,i):(typeof i=="number"||typeof i=="bigint")&&rs(e,""+i);break;case"onScroll":i!=null&&Oe("scroll",e);break;case"onScrollEnd":i!=null&&Oe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Fl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ef.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[jt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof i=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):el(e,n,i)}}}function gt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var i=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var g=n[u];if(g!=null)switch(u){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:qe(e,t,u,g,n,null)}}o&&qe(e,t,"srcSet",n.srcSet,n,null),i&&qe(e,t,"src",n.src,n,null);return;case"input":Oe("invalid",e);var S=u=g=o=null,C=null,A=null;for(i in n)if(n.hasOwnProperty(i)){var G=n[i];if(G!=null)switch(i){case"name":o=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":A=G;break;case"value":u=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,t));break;default:qe(e,t,i,G,n,null)}}lf(e,u,S,C,A,g,o,!1),nl(e);return;case"select":Oe("invalid",e),i=g=u=null;for(o in n)if(n.hasOwnProperty(o)&&(S=n[o],S!=null))switch(o){case"value":u=S;break;case"defaultValue":g=S;break;case"multiple":i=S;default:qe(e,t,o,S,n,null)}t=u,n=g,e.multiple=!!i,t!=null?ls(e,!!i,t,!1):n!=null&&ls(e,!!i,n,!0);return;case"textarea":Oe("invalid",e),u=o=i=null;for(g in n)if(n.hasOwnProperty(g)&&(S=n[g],S!=null))switch(g){case"value":i=S;break;case"defaultValue":o=S;break;case"children":u=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:qe(e,t,g,S,n,null)}of(e,i,o,u),nl(e);return;case"option":for(C in n)if(n.hasOwnProperty(C)&&(i=n[C],i!=null))switch(C){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:qe(e,t,C,i,n,null)}return;case"dialog":Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(i=0;i<Ai.length;i++)Oe(Ai[i],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in n)if(n.hasOwnProperty(A)&&(i=n[A],i!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:qe(e,t,A,i,n,null)}return;default:if(Xr(t)){for(G in n)n.hasOwnProperty(G)&&(i=n[G],i!==void 0&&Rc(e,t,G,i,n,void 0));return}}for(S in n)n.hasOwnProperty(S)&&(i=n[S],i!=null&&qe(e,t,S,i,n,null))}function M1(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,g=null,S=null,C=null,A=null,G=null;for(q in n){var J=n[q];if(n.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=J;default:i.hasOwnProperty(q)||qe(e,t,q,null,i,J)}}for(var z in i){var q=i[z];if(J=n[z],i.hasOwnProperty(z)&&(q!=null||J!=null))switch(z){case"type":u=q;break;case"name":o=q;break;case"checked":A=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":S=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,t));break;default:q!==J&&qe(e,t,z,q,i,J)}}Vr(e,g,S,C,A,G,u,o);return;case"select":q=g=S=z=null;for(u in n)if(C=n[u],n.hasOwnProperty(u)&&C!=null)switch(u){case"value":break;case"multiple":q=C;default:i.hasOwnProperty(u)||qe(e,t,u,null,i,C)}for(o in i)if(u=i[o],C=n[o],i.hasOwnProperty(o)&&(u!=null||C!=null))switch(o){case"value":z=u;break;case"defaultValue":S=u;break;case"multiple":g=u;default:u!==C&&qe(e,t,o,u,i,C)}t=S,n=g,i=q,z!=null?ls(e,!!n,z,!1):!!i!=!!n&&(t!=null?ls(e,!!n,t,!0):ls(e,!!n,n?[]:"",!1));return;case"textarea":q=z=null;for(S in n)if(o=n[S],n.hasOwnProperty(S)&&o!=null&&!i.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:qe(e,t,S,null,i,o)}for(g in i)if(o=i[g],u=n[g],i.hasOwnProperty(g)&&(o!=null||u!=null))switch(g){case"value":z=o;break;case"defaultValue":q=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&qe(e,t,g,o,i,u)}rf(e,z,q);return;case"option":for(var ue in n)if(z=n[ue],n.hasOwnProperty(ue)&&z!=null&&!i.hasOwnProperty(ue))switch(ue){case"selected":e.selected=!1;break;default:qe(e,t,ue,null,i,z)}for(C in i)if(z=i[C],q=n[C],i.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null))switch(C){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:qe(e,t,C,z,i,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in n)z=n[be],n.hasOwnProperty(be)&&z!=null&&!i.hasOwnProperty(be)&&qe(e,t,be,null,i,z);for(A in i)if(z=i[A],q=n[A],i.hasOwnProperty(A)&&z!==q&&(z!=null||q!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:qe(e,t,A,z,i,q)}return;default:if(Xr(t)){for(var Pe in n)z=n[Pe],n.hasOwnProperty(Pe)&&z!==void 0&&!i.hasOwnProperty(Pe)&&Rc(e,t,Pe,void 0,i,z);for(G in i)z=i[G],q=n[G],!i.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||Rc(e,t,G,z,i,q);return}}for(var k in n)z=n[k],n.hasOwnProperty(k)&&z!=null&&!i.hasOwnProperty(k)&&qe(e,t,k,null,i,z);for(J in i)z=i[J],q=n[J],!i.hasOwnProperty(J)||z===q||z==null&&q==null||qe(e,t,J,z,i,q)}var Oc=null,kc=null;function $l(e){return e.nodeType===9?e:e.ownerDocument}function th(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function jc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uc=null;function T1(){var e=window.event;return e&&e.type==="popstate"?e===Uc?!1:(Uc=e,!0):(Uc=null,!1)}var ah=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,sh=typeof Promise=="function"?Promise:void 0,A1=typeof queueMicrotask=="function"?queueMicrotask:typeof sh<"u"?function(e){return sh.resolve(null).then(e).catch(_1)}:ah;function _1(e){setTimeout(function(){throw e})}function Dc(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){e.removeChild(o),Li(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);Li(t)}function zc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":zc(n),Yr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function R1(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Xs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=on(e.nextSibling),e===null)break}return null}function O1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=on(e.nextSibling),e===null))return null;return e}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function ih(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function lh(e,t,n){switch(t=$l(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}var nn=new Map,rh=new Set;function Kl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Hn=U.d;U.d={f:k1,r:j1,D:U1,C:D1,L:z1,m:L1,X:q1,S:B1,M:H1};function k1(){var e=Hn.f(),t=Gl();return e||t}function j1(e){var t=as(e);t!==null&&t.tag===5&&t.type==="form"?Ud(t):Hn.r(e)}var Us=typeof document>"u"?null:document;function oh(e,t,n){var i=Us;if(i&&typeof t=="string"&&t){var o=Qt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),rh.has(o)||(rh.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),gt(t,"link",e),ot(t),i.head.appendChild(t)))}}function U1(e){Hn.D(e),oh("dns-prefetch",e,null)}function D1(e,t){Hn.C(e,t),oh("preconnect",e,t)}function z1(e,t,n){Hn.L(e,t,n);var i=Us;if(i&&e&&t){var o='link[rel="preload"][as="'+Qt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Qt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Qt(n.imageSizes)+'"]')):o+='[href="'+Qt(e)+'"]';var u=o;switch(t){case"style":u=Ds(e);break;case"script":u=zs(e)}nn.has(u)||(e=me({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),nn.set(u,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(Ri(u))||t==="script"&&i.querySelector(Oi(u))||(t=i.createElement("link"),gt(t,"link",e),ot(t),i.head.appendChild(t)))}}function L1(e,t){Hn.m(e,t);var n=Us;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Qt(i)+'"][href="'+Qt(e)+'"]',u=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=zs(e)}if(!nn.has(u)&&(e=me({rel:"modulepreload",href:e},t),nn.set(u,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Oi(u)))return}i=n.createElement("link"),gt(i,"link",e),ot(i),n.head.appendChild(i)}}}function B1(e,t,n){Hn.S(e,t,n);var i=Us;if(i&&e){var o=ss(i).hoistableStyles,u=Ds(e);t=t||"default";var g=o.get(u);if(!g){var S={loading:0,preload:null};if(g=i.querySelector(Ri(u)))S.loading=5;else{e=me({rel:"stylesheet",href:e,"data-precedence":t},n),(n=nn.get(u))&&Lc(e,n);var C=g=i.createElement("link");ot(C),gt(C,"link",e),C._p=new Promise(function(A,G){C.onload=A,C.onerror=G}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Jl(g,t,i)}g={type:"stylesheet",instance:g,count:1,state:S},o.set(u,g)}}}function q1(e,t){Hn.X(e,t);var n=Us;if(n&&e){var i=ss(n).hoistableScripts,o=zs(e),u=i.get(o);u||(u=n.querySelector(Oi(o)),u||(e=me({src:e,async:!0},t),(t=nn.get(o))&&Bc(e,t),u=n.createElement("script"),ot(u),gt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function H1(e,t){Hn.M(e,t);var n=Us;if(n&&e){var i=ss(n).hoistableScripts,o=zs(e),u=i.get(o);u||(u=n.querySelector(Oi(o)),u||(e=me({src:e,async:!0,type:"module"},t),(t=nn.get(o))&&Bc(e,t),u=n.createElement("script"),ot(u),gt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function ch(e,t,n,i){var o=(o=At.current)?Kl(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ds(n.href),n=ss(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ds(n.href);var u=ss(o).hoistableStyles,g=u.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,g),(u=o.querySelector(Ri(e)))&&!u._p&&(g.instance=u,g.state.loading=5),nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},nn.set(e,n),u||G1(o,e,n,g.state))),t&&i===null)throw Error(r(528,""));return g}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zs(n),n=ss(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ds(e){return'href="'+Qt(e)+'"'}function Ri(e){return'link[rel="stylesheet"]['+e+"]"}function uh(e){return me({},e,{"data-precedence":e.precedence,precedence:null})}function G1(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),gt(t,"link",n),ot(t),e.head.appendChild(t))}function zs(e){return'[src="'+Qt(e)+'"]'}function Oi(e){return"script[async]"+e}function fh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Qt(n.href)+'"]');if(i)return t.instance=i,ot(i),i;var o=me({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ot(i),gt(i,"style",o),Jl(i,n.precedence,e),t.instance=i;case"stylesheet":o=Ds(n.href);var u=e.querySelector(Ri(o));if(u)return t.state.loading|=4,t.instance=u,ot(u),u;i=uh(n),(o=nn.get(o))&&Lc(i,o),u=(e.ownerDocument||e).createElement("link"),ot(u);var g=u;return g._p=new Promise(function(S,C){g.onload=S,g.onerror=C}),gt(u,"link",i),t.state.loading|=4,Jl(u,n.precedence,e),t.instance=u;case"script":return u=zs(n.src),(o=e.querySelector(Oi(u)))?(t.instance=o,ot(o),o):(i=n,(o=nn.get(u))&&(i=me({},n),Bc(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),ot(o),gt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Jl(i,n.precedence,e));return t.instance}function Jl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,u=o,g=0;g<i.length;g++){var S=i[g];if(S.dataset.precedence===t)u=S;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Lc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Pl=null;function dh(e,t,n){if(Pl===null){var i=new Map,o=Pl=new Map;o.set(n,i)}else o=Pl,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[Xs]||u[pt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var g=u.getAttribute(t)||"";g=e+g;var S=i.get(g);S?S.push(u):i.set(g,[u])}}return i}function hh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Y1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function mh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ki=null;function V1(){}function Z1(e,t,n){if(ki===null)throw Error(r(475));var i=ki;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=Ds(n.href),u=e.querySelector(Ri(o));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=Wl.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=u,ot(u);return}u=e.ownerDocument||e,n=uh(n),(o=nn.get(o))&&Lc(n,o),u=u.createElement("link"),ot(u);var g=u;g._p=new Promise(function(S,C){g.onload=S,g.onerror=C}),gt(u,"link",n),t.instance=u}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=Wl.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function X1(){if(ki===null)throw Error(r(475));var e=ki;return e.stylesheets&&e.count===0&&qc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Wl(){if(this.count--,this.count===0){if(this.stylesheets)qc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Il=null;function qc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Il=new Map,t.forEach(Q1,e),Il=null,Wl.call(e))}function Q1(e,t){if(!(t.state.loading&4)){var n=Il.get(e);if(n)var i=n.get(null);else{n=new Map,Il.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var g=o[u];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),i=g)}i&&n.set(null,i)}o=t.instance,g=o.getAttribute("data-precedence"),u=n.get(g)||i,u===i&&n.set(null,o),n.set(g,o),this.count++,i=Wl.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ji={$$typeof:R,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function F1(e,t,n,i,o,u,g,S){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mn(0),this.hiddenUpdates=mn(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function gh(e,t,n,i,o,u,g,S,C,A,G,J){return e=new F1(e,t,n,g,S,C,A,J),t=1,u===!0&&(t|=24),u=en(3,null,null,t),e.current=u,u.stateNode=e,t=yo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:i,isDehydrated:n,cache:t},Po(u),e}function ph(e){return e?(e=ms,e):ms}function yh(e,t,n,i,o,u){o=ph(o),i.context===null?i.context=o:i.pendingContext=o,i=ea(t),i.payload={element:n},u=u===void 0?null:u,u!==null&&(i.callback=u),n=ta(e,i,t),n!==null&&(Mt(n,e,t),pi(n,e,t))}function vh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hc(e,t){vh(e,t),(e=e.alternate)&&vh(e,t)}function Sh(e){if(e.tag===13){var t=Fn(e,67108864);t!==null&&Mt(t,e,67108864),Hc(e,67108864)}}var er=!0;function $1(e,t,n,i){var o=se.T;se.T=null;var u=U.p;try{U.p=2,Gc(e,t,n,i)}finally{U.p=u,se.T=o}}function K1(e,t,n,i){var o=se.T;se.T=null;var u=U.p;try{U.p=8,Gc(e,t,n,i)}finally{U.p=u,se.T=o}}function Gc(e,t,n,i){if(er){var o=Yc(i);if(o===null)_c(e,t,i,tr,n),Eh(e,i);else if(P1(o,e,t,n,i))i.stopPropagation();else if(Eh(e,i),t&4&&-1<J1.indexOf(e)){for(;o!==null;){var u=as(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var g=it(u.pendingLanes);if(g!==0){var S=u;for(S.pendingLanes|=2,S.entangledLanes|=2;g;){var C=1<<31-I(g);S.entanglements[1]|=C,g&=~C}Sn(u),(Fe&6)===0&&(Bl=wt()+500,Ni(0))}}break;case 13:S=Fn(u,2),S!==null&&Mt(S,u,2),Gl(),Hc(u,2)}if(u=Yc(i),u===null&&_c(e,t,i,tr,n),u===o)break;o=u}o!==null&&i.stopPropagation()}else _c(e,t,i,null,n)}}function Yc(e){return e=Fr(e),Vc(e)}var tr=null;function Vc(e){if(tr=null,e=wa(e),e!==null){var t=re(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=V(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return tr=e,null}function bh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Br()){case Vn:return 2;case Ji:return 8;case es:case qr:return 32;case Pi:return 268435456;default:return 32}default:return 32}}var Zc=!1,oa=null,ca=null,ua=null,Ui=new Map,Di=new Map,fa=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Eh(e,t){switch(e){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Ui.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(t.pointerId)}}function zi(e,t,n,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=as(t),t!==null&&Sh(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function P1(e,t,n,i,o){switch(t){case"focusin":return oa=zi(oa,e,t,n,i,o),!0;case"dragenter":return ca=zi(ca,e,t,n,i,o),!0;case"mouseover":return ua=zi(ua,e,t,n,i,o),!0;case"pointerover":var u=o.pointerId;return Ui.set(u,zi(Ui.get(u)||null,e,t,n,i,o)),!0;case"gotpointercapture":return u=o.pointerId,Di.set(u,zi(Di.get(u)||null,e,t,n,i,o)),!0}return!1}function wh(e){var t=wa(e.target);if(t!==null){var n=re(t);if(n!==null){if(t=n.tag,t===13){if(t=V(n),t!==null){e.blockedOn=t,Xg(e.priority,function(){if(n.tag===13){var i=Gt(),o=Fn(n,i);o!==null&&Mt(o,n,i),Hc(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yc(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Qr=i,n.target.dispatchEvent(i),Qr=null}else return t=as(n),t!==null&&Sh(t),e.blockedOn=n,!1;t.shift()}return!0}function xh(e,t,n){nr(e)&&n.delete(t)}function W1(){Zc=!1,oa!==null&&nr(oa)&&(oa=null),ca!==null&&nr(ca)&&(ca=null),ua!==null&&nr(ua)&&(ua=null),Ui.forEach(xh),Di.forEach(xh)}function ar(e,t){e.blockedOn===t&&(e.blockedOn=null,Zc||(Zc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,W1)))}var sr=null;function Ch(e){sr!==e&&(sr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){sr===e&&(sr=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Vc(i||n)===null)continue;break}var u=as(n);u!==null&&(e.splice(t,3),t-=3,jo(u,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function Li(e){function t(C){return ar(C,e)}oa!==null&&ar(oa,e),ca!==null&&ar(ca,e),ua!==null&&ar(ua,e),Ui.forEach(t),Di.forEach(t);for(var n=0;n<fa.length;n++){var i=fa[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<fa.length&&(n=fa[0],n.blockedOn===null);)wh(n),n.blockedOn===null&&fa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],g=o[jt]||null;if(typeof u=="function")g||Ch(n);else if(g){var S=null;if(u&&u.hasAttribute("formAction")){if(o=u,g=u[jt]||null)S=g.formAction;else if(Vc(o)!==null)continue}else S=g.action;typeof S=="function"?n[i+1]=S:(n.splice(i,3),i-=3),Ch(n)}}}function Xc(e){this._internalRoot=e}ir.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,i=Gt();yh(n,i,e,t,null,null)},ir.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&Os(),yh(e.current,2,null,e,null,null),Gl(),t[ns]=null}};function ir(e){this._internalRoot=e}ir.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fa.length&&t!==0&&t<fa[n].priority;n++);fa.splice(n,0,e),n===0&&wh(e)}};var Mh=a.version;if(Mh!=="19.0.0")throw Error(r(527,Mh,"19.0.0"));U.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=O(t),e=e!==null?K(e):null,e=e===null?null:e.stateNode,e};var I1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:se,findFiberByHostInstance:wa,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lr.isDisabled&&lr.supportsFiber)try{ba=lr.inject(I1),xt=lr}catch{}}return qi.createRoot=function(e,t){if(!c(e))throw Error(r(299));var n=!1,i="",o=Yd,u=Vd,g=Zd,S=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(S=t.unstable_transitionCallbacks)),t=gh(e,1,!1,null,null,n,i,o,u,g,S,null),e[ns]=t.current,Ac(e.nodeType===8?e.parentNode:e),new Xc(t)},qi.hydrateRoot=function(e,t,n){if(!c(e))throw Error(r(299));var i=!1,o="",u=Yd,g=Vd,S=Zd,C=null,A=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(C=n.unstable_transitionCallbacks),n.formState!==void 0&&(A=n.formState)),t=gh(e,1,!0,t,n??null,i,o,u,g,S,C,A),t.context=ph(null),n=t.current,i=Gt(),o=ea(i),o.callback=null,ta(n,o,i),t.current.lanes=i,Zn(t,i),Sn(t),e[ns]=t.current,Ac(e),new ir(t)},qi.version="19.0.0",qi}var Dh;function uy(){if(Dh)return $c.exports;Dh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),$c.exports=cy(),$c.exports}var fy=uy(),Am=Nm();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zi(){return Zi=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(s[r]=l[r])}return s},Zi.apply(this,arguments)}var ma;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(ma||(ma={}));const zh="popstate";function dy(s){s===void 0&&(s={});function a(r,c){let{pathname:f,search:h,hash:y}=r.location;return cu("",{pathname:f,search:h,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function l(r,c){return typeof c=="string"?c:br(c)}return my(a,l,null,s)}function Ie(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function _m(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function hy(){return Math.random().toString(36).substr(2,8)}function Lh(s,a){return{usr:s.state,key:s.key,idx:a}}function cu(s,a,l,r){return l===void 0&&(l=null),Zi({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof a=="string"?qs(a):a,{state:l,key:a&&a.key||r||hy()})}function br(s){let{pathname:a="/",search:l="",hash:r=""}=s;return l&&l!=="?"&&(a+=l.charAt(0)==="?"?l:"?"+l),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function qs(s){let a={};if(s){let l=s.indexOf("#");l>=0&&(a.hash=s.substr(l),s=s.substr(0,l));let r=s.indexOf("?");r>=0&&(a.search=s.substr(r),s=s.substr(0,r)),s&&(a.pathname=s)}return a}function my(s,a,l,r){r===void 0&&(r={});let{window:c=document.defaultView,v5Compat:f=!1}=r,h=c.history,y=ma.Pop,d=null,p=w();p==null&&(p=0,h.replaceState(Zi({},h.state,{idx:p}),""));function w(){return(h.state||{idx:null}).idx}function E(){y=ma.Pop;let _=w(),j=_==null?null:_-p;p=_,d&&d({action:y,location:T.location,delta:j})}function M(_,j){y=ma.Push;let $=cu(T.location,_,j);p=w()+1;let Y=Lh($,p),ie=T.createHref($);try{h.pushState(Y,"",ie)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;c.location.assign(ie)}f&&d&&d({action:y,location:T.location,delta:1})}function R(_,j){y=ma.Replace;let $=cu(T.location,_,j);p=w();let Y=Lh($,p),ie=T.createHref($);h.replaceState(Y,"",ie),f&&d&&d({action:y,location:T.location,delta:0})}function x(_){let j=c.location.origin!=="null"?c.location.origin:c.location.href,$=typeof _=="string"?_:br(_);return $=$.replace(/ $/,"%20"),Ie(j,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,j)}let T={get action(){return y},get location(){return s(c,h)},listen(_){if(d)throw new Error("A history only accepts one active listener");return c.addEventListener(zh,E),d=_,()=>{c.removeEventListener(zh,E),d=null}},createHref(_){return a(c,_)},createURL:x,encodeLocation(_){let j=x(_);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:M,replace:R,go(_){return h.go(_)}};return T}var Bh;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Bh||(Bh={}));function gy(s,a,l){return l===void 0&&(l="/"),py(s,a,l)}function py(s,a,l,r){let c=typeof a=="string"?qs(a):a,f=Au(c.pathname||"/",l);if(f==null)return null;let h=Rm(s);yy(h);let y=null;for(let d=0;y==null&&d<h.length;++d){let p=_y(f);y=Ty(h[d],p)}return y}function Rm(s,a,l,r){a===void 0&&(a=[]),l===void 0&&(l=[]),r===void 0&&(r="");let c=(f,h,y)=>{let d={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};d.relativePath.startsWith("/")&&(Ie(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=ya([r,d.relativePath]),w=l.concat(d);f.children&&f.children.length>0&&(Ie(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Rm(f.children,a,w,p)),!(f.path==null&&!f.index)&&a.push({path:p,score:Cy(p,f.index),routesMeta:w})};return s.forEach((f,h)=>{var y;if(f.path===""||!((y=f.path)!=null&&y.includes("?")))c(f,h);else for(let d of Om(f.path))c(f,h,d)}),a}function Om(s){let a=s.split("/");if(a.length===0)return[];let[l,...r]=a,c=l.endsWith("?"),f=l.replace(/\?$/,"");if(r.length===0)return c?[f,""]:[f];let h=Om(r.join("/")),y=[];return y.push(...h.map(d=>d===""?f:[f,d].join("/"))),c&&y.push(...h),y.map(d=>s.startsWith("/")&&d===""?"/":d)}function yy(s){s.sort((a,l)=>a.score!==l.score?l.score-a.score:My(a.routesMeta.map(r=>r.childrenIndex),l.routesMeta.map(r=>r.childrenIndex)))}const vy=/^:[\w-]+$/,Sy=3,by=2,Ey=1,wy=10,xy=-2,qh=s=>s==="*";function Cy(s,a){let l=s.split("/"),r=l.length;return l.some(qh)&&(r+=xy),a&&(r+=by),l.filter(c=>!qh(c)).reduce((c,f)=>c+(vy.test(f)?Sy:f===""?Ey:wy),r)}function My(s,a){return s.length===a.length&&s.slice(0,-1).every((r,c)=>r===a[c])?s[s.length-1]-a[a.length-1]:0}function Ty(s,a,l){let{routesMeta:r}=s,c={},f="/",h=[];for(let y=0;y<r.length;++y){let d=r[y],p=y===r.length-1,w=f==="/"?a:a.slice(f.length)||"/",E=Ny({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},w),M=d.route;if(!E)return null;Object.assign(c,E.params),h.push({params:c,pathname:ya([f,E.pathname]),pathnameBase:jy(ya([f,E.pathnameBase])),route:M}),E.pathnameBase!=="/"&&(f=ya([f,E.pathnameBase]))}return h}function Ny(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[l,r]=Ay(s.path,s.caseSensitive,s.end),c=a.match(l);if(!c)return null;let f=c[0],h=f.replace(/(.)\/+$/,"$1"),y=c.slice(1);return{params:r.reduce((p,w,E)=>{let{paramName:M,isOptional:R}=w;if(M==="*"){let T=y[E]||"";h=f.slice(0,f.length-T.length).replace(/(.)\/+$/,"$1")}const x=y[E];return R&&!x?p[M]=void 0:p[M]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:f,pathnameBase:h,pattern:s}}function Ay(s,a,l){a===void 0&&(a=!1),l===void 0&&(l=!0),_m(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let r=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,y,d)=>(r.push({paramName:y,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),r]}function _y(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return _m(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),s}}function Au(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,r=s.charAt(l);return r&&r!=="/"?null:s.slice(l)||"/"}function Ry(s,a){a===void 0&&(a="/");let{pathname:l,search:r="",hash:c=""}=typeof s=="string"?qs(s):s;return{pathname:l?l.startsWith("/")?l:Oy(l,a):a,search:Uy(r),hash:Dy(c)}}function Oy(s,a){let l=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?l.length>1&&l.pop():c!=="."&&l.push(c)}),l.length>1?l.join("/"):"/"}function Wc(s,a,l,r){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+l+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ky(s){return s.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function _u(s,a){let l=ky(s);return a?l.map((r,c)=>c===l.length-1?r.pathname:r.pathnameBase):l.map(r=>r.pathnameBase)}function Ru(s,a,l,r){r===void 0&&(r=!1);let c;typeof s=="string"?c=qs(s):(c=Zi({},s),Ie(!c.pathname||!c.pathname.includes("?"),Wc("?","pathname","search",c)),Ie(!c.pathname||!c.pathname.includes("#"),Wc("#","pathname","hash",c)),Ie(!c.search||!c.search.includes("#"),Wc("#","search","hash",c)));let f=s===""||c.pathname==="",h=f?"/":c.pathname,y;if(h==null)y=l;else{let E=a.length-1;if(!r&&h.startsWith("..")){let M=h.split("/");for(;M[0]==="..";)M.shift(),E-=1;c.pathname=M.join("/")}y=E>=0?a[E]:"/"}let d=Ry(c,y),p=h&&h!=="/"&&h.endsWith("/"),w=(f||h===".")&&l.endsWith("/");return!d.pathname.endsWith("/")&&(p||w)&&(d.pathname+="/"),d}const ya=s=>s.join("/").replace(/\/\/+/g,"/"),jy=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Uy=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Dy=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function zy(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const km=["post","put","patch","delete"];new Set(km);const Ly=["get",...km];new Set(Ly);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(s[r]=l[r])}return s},Xi.apply(this,arguments)}const Ou=b.createContext(null),By=b.createContext(null),Sa=b.createContext(null),Ar=b.createContext(null),Gn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),jm=b.createContext(null);function qy(s,a){let{relative:l}=a===void 0?{}:a;Hs()||Ie(!1);let{basename:r,navigator:c}=b.useContext(Sa),{hash:f,pathname:h,search:y}=Dm(s,{relative:l}),d=h;return r!=="/"&&(d=h==="/"?r:ya([r,h])),c.createHref({pathname:d,search:y,hash:f})}function Hs(){return b.useContext(Ar)!=null}function Pa(){return Hs()||Ie(!1),b.useContext(Ar).location}function Um(s){b.useContext(Sa).static||b.useLayoutEffect(s)}function Gs(){let{isDataRoute:s}=b.useContext(Gn);return s?Iy():Hy()}function Hy(){Hs()||Ie(!1);let s=b.useContext(Ou),{basename:a,future:l,navigator:r}=b.useContext(Sa),{matches:c}=b.useContext(Gn),{pathname:f}=Pa(),h=JSON.stringify(_u(c,l.v7_relativeSplatPath)),y=b.useRef(!1);return Um(()=>{y.current=!0}),b.useCallback(function(p,w){if(w===void 0&&(w={}),!y.current)return;if(typeof p=="number"){r.go(p);return}let E=Ru(p,JSON.parse(h),f,w.relative==="path");s==null&&a!=="/"&&(E.pathname=E.pathname==="/"?a:ya([a,E.pathname])),(w.replace?r.replace:r.push)(E,w.state,w)},[a,r,h,f,s])}function Gy(){let{matches:s}=b.useContext(Gn),a=s[s.length-1];return a?a.params:{}}function Dm(s,a){let{relative:l}=a===void 0?{}:a,{future:r}=b.useContext(Sa),{matches:c}=b.useContext(Gn),{pathname:f}=Pa(),h=JSON.stringify(_u(c,r.v7_relativeSplatPath));return b.useMemo(()=>Ru(s,JSON.parse(h),f,l==="path"),[s,h,f,l])}function Yy(s,a){return Vy(s,a)}function Vy(s,a,l,r){Hs()||Ie(!1);let{navigator:c,static:f}=b.useContext(Sa),{matches:h}=b.useContext(Gn),y=h[h.length-1],d=y?y.params:{};y&&y.pathname;let p=y?y.pathnameBase:"/";y&&y.route;let w=Pa(),E;if(a){var M;let j=typeof a=="string"?qs(a):a;p==="/"||(M=j.pathname)!=null&&M.startsWith(p)||Ie(!1),E=j}else E=w;let R=E.pathname||"/",x=R;if(p!=="/"){let j=p.replace(/^\//,"").split("/");x="/"+R.replace(/^\//,"").split("/").slice(j.length).join("/")}let T=gy(s,{pathname:x}),_=$y(T&&T.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:ya([p,c.encodeLocation?c.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:ya([p,c.encodeLocation?c.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),h,l,r);return a&&_?b.createElement(Ar.Provider,{value:{location:Xi({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:ma.Pop}},_):_}function Zy(){let s=Wy(),a=zy(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),l=s instanceof Error?s.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),l?b.createElement("pre",{style:c},l):null,null)}const Xy=b.createElement(Zy,null);class Qy extends b.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,l){return l.location!==a.location||l.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:l.error,location:l.location,revalidation:a.revalidation||l.revalidation}}componentDidCatch(a,l){console.error("React Router caught the following error during render",a,l)}render(){return this.state.error!==void 0?b.createElement(Gn.Provider,{value:this.props.routeContext},b.createElement(jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fy(s){let{routeContext:a,match:l,children:r}=s,c=b.useContext(Ou);return c&&c.static&&c.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=l.route.id),b.createElement(Gn.Provider,{value:a},r)}function $y(s,a,l,r){var c;if(a===void 0&&(a=[]),l===void 0&&(l=null),r===void 0&&(r=null),s==null){var f;if(!l)return null;if(l.errors)s=l.matches;else if((f=r)!=null&&f.v7_partialHydration&&a.length===0&&!l.initialized&&l.matches.length>0)s=l.matches;else return null}let h=s,y=(c=l)==null?void 0:c.errors;if(y!=null){let w=h.findIndex(E=>E.route.id&&(y==null?void 0:y[E.route.id])!==void 0);w>=0||Ie(!1),h=h.slice(0,Math.min(h.length,w+1))}let d=!1,p=-1;if(l&&r&&r.v7_partialHydration)for(let w=0;w<h.length;w++){let E=h[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=w),E.route.id){let{loaderData:M,errors:R}=l,x=E.route.loader&&M[E.route.id]===void 0&&(!R||R[E.route.id]===void 0);if(E.route.lazy||x){d=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}return h.reduceRight((w,E,M)=>{let R,x=!1,T=null,_=null;l&&(R=y&&E.route.id?y[E.route.id]:void 0,T=E.route.errorElement||Xy,d&&(p<0&&M===0?(ev("route-fallback"),x=!0,_=null):p===M&&(x=!0,_=E.route.hydrateFallbackElement||null)));let j=a.concat(h.slice(0,M+1)),$=()=>{let Y;return R?Y=T:x?Y=_:E.route.Component?Y=b.createElement(E.route.Component,null):E.route.element?Y=E.route.element:Y=w,b.createElement(Fy,{match:E,routeContext:{outlet:w,matches:j,isDataRoute:l!=null},children:Y})};return l&&(E.route.ErrorBoundary||E.route.errorElement||M===0)?b.createElement(Qy,{location:l.location,revalidation:l.revalidation,component:T,error:R,children:$(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):$()},null)}var zm=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(zm||{}),Lm=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(Lm||{});function Ky(s){let a=b.useContext(Ou);return a||Ie(!1),a}function Jy(s){let a=b.useContext(By);return a||Ie(!1),a}function Py(s){let a=b.useContext(Gn);return a||Ie(!1),a}function Bm(s){let a=Py(),l=a.matches[a.matches.length-1];return l.route.id||Ie(!1),l.route.id}function Wy(){var s;let a=b.useContext(jm),l=Jy(),r=Bm();return a!==void 0?a:(s=l.errors)==null?void 0:s[r]}function Iy(){let{router:s}=Ky(zm.UseNavigateStable),a=Bm(Lm.UseNavigateStable),l=b.useRef(!1);return Um(()=>{l.current=!0}),b.useCallback(function(c,f){f===void 0&&(f={}),l.current&&(typeof c=="number"?s.navigate(c):s.navigate(c,Xi({fromRouteId:a},f)))},[s,a])}const Hh={};function ev(s,a,l){Hh[s]||(Hh[s]=!0)}function tv(s,a){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function qm(s){let{to:a,replace:l,state:r,relative:c}=s;Hs()||Ie(!1);let{future:f,static:h}=b.useContext(Sa),{matches:y}=b.useContext(Gn),{pathname:d}=Pa(),p=Gs(),w=Ru(a,_u(y,f.v7_relativeSplatPath),d,c==="path"),E=JSON.stringify(w);return b.useEffect(()=>p(JSON.parse(E),{replace:l,state:r,relative:c}),[p,E,c,l,r]),null}function ga(s){Ie(!1)}function nv(s){let{basename:a="/",children:l=null,location:r,navigationType:c=ma.Pop,navigator:f,static:h=!1,future:y}=s;Hs()&&Ie(!1);let d=a.replace(/^\/*/,"/"),p=b.useMemo(()=>({basename:d,navigator:f,static:h,future:Xi({v7_relativeSplatPath:!1},y)}),[d,y,f,h]);typeof r=="string"&&(r=qs(r));let{pathname:w="/",search:E="",hash:M="",state:R=null,key:x="default"}=r,T=b.useMemo(()=>{let _=Au(w,d);return _==null?null:{location:{pathname:_,search:E,hash:M,state:R,key:x},navigationType:c}},[d,w,E,M,R,x,c]);return T==null?null:b.createElement(Sa.Provider,{value:p},b.createElement(Ar.Provider,{children:l,value:T}))}function Hm(s){let{children:a,location:l}=s;return Yy(uu(a),l)}new Promise(()=>{});function uu(s,a){a===void 0&&(a=[]);let l=[];return b.Children.forEach(s,(r,c)=>{if(!b.isValidElement(r))return;let f=[...a,c];if(r.type===b.Fragment){l.push.apply(l,uu(r.props.children,f));return}r.type!==ga&&Ie(!1),!r.props.index||!r.props.children||Ie(!1);let h={id:r.props.id||f.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=uu(r.props.children,f)),l.push(h)}),l}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(s[r]=l[r])}return s},fu.apply(this,arguments)}function av(s,a){if(s==null)return{};var l={},r=Object.keys(s),c,f;for(f=0;f<r.length;f++)c=r[f],!(a.indexOf(c)>=0)&&(l[c]=s[c]);return l}function sv(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function iv(s,a){return s.button===0&&(!a||a==="_self")&&!sv(s)}const lv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rv="6";try{window.__reactRouterVersion=rv}catch{}const ov="startTransition",Gh=iy[ov];function Yh(s){let{basename:a,children:l,future:r,window:c}=s,f=b.useRef();f.current==null&&(f.current=dy({window:c,v5Compat:!0}));let h=f.current,[y,d]=b.useState({action:h.action,location:h.location}),{v7_startTransition:p}=r||{},w=b.useCallback(E=>{p&&Gh?Gh(()=>d(E)):d(E)},[d,p]);return b.useLayoutEffect(()=>h.listen(w),[h,w]),b.useEffect(()=>tv(r),[r]),b.createElement(nv,{basename:a,children:l,location:y.location,navigationType:y.action,navigator:h,future:r})}const cv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yi=b.forwardRef(function(a,l){let{onClick:r,relative:c,reloadDocument:f,replace:h,state:y,target:d,to:p,preventScrollReset:w,viewTransition:E}=a,M=av(a,lv),{basename:R}=b.useContext(Sa),x,T=!1;if(typeof p=="string"&&uv.test(p)&&(x=p,cv))try{let Y=new URL(window.location.href),ie=p.startsWith("//")?new URL(Y.protocol+p):new URL(p),ee=Au(ie.pathname,R);ie.origin===Y.origin&&ee!=null?p=ee+ie.search+ie.hash:T=!0}catch{}let _=qy(p,{relative:c}),j=fv(p,{replace:h,state:y,target:d,preventScrollReset:w,relative:c,viewTransition:E});function $(Y){r&&r(Y),Y.defaultPrevented||j(Y)}return b.createElement("a",fu({},M,{href:x||_,onClick:T||f?r:$,ref:l,target:d}))});var Vh;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Vh||(Vh={}));var Zh;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Zh||(Zh={}));function fv(s,a){let{target:l,replace:r,state:c,preventScrollReset:f,relative:h,viewTransition:y}=a===void 0?{}:a,d=Gs(),p=Pa(),w=Dm(s,{relative:h});return b.useCallback(E=>{if(iv(E,l)){E.preventDefault();let M=r!==void 0?r:br(p)===br(w);d(s,{replace:M,state:c,preventScrollReset:f,relative:h,viewTransition:y})}},[p,d,w,r,c,l,s,f,h,y])}const En=Object.create(null);En.open="0";En.close="1";En.ping="2";En.pong="3";En.message="4";En.upgrade="5";En.noop="6";const cr=Object.create(null);Object.keys(En).forEach(s=>{cr[En[s]]=s});const du={type:"error",data:"parser error"},Gm=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ym=typeof ArrayBuffer=="function",Vm=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,ku=({type:s,data:a},l,r)=>Gm&&a instanceof Blob?l?r(a):Xh(a,r):Ym&&(a instanceof ArrayBuffer||Vm(a))?l?r(a):Xh(new Blob([a]),r):r(En[s]+(a||"")),Xh=(s,a)=>{const l=new FileReader;return l.onload=function(){const r=l.result.split(",")[1];a("b"+(r||""))},l.readAsDataURL(s)};function Qh(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let Ic;function dv(s,a){if(Gm&&s.data instanceof Blob)return s.data.arrayBuffer().then(Qh).then(a);if(Ym&&(s.data instanceof ArrayBuffer||Vm(s.data)))return a(Qh(s.data));ku(s,!1,l=>{Ic||(Ic=new TextEncoder),a(Ic.encode(l))})}const Fh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<Fh.length;s++)Vi[Fh.charCodeAt(s)]=s;const hv=s=>{let a=s.length*.75,l=s.length,r,c=0,f,h,y,d;s[s.length-1]==="="&&(a--,s[s.length-2]==="="&&a--);const p=new ArrayBuffer(a),w=new Uint8Array(p);for(r=0;r<l;r+=4)f=Vi[s.charCodeAt(r)],h=Vi[s.charCodeAt(r+1)],y=Vi[s.charCodeAt(r+2)],d=Vi[s.charCodeAt(r+3)],w[c++]=f<<2|h>>4,w[c++]=(h&15)<<4|y>>2,w[c++]=(y&3)<<6|d&63;return p},mv=typeof ArrayBuffer=="function",ju=(s,a)=>{if(typeof s!="string")return{type:"message",data:Zm(s,a)};const l=s.charAt(0);return l==="b"?{type:"message",data:gv(s.substring(1),a)}:cr[l]?s.length>1?{type:cr[l],data:s.substring(1)}:{type:cr[l]}:du},gv=(s,a)=>{if(mv){const l=hv(s);return Zm(l,a)}else return{base64:!0,data:s}},Zm=(s,a)=>{switch(a){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},Xm="",pv=(s,a)=>{const l=s.length,r=new Array(l);let c=0;s.forEach((f,h)=>{ku(f,!1,y=>{r[h]=y,++c===l&&a(r.join(Xm))})})},yv=(s,a)=>{const l=s.split(Xm),r=[];for(let c=0;c<l.length;c++){const f=ju(l[c],a);if(r.push(f),f.type==="error")break}return r};function vv(){return new TransformStream({transform(s,a){dv(s,l=>{const r=l.length;let c;if(r<126)c=new Uint8Array(1),new DataView(c.buffer).setUint8(0,r);else if(r<65536){c=new Uint8Array(3);const f=new DataView(c.buffer);f.setUint8(0,126),f.setUint16(1,r)}else{c=new Uint8Array(9);const f=new DataView(c.buffer);f.setUint8(0,127),f.setBigUint64(1,BigInt(r))}s.data&&typeof s.data!="string"&&(c[0]|=128),a.enqueue(c),a.enqueue(l)})}})}let eu;function rr(s){return s.reduce((a,l)=>a+l.length,0)}function or(s,a){if(s[0].length===a)return s.shift();const l=new Uint8Array(a);let r=0;for(let c=0;c<a;c++)l[c]=s[0][r++],r===s[0].length&&(s.shift(),r=0);return s.length&&r<s[0].length&&(s[0]=s[0].slice(r)),l}function Sv(s,a){eu||(eu=new TextDecoder);const l=[];let r=0,c=-1,f=!1;return new TransformStream({transform(h,y){for(l.push(h);;){if(r===0){if(rr(l)<1)break;const d=or(l,1);f=(d[0]&128)===128,c=d[0]&127,c<126?r=3:c===126?r=1:r=2}else if(r===1){if(rr(l)<2)break;const d=or(l,2);c=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),r=3}else if(r===2){if(rr(l)<8)break;const d=or(l,8),p=new DataView(d.buffer,d.byteOffset,d.length),w=p.getUint32(0);if(w>Math.pow(2,21)-1){y.enqueue(du);break}c=w*Math.pow(2,32)+p.getUint32(4),r=3}else{if(rr(l)<c)break;const d=or(l,c);y.enqueue(ju(f?d:eu.decode(d),a)),r=0}if(c===0||c>s){y.enqueue(du);break}}}})}const Qm=4;function st(s){if(s)return bv(s)}function bv(s){for(var a in st.prototype)s[a]=st.prototype[a];return s}st.prototype.on=st.prototype.addEventListener=function(s,a){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(a),this};st.prototype.once=function(s,a){function l(){this.off(s,l),a.apply(this,arguments)}return l.fn=a,this.on(s,l),this};st.prototype.off=st.prototype.removeListener=st.prototype.removeAllListeners=st.prototype.removeEventListener=function(s,a){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+s];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var r,c=0;c<l.length;c++)if(r=l[c],r===a||r.fn===a){l.splice(c,1);break}return l.length===0&&delete this._callbacks["$"+s],this};st.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var a=new Array(arguments.length-1),l=this._callbacks["$"+s],r=1;r<arguments.length;r++)a[r-1]=arguments[r];if(l){l=l.slice(0);for(var r=0,c=l.length;r<c;++r)l[r].apply(this,a)}return this};st.prototype.emitReserved=st.prototype.emit;st.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};st.prototype.hasListeners=function(s){return!!this.listeners(s).length};const _r=typeof Promise=="function"&&typeof Promise.resolve=="function"?a=>Promise.resolve().then(a):(a,l)=>l(a,0),an=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Ev="arraybuffer";function Fm(s,...a){return a.reduce((l,r)=>(s.hasOwnProperty(r)&&(l[r]=s[r]),l),{})}const wv=an.setTimeout,xv=an.clearTimeout;function Rr(s,a){a.useNativeTimers?(s.setTimeoutFn=wv.bind(an),s.clearTimeoutFn=xv.bind(an)):(s.setTimeoutFn=an.setTimeout.bind(an),s.clearTimeoutFn=an.clearTimeout.bind(an))}const Cv=1.33;function Mv(s){return typeof s=="string"?Tv(s):Math.ceil((s.byteLength||s.size)*Cv)}function Tv(s){let a=0,l=0;for(let r=0,c=s.length;r<c;r++)a=s.charCodeAt(r),a<128?l+=1:a<2048?l+=2:a<55296||a>=57344?l+=3:(r++,l+=4);return l}function $m(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Nv(s){let a="";for(let l in s)s.hasOwnProperty(l)&&(a.length&&(a+="&"),a+=encodeURIComponent(l)+"="+encodeURIComponent(s[l]));return a}function Av(s){let a={},l=s.split("&");for(let r=0,c=l.length;r<c;r++){let f=l[r].split("=");a[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return a}class _v extends Error{constructor(a,l,r){super(a),this.description=l,this.context=r,this.type="TransportError"}}class Uu extends st{constructor(a){super(),this.writable=!1,Rr(this,a),this.opts=a,this.query=a.query,this.socket=a.socket,this.supportsBinary=!a.forceBase64}onError(a,l,r){return super.emitReserved("error",new _v(a,l,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(a){this.readyState==="open"&&this.write(a)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(a){const l=ju(a,this.socket.binaryType);this.onPacket(l)}onPacket(a){super.emitReserved("packet",a)}onClose(a){this.readyState="closed",super.emitReserved("close",a)}pause(a){}createUri(a,l={}){return a+"://"+this._hostname()+this._port()+this.opts.path+this._query(l)}_hostname(){const a=this.opts.hostname;return a.indexOf(":")===-1?a:"["+a+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(a){const l=Nv(a);return l.length?"?"+l:""}}class Rv extends Uu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(a){this.readyState="pausing";const l=()=>{this.readyState="paused",a()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||l()})),this.writable||(r++,this.once("drain",function(){--r||l()}))}else l()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(a){const l=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};yv(a,this.socket.binaryType).forEach(l),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const a=()=>{this.write([{type:"close"}])};this.readyState==="open"?a():this.once("open",a)}write(a){this.writable=!1,pv(a,l=>{this.doWrite(l,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const a=this.opts.secure?"https":"http",l=this.query||{};return this.opts.timestampRequests!==!1&&(l[this.opts.timestampParam]=$m()),!this.supportsBinary&&!l.sid&&(l.b64=1),this.createUri(a,l)}}let Km=!1;try{Km=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ov=Km;function kv(){}class jv extends Rv{constructor(a){if(super(a),typeof location<"u"){const l=location.protocol==="https:";let r=location.port;r||(r=l?"443":"80"),this.xd=typeof location<"u"&&a.hostname!==location.hostname||r!==a.port}}doWrite(a,l){const r=this.request({method:"POST",data:a});r.on("success",l),r.on("error",(c,f)=>{this.onError("xhr post error",c,f)})}doPoll(){const a=this.request();a.on("data",this.onData.bind(this)),a.on("error",(l,r)=>{this.onError("xhr poll error",l,r)}),this.pollXhr=a}}let Ls=class ur extends st{constructor(a,l,r){super(),this.createRequest=a,Rr(this,r),this._opts=r,this._method=r.method||"GET",this._uri=l,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var a;const l=Fm(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");l.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(l);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let c in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(c)&&r.setRequestHeader(c,this._opts.extraHeaders[c])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(a=this._opts.cookieJar)===null||a===void 0||a.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var c;r.readyState===3&&((c=this._opts.cookieJar)===null||c===void 0||c.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(c){this.setTimeoutFn(()=>{this._onError(c)},0);return}typeof document<"u"&&(this._index=ur.requestsCount++,ur.requests[this._index]=this)}_onError(a){this.emitReserved("error",a,this._xhr),this._cleanup(!0)}_cleanup(a){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=kv,a)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ur.requests[this._index],this._xhr=null}}_onLoad(){const a=this._xhr.responseText;a!==null&&(this.emitReserved("data",a),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Ls.requestsCount=0;Ls.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",$h);else if(typeof addEventListener=="function"){const s="onpagehide"in an?"pagehide":"unload";addEventListener(s,$h,!1)}}function $h(){for(let s in Ls.requests)Ls.requests.hasOwnProperty(s)&&Ls.requests[s].abort()}const Uv=function(){const s=Jm({xdomain:!1});return s&&s.responseType!==null}();class Dv extends jv{constructor(a){super(a);const l=a&&a.forceBase64;this.supportsBinary=Uv&&!l}request(a={}){return Object.assign(a,{xd:this.xd},this.opts),new Ls(Jm,this.uri(),a)}}function Jm(s){const a=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!a||Ov))return new XMLHttpRequest}catch{}if(!a)try{return new an[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Pm=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class zv extends Uu{get name(){return"websocket"}doOpen(){const a=this.uri(),l=this.opts.protocols,r=Pm?{}:Fm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(a,l,r)}catch(c){return this.emitReserved("error",c)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=a=>this.onClose({description:"websocket connection closed",context:a}),this.ws.onmessage=a=>this.onData(a.data),this.ws.onerror=a=>this.onError("websocket error",a)}write(a){this.writable=!1;for(let l=0;l<a.length;l++){const r=a[l],c=l===a.length-1;ku(r,this.supportsBinary,f=>{try{this.doWrite(r,f)}catch{}c&&_r(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const a=this.opts.secure?"wss":"ws",l=this.query||{};return this.opts.timestampRequests&&(l[this.opts.timestampParam]=$m()),this.supportsBinary||(l.b64=1),this.createUri(a,l)}}const tu=an.WebSocket||an.MozWebSocket;class Lv extends zv{createSocket(a,l,r){return Pm?new tu(a,l,r):l?new tu(a,l):new tu(a)}doWrite(a,l){this.ws.send(l)}}class Bv extends Uu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(a){return this.emitReserved("error",a)}this._transport.closed.then(()=>{this.onClose()}).catch(a=>{this.onError("webtransport error",a)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(a=>{const l=Sv(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=a.readable.pipeThrough(l).getReader(),c=vv();c.readable.pipeTo(a.writable),this._writer=c.writable.getWriter();const f=()=>{r.read().then(({done:y,value:d})=>{y||(this.onPacket(d),f())}).catch(y=>{})};f();const h={type:"open"};this.query.sid&&(h.data=`{"sid":"${this.query.sid}"}`),this._writer.write(h).then(()=>this.onOpen())})})}write(a){this.writable=!1;for(let l=0;l<a.length;l++){const r=a[l],c=l===a.length-1;this._writer.write(r).then(()=>{c&&_r(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var a;(a=this._transport)===null||a===void 0||a.close()}}const qv={websocket:Lv,webtransport:Bv,polling:Dv},Hv=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Gv=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function hu(s){if(s.length>8e3)throw"URI too long";const a=s,l=s.indexOf("["),r=s.indexOf("]");l!=-1&&r!=-1&&(s=s.substring(0,l)+s.substring(l,r).replace(/:/g,";")+s.substring(r,s.length));let c=Hv.exec(s||""),f={},h=14;for(;h--;)f[Gv[h]]=c[h]||"";return l!=-1&&r!=-1&&(f.source=a,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=!0),f.pathNames=Yv(f,f.path),f.queryKey=Vv(f,f.query),f}function Yv(s,a){const l=/\/{2,9}/g,r=a.replace(l,"/").split("/");return(a.slice(0,1)=="/"||a.length===0)&&r.splice(0,1),a.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Vv(s,a){const l={};return a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,c,f){c&&(l[c]=f)}),l}const mu=typeof addEventListener=="function"&&typeof removeEventListener=="function",fr=[];mu&&addEventListener("offline",()=>{fr.forEach(s=>s())},!1);class va extends st{constructor(a,l){if(super(),this.binaryType=Ev,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,a&&typeof a=="object"&&(l=a,a=null),a){const r=hu(a);l.hostname=r.host,l.secure=r.protocol==="https"||r.protocol==="wss",l.port=r.port,r.query&&(l.query=r.query)}else l.host&&(l.hostname=hu(l.host).host);Rr(this,l),this.secure=l.secure!=null?l.secure:typeof location<"u"&&location.protocol==="https:",l.hostname&&!l.port&&(l.port=this.secure?"443":"80"),this.hostname=l.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=l.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},l.transports.forEach(r=>{const c=r.prototype.name;this.transports.push(c),this._transportsByName[c]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},l),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Av(this.opts.query)),mu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},fr.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(a){const l=Object.assign({},this.opts.query);l.EIO=Qm,l.transport=a,this.id&&(l.sid=this.id);const r=Object.assign({},this.opts,{query:l,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[a]);return new this._transportsByName[a](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const a=this.opts.rememberUpgrade&&va.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const l=this.createTransport(a);l.open(),this.setTransport(l)}setTransport(a){this.transport&&this.transport.removeAllListeners(),this.transport=a,a.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",l=>this._onClose("transport close",l))}onOpen(){this.readyState="open",va.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",a),this.emitReserved("heartbeat"),a.type){case"open":this.onHandshake(JSON.parse(a.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const l=new Error("server error");l.code=a.data,this._onError(l);break;case"message":this.emitReserved("data",a.data),this.emitReserved("message",a.data);break}}onHandshake(a){this.emitReserved("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this._pingInterval=a.pingInterval,this._pingTimeout=a.pingTimeout,this._maxPayload=a.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const a=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+a,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},a),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const a=this._getWritablePackets();this.transport.send(a),this._prevBufferLen=a.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let l=1;for(let r=0;r<this.writeBuffer.length;r++){const c=this.writeBuffer[r].data;if(c&&(l+=Mv(c)),r>0&&l>this._maxPayload)return this.writeBuffer.slice(0,r);l+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const a=Date.now()>this._pingTimeoutTime;return a&&(this._pingTimeoutTime=0,_r(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),a}write(a,l,r){return this._sendPacket("message",a,l,r),this}send(a,l,r){return this._sendPacket("message",a,l,r),this}_sendPacket(a,l,r,c){if(typeof l=="function"&&(c=l,l=void 0),typeof r=="function"&&(c=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const f={type:a,data:l,options:r};this.emitReserved("packetCreate",f),this.writeBuffer.push(f),c&&this.once("flush",c),this.flush()}close(){const a=()=>{this._onClose("forced close"),this.transport.close()},l=()=>{this.off("upgrade",l),this.off("upgradeError",l),a()},r=()=>{this.once("upgrade",l),this.once("upgradeError",l)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():a()}):this.upgrading?r():a()),this}_onError(a){if(va.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",a),this._onClose("transport error",a)}_onClose(a,l){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),mu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=fr.indexOf(this._offlineEventListener);r!==-1&&fr.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",a,l),this.writeBuffer=[],this._prevBufferLen=0}}}va.protocol=Qm;class Zv extends va{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let a=0;a<this._upgrades.length;a++)this._probe(this._upgrades[a])}_probe(a){let l=this.createTransport(a),r=!1;va.priorWebsocketSuccess=!1;const c=()=>{r||(l.send([{type:"ping",data:"probe"}]),l.once("packet",E=>{if(!r)if(E.type==="pong"&&E.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",l),!l)return;va.priorWebsocketSuccess=l.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(w(),this.setTransport(l),l.send([{type:"upgrade"}]),this.emitReserved("upgrade",l),l=null,this.upgrading=!1,this.flush())})}else{const M=new Error("probe error");M.transport=l.name,this.emitReserved("upgradeError",M)}}))};function f(){r||(r=!0,w(),l.close(),l=null)}const h=E=>{const M=new Error("probe error: "+E);M.transport=l.name,f(),this.emitReserved("upgradeError",M)};function y(){h("transport closed")}function d(){h("socket closed")}function p(E){l&&E.name!==l.name&&f()}const w=()=>{l.removeListener("open",c),l.removeListener("error",h),l.removeListener("close",y),this.off("close",d),this.off("upgrading",p)};l.once("open",c),l.once("error",h),l.once("close",y),this.once("close",d),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&a!=="webtransport"?this.setTimeoutFn(()=>{r||l.open()},200):l.open()}onHandshake(a){this._upgrades=this._filterUpgrades(a.upgrades),super.onHandshake(a)}_filterUpgrades(a){const l=[];for(let r=0;r<a.length;r++)~this.transports.indexOf(a[r])&&l.push(a[r]);return l}}let Xv=class extends Zv{constructor(a,l={}){const r=typeof a=="object"?a:l;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(c=>qv[c]).filter(c=>!!c)),super(a,r)}};function Qv(s,a="",l){let r=s;l=l||typeof location<"u"&&location,s==null&&(s=l.protocol+"//"+l.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=l.protocol+s:s=l.host+s),/^(https?|wss?):\/\//.test(s)||(typeof l<"u"?s=l.protocol+"//"+s:s="https://"+s),r=hu(s)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const f=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+f+":"+r.port+a,r.href=r.protocol+"://"+f+(l&&l.port===r.port?"":":"+r.port),r}const Fv=typeof ArrayBuffer=="function",$v=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,Wm=Object.prototype.toString,Kv=typeof Blob=="function"||typeof Blob<"u"&&Wm.call(Blob)==="[object BlobConstructor]",Jv=typeof File=="function"||typeof File<"u"&&Wm.call(File)==="[object FileConstructor]";function Du(s){return Fv&&(s instanceof ArrayBuffer||$v(s))||Kv&&s instanceof Blob||Jv&&s instanceof File}function dr(s,a){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let l=0,r=s.length;l<r;l++)if(dr(s[l]))return!0;return!1}if(Du(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return dr(s.toJSON(),!0);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)&&dr(s[l]))return!0;return!1}function Pv(s){const a=[],l=s.data,r=s;return r.data=gu(l,a),r.attachments=a.length,{packet:r,buffers:a}}function gu(s,a){if(!s)return s;if(Du(s)){const l={_placeholder:!0,num:a.length};return a.push(s),l}else if(Array.isArray(s)){const l=new Array(s.length);for(let r=0;r<s.length;r++)l[r]=gu(s[r],a);return l}else if(typeof s=="object"&&!(s instanceof Date)){const l={};for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(l[r]=gu(s[r],a));return l}return s}function Wv(s,a){return s.data=pu(s.data,a),delete s.attachments,s}function pu(s,a){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<a.length)return a[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let l=0;l<s.length;l++)s[l]=pu(s[l],a);else if(typeof s=="object")for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&(s[l]=pu(s[l],a));return s}const Iv=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],e2=5;var ke;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(ke||(ke={}));class t2{constructor(a){this.replacer=a}encode(a){return(a.type===ke.EVENT||a.type===ke.ACK)&&dr(a)?this.encodeAsBinary({type:a.type===ke.EVENT?ke.BINARY_EVENT:ke.BINARY_ACK,nsp:a.nsp,data:a.data,id:a.id}):[this.encodeAsString(a)]}encodeAsString(a){let l=""+a.type;return(a.type===ke.BINARY_EVENT||a.type===ke.BINARY_ACK)&&(l+=a.attachments+"-"),a.nsp&&a.nsp!=="/"&&(l+=a.nsp+","),a.id!=null&&(l+=a.id),a.data!=null&&(l+=JSON.stringify(a.data,this.replacer)),l}encodeAsBinary(a){const l=Pv(a),r=this.encodeAsString(l.packet),c=l.buffers;return c.unshift(r),c}}function Kh(s){return Object.prototype.toString.call(s)==="[object Object]"}class zu extends st{constructor(a){super(),this.reviver=a}add(a){let l;if(typeof a=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");l=this.decodeString(a);const r=l.type===ke.BINARY_EVENT;r||l.type===ke.BINARY_ACK?(l.type=r?ke.EVENT:ke.ACK,this.reconstructor=new n2(l),l.attachments===0&&super.emitReserved("decoded",l)):super.emitReserved("decoded",l)}else if(Du(a)||a.base64)if(this.reconstructor)l=this.reconstructor.takeBinaryData(a),l&&(this.reconstructor=null,super.emitReserved("decoded",l));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+a)}decodeString(a){let l=0;const r={type:Number(a.charAt(0))};if(ke[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ke.BINARY_EVENT||r.type===ke.BINARY_ACK){const f=l+1;for(;a.charAt(++l)!=="-"&&l!=a.length;);const h=a.substring(f,l);if(h!=Number(h)||a.charAt(l)!=="-")throw new Error("Illegal attachments");r.attachments=Number(h)}if(a.charAt(l+1)==="/"){const f=l+1;for(;++l&&!(a.charAt(l)===","||l===a.length););r.nsp=a.substring(f,l)}else r.nsp="/";const c=a.charAt(l+1);if(c!==""&&Number(c)==c){const f=l+1;for(;++l;){const h=a.charAt(l);if(h==null||Number(h)!=h){--l;break}if(l===a.length)break}r.id=Number(a.substring(f,l+1))}if(a.charAt(++l)){const f=this.tryParse(a.substr(l));if(zu.isPayloadValid(r.type,f))r.data=f;else throw new Error("invalid payload")}return r}tryParse(a){try{return JSON.parse(a,this.reviver)}catch{return!1}}static isPayloadValid(a,l){switch(a){case ke.CONNECT:return Kh(l);case ke.DISCONNECT:return l===void 0;case ke.CONNECT_ERROR:return typeof l=="string"||Kh(l);case ke.EVENT:case ke.BINARY_EVENT:return Array.isArray(l)&&(typeof l[0]=="number"||typeof l[0]=="string"&&Iv.indexOf(l[0])===-1);case ke.ACK:case ke.BINARY_ACK:return Array.isArray(l)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class n2{constructor(a){this.packet=a,this.buffers=[],this.reconPack=a}takeBinaryData(a){if(this.buffers.push(a),this.buffers.length===this.reconPack.attachments){const l=Wv(this.reconPack,this.buffers);return this.finishedReconstruction(),l}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const a2=Object.freeze(Object.defineProperty({__proto__:null,Decoder:zu,Encoder:t2,get PacketType(){return ke},protocol:e2},Symbol.toStringTag,{value:"Module"}));function un(s,a,l){return s.on(a,l),function(){s.off(a,l)}}const s2=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Im extends st{constructor(a,l,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=a,this.nsp=l,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const a=this.io;this.subs=[un(a,"open",this.onopen.bind(this)),un(a,"packet",this.onpacket.bind(this)),un(a,"error",this.onerror.bind(this)),un(a,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...a){return a.unshift("message"),this.emit.apply(this,a),this}emit(a,...l){var r,c,f;if(s2.hasOwnProperty(a))throw new Error('"'+a.toString()+'" is a reserved event name');if(l.unshift(a),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(l),this;const h={type:ke.EVENT,data:l};if(h.options={},h.options.compress=this.flags.compress!==!1,typeof l[l.length-1]=="function"){const w=this.ids++,E=l.pop();this._registerAckCallback(w,E),h.id=w}const y=(c=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||c===void 0?void 0:c.writable,d=this.connected&&!(!((f=this.io.engine)===null||f===void 0)&&f._hasPingExpired());return this.flags.volatile&&!y||(d?(this.notifyOutgoingListeners(h),this.packet(h)):this.sendBuffer.push(h)),this.flags={},this}_registerAckCallback(a,l){var r;const c=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(c===void 0){this.acks[a]=l;return}const f=this.io.setTimeoutFn(()=>{delete this.acks[a];for(let y=0;y<this.sendBuffer.length;y++)this.sendBuffer[y].id===a&&this.sendBuffer.splice(y,1);l.call(this,new Error("operation has timed out"))},c),h=(...y)=>{this.io.clearTimeoutFn(f),l.apply(this,y)};h.withError=!0,this.acks[a]=h}emitWithAck(a,...l){return new Promise((r,c)=>{const f=(h,y)=>h?c(h):r(y);f.withError=!0,l.push(f),this.emit(a,...l)})}_addToQueue(a){let l;typeof a[a.length-1]=="function"&&(l=a.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:a,flags:Object.assign({fromQueue:!0},this.flags)};a.push((c,...f)=>r!==this._queue[0]?void 0:(c!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),l&&l(c)):(this._queue.shift(),l&&l(null,...f)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(a=!1){if(!this.connected||this._queue.length===0)return;const l=this._queue[0];l.pending&&!a||(l.pending=!0,l.tryCount++,this.flags=l.flags,this.emit.apply(this,l.args))}packet(a){a.nsp=this.nsp,this.io._packet(a)}onopen(){typeof this.auth=="function"?this.auth(a=>{this._sendConnectPacket(a)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(a){this.packet({type:ke.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},a):a})}onerror(a){this.connected||this.emitReserved("connect_error",a)}onclose(a,l){this.connected=!1,delete this.id,this.emitReserved("disconnect",a,l),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(a=>{if(!this.sendBuffer.some(r=>String(r.id)===a)){const r=this.acks[a];delete this.acks[a],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(a){if(a.nsp===this.nsp)switch(a.type){case ke.CONNECT:a.data&&a.data.sid?this.onconnect(a.data.sid,a.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ke.EVENT:case ke.BINARY_EVENT:this.onevent(a);break;case ke.ACK:case ke.BINARY_ACK:this.onack(a);break;case ke.DISCONNECT:this.ondisconnect();break;case ke.CONNECT_ERROR:this.destroy();const r=new Error(a.data.message);r.data=a.data.data,this.emitReserved("connect_error",r);break}}onevent(a){const l=a.data||[];a.id!=null&&l.push(this.ack(a.id)),this.connected?this.emitEvent(l):this.receiveBuffer.push(Object.freeze(l))}emitEvent(a){if(this._anyListeners&&this._anyListeners.length){const l=this._anyListeners.slice();for(const r of l)r.apply(this,a)}super.emit.apply(this,a),this._pid&&a.length&&typeof a[a.length-1]=="string"&&(this._lastOffset=a[a.length-1])}ack(a){const l=this;let r=!1;return function(...c){r||(r=!0,l.packet({type:ke.ACK,id:a,data:c}))}}onack(a){const l=this.acks[a.id];typeof l=="function"&&(delete this.acks[a.id],l.withError&&a.data.unshift(null),l.apply(this,a.data))}onconnect(a,l){this.id=a,this.recovered=l&&this._pid===l,this._pid=l,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(a=>this.emitEvent(a)),this.receiveBuffer=[],this.sendBuffer.forEach(a=>{this.notifyOutgoingListeners(a),this.packet(a)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(a=>a()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ke.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(a){return this.flags.compress=a,this}get volatile(){return this.flags.volatile=!0,this}timeout(a){return this.flags.timeout=a,this}onAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(a),this}prependAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(a),this}offAny(a){if(!this._anyListeners)return this;if(a){const l=this._anyListeners;for(let r=0;r<l.length;r++)if(a===l[r])return l.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(a),this}prependAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(a),this}offAnyOutgoing(a){if(!this._anyOutgoingListeners)return this;if(a){const l=this._anyOutgoingListeners;for(let r=0;r<l.length;r++)if(a===l[r])return l.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(a){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const l=this._anyOutgoingListeners.slice();for(const r of l)r.apply(this,a.data)}}}function Ys(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}Ys.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var a=Math.random(),l=Math.floor(a*this.jitter*s);s=(Math.floor(a*10)&1)==0?s-l:s+l}return Math.min(s,this.max)|0};Ys.prototype.reset=function(){this.attempts=0};Ys.prototype.setMin=function(s){this.ms=s};Ys.prototype.setMax=function(s){this.max=s};Ys.prototype.setJitter=function(s){this.jitter=s};class yu extends st{constructor(a,l){var r;super(),this.nsps={},this.subs=[],a&&typeof a=="object"&&(l=a,a=void 0),l=l||{},l.path=l.path||"/socket.io",this.opts=l,Rr(this,l),this.reconnection(l.reconnection!==!1),this.reconnectionAttempts(l.reconnectionAttempts||1/0),this.reconnectionDelay(l.reconnectionDelay||1e3),this.reconnectionDelayMax(l.reconnectionDelayMax||5e3),this.randomizationFactor((r=l.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ys({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(l.timeout==null?2e4:l.timeout),this._readyState="closed",this.uri=a;const c=l.parser||a2;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this._autoConnect=l.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(a){return arguments.length?(this._reconnection=!!a,a||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(a){return a===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=a,this)}reconnectionDelay(a){var l;return a===void 0?this._reconnectionDelay:(this._reconnectionDelay=a,(l=this.backoff)===null||l===void 0||l.setMin(a),this)}randomizationFactor(a){var l;return a===void 0?this._randomizationFactor:(this._randomizationFactor=a,(l=this.backoff)===null||l===void 0||l.setJitter(a),this)}reconnectionDelayMax(a){var l;return a===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=a,(l=this.backoff)===null||l===void 0||l.setMax(a),this)}timeout(a){return arguments.length?(this._timeout=a,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(a){if(~this._readyState.indexOf("open"))return this;this.engine=new Xv(this.uri,this.opts);const l=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const c=un(l,"open",function(){r.onopen(),a&&a()}),f=y=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",y),a?a(y):this.maybeReconnectOnOpen()},h=un(l,"error",f);if(this._timeout!==!1){const y=this._timeout,d=this.setTimeoutFn(()=>{c(),f(new Error("timeout")),l.close()},y);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(c),this.subs.push(h),this}connect(a){return this.open(a)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const a=this.engine;this.subs.push(un(a,"ping",this.onping.bind(this)),un(a,"data",this.ondata.bind(this)),un(a,"error",this.onerror.bind(this)),un(a,"close",this.onclose.bind(this)),un(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(a){try{this.decoder.add(a)}catch(l){this.onclose("parse error",l)}}ondecoded(a){_r(()=>{this.emitReserved("packet",a)},this.setTimeoutFn)}onerror(a){this.emitReserved("error",a)}socket(a,l){let r=this.nsps[a];return r?this._autoConnect&&!r.active&&r.connect():(r=new Im(this,a,l),this.nsps[a]=r),r}_destroy(a){const l=Object.keys(this.nsps);for(const r of l)if(this.nsps[r].active)return;this._close()}_packet(a){const l=this.encoder.encode(a);for(let r=0;r<l.length;r++)this.engine.write(l[r],a.options)}cleanup(){this.subs.forEach(a=>a()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(a,l){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",a,l),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const a=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const l=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{a.skipReconnect||(this.emitReserved("reconnect_attempt",a.backoff.attempts),!a.skipReconnect&&a.open(c=>{c?(a._reconnecting=!1,a.reconnect(),this.emitReserved("reconnect_error",c)):a.onreconnect()}))},l);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const a=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",a)}}const Hi={};function hr(s,a){typeof s=="object"&&(a=s,s=void 0),a=a||{};const l=Qv(s,a.path||"/socket.io"),r=l.source,c=l.id,f=l.path,h=Hi[c]&&f in Hi[c].nsps,y=a.forceNew||a["force new connection"]||a.multiplex===!1||h;let d;return y?d=new yu(r,a):(Hi[c]||(Hi[c]=new yu(r,a)),d=Hi[c]),l.query&&!a.query&&(a.query=l.queryKey),d.socket(l.path,a)}Object.assign(hr,{Manager:yu,Socket:Im,io:hr,connect:hr});class i2{constructor(a,l={}){this.serverUrl=a,this.socket=null,this.connectionState="disconnected",this.messageQueue=[],this.messageSequence=0,this.heartbeatInterval=null,this.reconnectTimeout=null,this.currentUsername=null,this.fallbackMode=!1,this.socketOptions={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,autoConnect:!1,...l},this.CONNECTION_STATES={DISCONNECTED:"disconnected",CONNECTING:"connecting",CONNECTED:"connected",RECONNECTING:"reconnecting",FALLBACK:"fallback"}}initialize(){this.socket&&(console.log(" BaseSocketClient: Socket already initialized, disconnecting first"),this.socket.disconnect(),this.socket=null);const a=this.serverUrl==="/"||this.serverUrl==="",l=a?window.location.origin:this.serverUrl;console.log(` BaseSocketClient: Initializing socket connection to: "${l}"`),console.log(` BaseSocketClient: Using ${a?"relative":"absolute"} URL mode`);const r={...this.socketOptions,path:"/socket.io",autoConnect:!1};a?r.transports=["websocket","polling"]:r.transports=["websocket","polling"];try{return this.socket=hr(l,r),console.log(" BaseSocketClient: Socket instance created successfully"),!0}catch(c){return console.error(" BaseSocketClient: Error initializing socket:",c),this.connectionState=this.CONNECTION_STATES.DISCONNECTED,!1}}connect(a={},l=null){if(console.log(" BaseSocketClient: Connect called with username:",l),this.socket||(console.log(" BaseSocketClient: Socket not initialized, initializing now"),this.initialize()),l&&(console.log(" BaseSocketClient: Setting current username:",l),this.currentUsername=l),this.connectionState===this.CONNECTION_STATES.CONNECTED){console.log(" BaseSocketClient: Already connected, calling onConnect callback"),a.onConnect&&a.onConnect(),this.currentUsername&&(console.log(" BaseSocketClient: Authenticating with server"),this.authenticate(this.currentUsername));return}if(this.connectionState===this.CONNECTION_STATES.CONNECTING||this.connectionState===this.CONNECTION_STATES.RECONNECTING){console.log(" BaseSocketClient: Already connecting or reconnecting, skipping connect");return}console.log(" BaseSocketClient: Updating connection state to CONNECTING"),this.updateConnectionState(this.CONNECTION_STATES.CONNECTING),console.log(" BaseSocketClient: Removing all existing listeners"),this.socket.removeAllListeners(),console.log(" BaseSocketClient: Setting up event listeners"),this.setupEventListeners(a),console.log(" BaseSocketClient: Connecting to server:",this.serverUrl),this.socket.connect()}authenticate(a,l=null){if(!this.socket){console.error(" BaseSocketClient: Socket not initialized in authenticate");return}l||(l=localStorage.getItem("token")),console.log(" BaseSocketClient: Authenticating with username:",a),this.socket.emit("authenticate",{username:a,token:l})}setupEventListeners(a){console.log(" BaseSocketClient: Setting up event listeners with callbacks:",Object.keys(a)),this.socket.on("connect",()=>{console.log(" BaseSocketClient: Socket connected event fired"),this.updateConnectionState(this.CONNECTION_STATES.CONNECTED),this.currentUsername&&(console.log(" BaseSocketClient: Authenticating after connect with username:",this.currentUsername),this.authenticate(this.currentUsername)),console.log(" BaseSocketClient: Setting up heartbeat"),this.setupHeartbeat(),console.log(" BaseSocketClient: Processing message queue, count:",this.messageQueue.length),this.processMessageQueue(),console.log(" BaseSocketClient: Calling onConnect callback"),a.onConnect&&a.onConnect()}),this.socket.on("connect_error",l=>{console.log(" BaseSocketClient: Socket connect_error event fired",l),this.connectionState!==this.CONNECTION_STATES.RECONNECTING&&this.updateConnectionState(this.CONNECTION_STATES.RECONNECTING),console.log(" BaseSocketClient: Calling onConnectError callback"),a.onConnectError&&a.onConnectError(l)}),this.socket.on("disconnect",l=>{console.log(" BaseSocketClient: Socket disconnect event fired, reason:",l),clearInterval(this.heartbeatInterval),l==="io client disconnect"||l==="io server disconnect"?(console.log(" BaseSocketClient: Intentional disconnect detected"),this.updateConnectionState(this.CONNECTION_STATES.DISCONNECTED)):(console.log(" BaseSocketClient: Unintentional disconnect detected, preparing for reconnect"),this.updateConnectionState(this.CONNECTION_STATES.RECONNECTING),clearTimeout(this.reconnectTimeout),this.reconnectTimeout=setTimeout(()=>{this.connectionState===this.CONNECTION_STATES.RECONNECTING&&(console.log(" BaseSocketClient: Manual reconnect attempt"),this.socket.connect())},5e3)),console.log(" BaseSocketClient: Calling onDisconnect callback"),a.onDisconnect&&a.onDisconnect(l)}),this.socket.on("authenticated",l=>{console.log(" BaseSocketClient: Authentication response received:",l),l.success?(console.log(" BaseSocketClient: Authentication successful"),l.username&&(this.currentUsername=l.username,console.log(" BaseSocketClient: Username set from server:",this.currentUsername)),a.onAuthenticated&&a.onAuthenticated(l)):(console.error(" BaseSocketClient: Authentication failed:",l.error),a.onAuthenticationFailed&&a.onAuthenticationFailed(l))})}disconnect(){clearInterval(this.heartbeatInterval),clearTimeout(this.reconnectTimeout),this.socket&&(this.socket.removeAllListeners(),this.socket.connected&&this.socket.disconnect()),this.updateConnectionState(this.CONNECTION_STATES.DISCONNECTED),this.currentUsername=null}emitWithQueue(a,l){var c;const r={...l,_seq:this.messageSequence++,_timestamp:Date.now()};return this.connectionState===this.CONNECTION_STATES.CONNECTED&&((c=this.socket)!=null&&c.connected)?this.socket.emit(a,r):this.messageQueue.push({eventName:a,data:r}),this.messageSequence-1}processMessageQueue(){if(this.messageQueue.length===0||this.connectionState!==this.CONNECTION_STATES.CONNECTED)return;const a=[...this.messageQueue];this.messageQueue=[],a.forEach(l=>{this.socket.emit(l.eventName,l.data)})}setupHeartbeat(){clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{var a;(a=this.socket)!=null&&a.connected?this.socket.emit("heartbeat",{timestamp:Date.now()}):clearInterval(this.heartbeatInterval)},3e4)}updateConnectionState(a){this.connectionState=a}isConnected(){var a;return this.connectionState===this.CONNECTION_STATES.CONNECTED&&((a=this.socket)==null?void 0:a.connected)}getConnectionState(){return this.connectionState}getSocketId(){var a;return((a=this.socket)==null?void 0:a.id)||"unknown"}getSocket(){return this.socket}enableFallbackMode(){console.log(" BaseSocketClient: Enabling fallback mode"),this.fallbackMode=!0,this.updateConnectionState(this.CONNECTION_STATES.FALLBACK),this.socket&&(this.socket.removeAllListeners(),this.socket.disconnect(),this.socket=null),clearInterval(this.heartbeatInterval),clearTimeout(this.reconnectTimeout)}disableFallbackMode(){console.log(" BaseSocketClient: Disabling fallback mode"),this.fallbackMode=!1,this.updateConnectionState(this.CONNECTION_STATES.DISCONNECTED)}isFallbackMode(){return this.fallbackMode}}class Jh extends i2{constructor(a,l={}){super(a,l),this.notificationSupported="Notification"in window}setupEventListeners(a){if(console.log(" MainSocketClient: Setting up event listeners"),super.setupEventListeners(a),!this.socket){console.error(" MainSocketClient: Socket not initialized in setupEventListeners");return}this.socket.on("heartbeatAck",l=>{console.log(" MainSocketClient: Received heartbeat acknowledgment")}),this.socket.on("welcome",l=>{console.log(" MainSocketClient: Received welcome message",l),a.onWelcome&&a.onWelcome(l)}),this.socket.on("newMessage",l=>{console.log(" MainSocketClient: Received new message event",l),a.onNewMessage&&a.onNewMessage(l),l.isFromFollowedUser&&(console.log(" MainSocketClient: Message is from followed user, processing notification"),this.processNotification(l,a))}),this.socket.on("refreshMessages",()=>{console.log(" MainSocketClient: Received refreshMessages signal"),a.onRefreshMessages&&a.onRefreshMessages()}),this.socket.on("userStatusChange",l=>{console.log(" MainSocketClient: Received user status change",l),a.onUserStatusChange&&a.onUserStatusChange(l)}),this.socket.on("messageLiked",l=>{console.log(" MainSocketClient: Received message liked event",l),a.onMessageLiked&&a.onMessageLiked(l)}),this.socket.on("messageUnliked",l=>{console.log(" MainSocketClient: Received message unliked event",l),a.onMessageUnliked&&a.onMessageUnliked(l)}),this.socket.on("messageDeleted",l=>{console.log(" MainSocketClient: Received message deleted event",l),a.onMessageDeleted&&a.onMessageDeleted(l)}),this.socket.on("newFollowedUserMessage",l=>{console.log(" MainSocketClient: Received message from followed user",l),a.onFollowedUserMessage&&a.onFollowedUserMessage(l),this.processNotification(l,a)})}sendMessage(a,l=null,r=null){if(!this.socket)return console.error(" MainSocketClient: Socket not initialized in sendMessage"),-1;!l&&!this.currentUsername&&console.error(" MainSocketClient: No username provided for message");const c=l||this.currentUsername;console.log(" MainSocketClient: Sending message as:",c);const f=Date.now().toString(36)+Math.random().toString(36).substr(2,5);return this.emitWithQueue("message",{message:a,username:c,location:r||null,messageId:f,timestamp:Date.now()})}resendMessage(a){if(!this.socket)return console.error(" MainSocketClient: Socket not initialized in resendMessage"),-1;const l=a.username||this.currentUsername;return l||console.error(" MainSocketClient: No username available for resending message"),this.emitWithQueue("message",{...a,username:l,timestamp:Date.now(),isResend:!0})}areNotificationsSupported(){return this.notificationSupported}async requestNotificationPermission(){if(console.log(" MainSocketClient: Requesting notification permission"),!this.notificationSupported)return console.log(" MainSocketClient: Notifications not supported"),!1;try{const l=await Notification.requestPermission()==="granted";return console.log(` MainSocketClient: Notification permission ${l?"granted":"denied"}`),l&&sessionStorage.setItem("notificationPermissionJustGranted","true"),l}catch(a){return console.error(" MainSocketClient: Error requesting notification permission:",a),!1}}showNotification(a,l={}){if(!this.notificationSupported||Notification.permission!=="granted")return null;try{return new Notification(a,l)}catch(r){return console.error(" MainSocketClient: Error showing notification:",r),null}}processNotification(a,l){if(a.sender==="System"||a.sender==="Server")return;const c=document.visibilityState==="visible",f=`${a.sender}-${a.messageId||a.timestamp}`;if(l.onFollowedUserMessage&&l.onFollowedUserMessage(a),!c&&this.areNotificationsSupported()&&Notification.permission==="granted"){const h={body:a.messagePreview||a.message||"New message",icon:"/favicon.ico",tag:f,requireInteraction:!1,timestamp:new Date(a.timestamp).getTime(),vibrate:[200,100,200]},y=this.showNotification(`New post from ${a.sender}`,h);y&&(y.onclick=()=>{window.focus(),y.close(),l.onNotificationClick&&l.onNotificationClick(a)})}}}class l2{constructor(){this.clients={},this.defaultClientId="main"}getClient(a,l=null,r=null,c={}){const f=l||a||this.defaultClientId;if(this.clients[f])return this.clients[f];let h;switch(a){case"main":h=new Jh(r,c);break;default:h=new Jh(r,c)}return this.clients[f]=h,h}removeClient(a){this.clients[a]&&(this.clients[a].disconnect(),delete this.clients[a])}disconnectAll(){Object.values(this.clients).forEach(a=>{a.disconnect()})}getAllClients(){return this.clients}}const Tt=new l2,r2="/",Ph="http://localhost:3000",cn={connect:(s={},a=null)=>{console.log(" SocketService: Connecting to socket with relative URL for proxy support");const l=Tt.getClient("main","main",r2);l.isConnected()&&(console.log(" SocketService: Closing existing connection before reconnecting"),l.disconnect()),l.connect(s,a)},disconnect:()=>{Tt.getClient("main").disconnect()},sendMessage:(s,a=null,l=null)=>Tt.getClient("main").sendMessage(s,a,l),resendMessage:s=>Tt.getClient("main").resendMessage(s),isConnected:()=>Tt.getClient("main").isConnected(),getConnectionState:()=>Tt.getClient("main").getConnectionState(),getSocketId:()=>Tt.getClient("main").getSocketId(),getSocket:()=>Tt.getClient("main").getSocket(),areNotificationsSupported:()=>Tt.getClient("main").notificationSupported,async requestNotificationPermission(){return Tt.getClient("main").requestNotificationPermission()},showNotification:(s,a)=>Tt.getClient("main").showNotification(s,a),getConnectionStates:()=>Tt.getClient("main").CONNECTION_STATES,checkServerStatus:async()=>{console.log(" SocketService: Checking server status at:",Ph);const s=["/api/messages","/api/status","/api/health","/api/ping"];for(const a of s)try{console.log(` SocketService: Trying endpoint ${a}`);const l=localStorage.getItem("token"),r={Accept:"application/json","Content-Type":"application/json"};l&&a==="/api/messages"&&(r.Authorization=`Bearer ${l}`);const c=await fetch(`${a}`,{method:"GET",headers:r});if(console.log(` SocketService: Got response from ${a} with status:`,c.status),c.ok)return console.log(" SocketService: Server ping successful with status:",c.status),{success:!0,message:`Server is reachable (${a})`,status:c.status,endpoint:a};if(c.status===401&&a==="/api/messages")return console.log(" SocketService: Authentication required but server is reachable"),{success:!0,message:"Server is reachable but requires authentication",status:c.status,endpoint:a};if(c.status===404){console.log(` SocketService: Endpoint ${a} not found (404), but server is reachable`);continue}return console.log(` SocketService: Server returned ${c.status} for ${a}`),{success:!0,message:`Server is reachable but returned error status: ${c.status}`,status:c.status,endpoint:a}}catch(l){console.error(` SocketService: Failed to fetch ${a}:`,l)}return console.error(" SocketService: All endpoint checks failed"),{success:!1,message:`Server unreachable after trying ${s.length} endpoints`,endpoints:s}},getServerUrl:()=>Ph,enableFallbackMode:()=>{console.log(" SocketService: Enabling fallback mode"),Tt.getClient("main").enableFallbackMode()},disableFallbackMode:()=>{console.log(" SocketService: Disabling fallback mode"),Tt.getClient("main").disableFallbackMode()},isFallbackMode:()=>{const s=Tt.getClient("main");return s?s.isFallbackMode():!1}};function eg(s,a){return function(){return s.apply(a,arguments)}}const{toString:o2}=Object.prototype,{getPrototypeOf:Lu}=Object,Or=(s=>a=>{const l=o2.call(a);return s[l]||(s[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),fn=s=>(s=s.toLowerCase(),a=>Or(a)===s),kr=s=>a=>typeof a===s,{isArray:Vs}=Array,Qi=kr("undefined");function c2(s){return s!==null&&!Qi(s)&&s.constructor!==null&&!Qi(s.constructor)&&Yt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const tg=fn("ArrayBuffer");function u2(s){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(s):a=s&&s.buffer&&tg(s.buffer),a}const f2=kr("string"),Yt=kr("function"),ng=kr("number"),jr=s=>s!==null&&typeof s=="object",d2=s=>s===!0||s===!1,mr=s=>{if(Or(s)!=="object")return!1;const a=Lu(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},h2=fn("Date"),m2=fn("File"),g2=fn("Blob"),p2=fn("FileList"),y2=s=>jr(s)&&Yt(s.pipe),v2=s=>{let a;return s&&(typeof FormData=="function"&&s instanceof FormData||Yt(s.append)&&((a=Or(s))==="formdata"||a==="object"&&Yt(s.toString)&&s.toString()==="[object FormData]"))},S2=fn("URLSearchParams"),[b2,E2,w2,x2]=["ReadableStream","Request","Response","Headers"].map(fn),C2=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fi(s,a,{allOwnKeys:l=!1}={}){if(s===null||typeof s>"u")return;let r,c;if(typeof s!="object"&&(s=[s]),Vs(s))for(r=0,c=s.length;r<c;r++)a.call(null,s[r],r,s);else{const f=l?Object.getOwnPropertyNames(s):Object.keys(s),h=f.length;let y;for(r=0;r<h;r++)y=f[r],a.call(null,s[y],y,s)}}function ag(s,a){a=a.toLowerCase();const l=Object.keys(s);let r=l.length,c;for(;r-- >0;)if(c=l[r],a===c.toLowerCase())return c;return null}const Qa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sg=s=>!Qi(s)&&s!==Qa;function vu(){const{caseless:s}=sg(this)&&this||{},a={},l=(r,c)=>{const f=s&&ag(a,c)||c;mr(a[f])&&mr(r)?a[f]=vu(a[f],r):mr(r)?a[f]=vu({},r):Vs(r)?a[f]=r.slice():a[f]=r};for(let r=0,c=arguments.length;r<c;r++)arguments[r]&&Fi(arguments[r],l);return a}const M2=(s,a,l,{allOwnKeys:r}={})=>(Fi(a,(c,f)=>{l&&Yt(c)?s[f]=eg(c,l):s[f]=c},{allOwnKeys:r}),s),T2=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),N2=(s,a,l,r)=>{s.prototype=Object.create(a.prototype,r),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:a.prototype}),l&&Object.assign(s.prototype,l)},A2=(s,a,l,r)=>{let c,f,h;const y={};if(a=a||{},s==null)return a;do{for(c=Object.getOwnPropertyNames(s),f=c.length;f-- >0;)h=c[f],(!r||r(h,s,a))&&!y[h]&&(a[h]=s[h],y[h]=!0);s=l!==!1&&Lu(s)}while(s&&(!l||l(s,a))&&s!==Object.prototype);return a},_2=(s,a,l)=>{s=String(s),(l===void 0||l>s.length)&&(l=s.length),l-=a.length;const r=s.indexOf(a,l);return r!==-1&&r===l},R2=s=>{if(!s)return null;if(Vs(s))return s;let a=s.length;if(!ng(a))return null;const l=new Array(a);for(;a-- >0;)l[a]=s[a];return l},O2=(s=>a=>s&&a instanceof s)(typeof Uint8Array<"u"&&Lu(Uint8Array)),k2=(s,a)=>{const r=(s&&s[Symbol.iterator]).call(s);let c;for(;(c=r.next())&&!c.done;){const f=c.value;a.call(s,f[0],f[1])}},j2=(s,a)=>{let l;const r=[];for(;(l=s.exec(a))!==null;)r.push(l);return r},U2=fn("HTMLFormElement"),D2=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,r,c){return r.toUpperCase()+c}),Wh=(({hasOwnProperty:s})=>(a,l)=>s.call(a,l))(Object.prototype),z2=fn("RegExp"),ig=(s,a)=>{const l=Object.getOwnPropertyDescriptors(s),r={};Fi(l,(c,f)=>{let h;(h=a(c,f,s))!==!1&&(r[f]=h||c)}),Object.defineProperties(s,r)},L2=s=>{ig(s,(a,l)=>{if(Yt(s)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const r=s[l];if(Yt(r)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},B2=(s,a)=>{const l={},r=c=>{c.forEach(f=>{l[f]=!0})};return Vs(s)?r(s):r(String(s).split(a)),l},q2=()=>{},H2=(s,a)=>s!=null&&Number.isFinite(s=+s)?s:a;function G2(s){return!!(s&&Yt(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const Y2=s=>{const a=new Array(10),l=(r,c)=>{if(jr(r)){if(a.indexOf(r)>=0)return;if(!("toJSON"in r)){a[c]=r;const f=Vs(r)?[]:{};return Fi(r,(h,y)=>{const d=l(h,c+1);!Qi(d)&&(f[y]=d)}),a[c]=void 0,f}}return r};return l(s,0)},V2=fn("AsyncFunction"),Z2=s=>s&&(jr(s)||Yt(s))&&Yt(s.then)&&Yt(s.catch),lg=((s,a)=>s?setImmediate:a?((l,r)=>(Qa.addEventListener("message",({source:c,data:f})=>{c===Qa&&f===l&&r.length&&r.shift()()},!1),c=>{r.push(c),Qa.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",Yt(Qa.postMessage)),X2=typeof queueMicrotask<"u"?queueMicrotask.bind(Qa):typeof process<"u"&&process.nextTick||lg,B={isArray:Vs,isArrayBuffer:tg,isBuffer:c2,isFormData:v2,isArrayBufferView:u2,isString:f2,isNumber:ng,isBoolean:d2,isObject:jr,isPlainObject:mr,isReadableStream:b2,isRequest:E2,isResponse:w2,isHeaders:x2,isUndefined:Qi,isDate:h2,isFile:m2,isBlob:g2,isRegExp:z2,isFunction:Yt,isStream:y2,isURLSearchParams:S2,isTypedArray:O2,isFileList:p2,forEach:Fi,merge:vu,extend:M2,trim:C2,stripBOM:T2,inherits:N2,toFlatObject:A2,kindOf:Or,kindOfTest:fn,endsWith:_2,toArray:R2,forEachEntry:k2,matchAll:j2,isHTMLForm:U2,hasOwnProperty:Wh,hasOwnProp:Wh,reduceDescriptors:ig,freezeMethods:L2,toObjectSet:B2,toCamelCase:D2,noop:q2,toFiniteNumber:H2,findKey:ag,global:Qa,isContextDefined:sg,isSpecCompliantForm:G2,toJSONObject:Y2,isAsyncFn:V2,isThenable:Z2,setImmediate:lg,asap:X2};function Ee(s,a,l,r,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",a&&(this.code=a),l&&(this.config=l),r&&(this.request=r),c&&(this.response=c,this.status=c.status?c.status:null)}B.inherits(Ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const rg=Ee.prototype,og={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{og[s]={value:s}});Object.defineProperties(Ee,og);Object.defineProperty(rg,"isAxiosError",{value:!0});Ee.from=(s,a,l,r,c,f)=>{const h=Object.create(rg);return B.toFlatObject(s,h,function(d){return d!==Error.prototype},y=>y!=="isAxiosError"),Ee.call(h,s.message,a,l,r,c),h.cause=s,h.name=s.name,f&&Object.assign(h,f),h};const Q2=null;function Su(s){return B.isPlainObject(s)||B.isArray(s)}function cg(s){return B.endsWith(s,"[]")?s.slice(0,-2):s}function Ih(s,a,l){return s?s.concat(a).map(function(c,f){return c=cg(c),!l&&f?"["+c+"]":c}).join(l?".":""):a}function F2(s){return B.isArray(s)&&!s.some(Su)}const $2=B.toFlatObject(B,{},null,function(a){return/^is[A-Z]/.test(a)});function Ur(s,a,l){if(!B.isObject(s))throw new TypeError("target must be an object");a=a||new FormData,l=B.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,_){return!B.isUndefined(_[T])});const r=l.metaTokens,c=l.visitor||w,f=l.dots,h=l.indexes,d=(l.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(a);if(!B.isFunction(c))throw new TypeError("visitor must be a function");function p(x){if(x===null)return"";if(B.isDate(x))return x.toISOString();if(!d&&B.isBlob(x))throw new Ee("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(x)||B.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function w(x,T,_){let j=x;if(x&&!_&&typeof x=="object"){if(B.endsWith(T,"{}"))T=r?T:T.slice(0,-2),x=JSON.stringify(x);else if(B.isArray(x)&&F2(x)||(B.isFileList(x)||B.endsWith(T,"[]"))&&(j=B.toArray(x)))return T=cg(T),j.forEach(function(Y,ie){!(B.isUndefined(Y)||Y===null)&&a.append(h===!0?Ih([T],ie,f):h===null?T:T+"[]",p(Y))}),!1}return Su(x)?!0:(a.append(Ih(_,T,f),p(x)),!1)}const E=[],M=Object.assign($2,{defaultVisitor:w,convertValue:p,isVisitable:Su});function R(x,T){if(!B.isUndefined(x)){if(E.indexOf(x)!==-1)throw Error("Circular reference detected in "+T.join("."));E.push(x),B.forEach(x,function(j,$){(!(B.isUndefined(j)||j===null)&&c.call(a,j,B.isString($)?$.trim():$,T,M))===!0&&R(j,T?T.concat($):[$])}),E.pop()}}if(!B.isObject(s))throw new TypeError("data must be an object");return R(s),a}function em(s){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(r){return a[r]})}function Bu(s,a){this._pairs=[],s&&Ur(s,this,a)}const ug=Bu.prototype;ug.append=function(a,l){this._pairs.push([a,l])};ug.toString=function(a){const l=a?function(r){return a.call(this,r,em)}:em;return this._pairs.map(function(c){return l(c[0])+"="+l(c[1])},"").join("&")};function K2(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fg(s,a,l){if(!a)return s;const r=l&&l.encode||K2;B.isFunction(l)&&(l={serialize:l});const c=l&&l.serialize;let f;if(c?f=c(a,l):f=B.isURLSearchParams(a)?a.toString():new Bu(a,l).toString(r),f){const h=s.indexOf("#");h!==-1&&(s=s.slice(0,h)),s+=(s.indexOf("?")===-1?"?":"&")+f}return s}class tm{constructor(){this.handlers=[]}use(a,l,r){return this.handlers.push({fulfilled:a,rejected:l,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){B.forEach(this.handlers,function(r){r!==null&&a(r)})}}const dg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},J2=typeof URLSearchParams<"u"?URLSearchParams:Bu,P2=typeof FormData<"u"?FormData:null,W2=typeof Blob<"u"?Blob:null,I2={isBrowser:!0,classes:{URLSearchParams:J2,FormData:P2,Blob:W2},protocols:["http","https","file","blob","url","data"]},qu=typeof window<"u"&&typeof document<"u",bu=typeof navigator=="object"&&navigator||void 0,e5=qu&&(!bu||["ReactNative","NativeScript","NS"].indexOf(bu.product)<0),t5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",n5=qu&&window.location.href||"http://localhost",a5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qu,hasStandardBrowserEnv:e5,hasStandardBrowserWebWorkerEnv:t5,navigator:bu,origin:n5},Symbol.toStringTag,{value:"Module"})),Et={...a5,...I2};function s5(s,a){return Ur(s,new Et.classes.URLSearchParams,Object.assign({visitor:function(l,r,c,f){return Et.isNode&&B.isBuffer(l)?(this.append(r,l.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},a))}function i5(s){return B.matchAll(/\w+|\[(\w*)]/g,s).map(a=>a[0]==="[]"?"":a[1]||a[0])}function l5(s){const a={},l=Object.keys(s);let r;const c=l.length;let f;for(r=0;r<c;r++)f=l[r],a[f]=s[f];return a}function hg(s){function a(l,r,c,f){let h=l[f++];if(h==="__proto__")return!0;const y=Number.isFinite(+h),d=f>=l.length;return h=!h&&B.isArray(c)?c.length:h,d?(B.hasOwnProp(c,h)?c[h]=[c[h],r]:c[h]=r,!y):((!c[h]||!B.isObject(c[h]))&&(c[h]=[]),a(l,r,c[h],f)&&B.isArray(c[h])&&(c[h]=l5(c[h])),!y)}if(B.isFormData(s)&&B.isFunction(s.entries)){const l={};return B.forEachEntry(s,(r,c)=>{a(i5(r),c,l,0)}),l}return null}function r5(s,a,l){if(B.isString(s))try{return(a||JSON.parse)(s),B.trim(s)}catch(r){if(r.name!=="SyntaxError")throw r}return(l||JSON.stringify)(s)}const $i={transitional:dg,adapter:["xhr","http","fetch"],transformRequest:[function(a,l){const r=l.getContentType()||"",c=r.indexOf("application/json")>-1,f=B.isObject(a);if(f&&B.isHTMLForm(a)&&(a=new FormData(a)),B.isFormData(a))return c?JSON.stringify(hg(a)):a;if(B.isArrayBuffer(a)||B.isBuffer(a)||B.isStream(a)||B.isFile(a)||B.isBlob(a)||B.isReadableStream(a))return a;if(B.isArrayBufferView(a))return a.buffer;if(B.isURLSearchParams(a))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let y;if(f){if(r.indexOf("application/x-www-form-urlencoded")>-1)return s5(a,this.formSerializer).toString();if((y=B.isFileList(a))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ur(y?{"files[]":a}:a,d&&new d,this.formSerializer)}}return f||c?(l.setContentType("application/json",!1),r5(a)):a}],transformResponse:[function(a){const l=this.transitional||$i.transitional,r=l&&l.forcedJSONParsing,c=this.responseType==="json";if(B.isResponse(a)||B.isReadableStream(a))return a;if(a&&B.isString(a)&&(r&&!this.responseType||c)){const h=!(l&&l.silentJSONParsing)&&c;try{return JSON.parse(a)}catch(y){if(h)throw y.name==="SyntaxError"?Ee.from(y,Ee.ERR_BAD_RESPONSE,this,null,this.response):y}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Et.classes.FormData,Blob:Et.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],s=>{$i.headers[s]={}});const o5=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),c5=s=>{const a={};let l,r,c;return s&&s.split(`
`).forEach(function(h){c=h.indexOf(":"),l=h.substring(0,c).trim().toLowerCase(),r=h.substring(c+1).trim(),!(!l||a[l]&&o5[l])&&(l==="set-cookie"?a[l]?a[l].push(r):a[l]=[r]:a[l]=a[l]?a[l]+", "+r:r)}),a},nm=Symbol("internals");function Gi(s){return s&&String(s).trim().toLowerCase()}function gr(s){return s===!1||s==null?s:B.isArray(s)?s.map(gr):String(s)}function u5(s){const a=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=l.exec(s);)a[r[1]]=r[2];return a}const f5=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function nu(s,a,l,r,c){if(B.isFunction(r))return r.call(this,a,l);if(c&&(a=l),!!B.isString(a)){if(B.isString(r))return a.indexOf(r)!==-1;if(B.isRegExp(r))return r.test(a)}}function d5(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,l,r)=>l.toUpperCase()+r)}function h5(s,a){const l=B.toCamelCase(" "+a);["get","set","has"].forEach(r=>{Object.defineProperty(s,r+l,{value:function(c,f,h){return this[r].call(this,a,c,f,h)},configurable:!0})})}let zt=class{constructor(a){a&&this.set(a)}set(a,l,r){const c=this;function f(y,d,p){const w=Gi(d);if(!w)throw new Error("header name must be a non-empty string");const E=B.findKey(c,w);(!E||c[E]===void 0||p===!0||p===void 0&&c[E]!==!1)&&(c[E||d]=gr(y))}const h=(y,d)=>B.forEach(y,(p,w)=>f(p,w,d));if(B.isPlainObject(a)||a instanceof this.constructor)h(a,l);else if(B.isString(a)&&(a=a.trim())&&!f5(a))h(c5(a),l);else if(B.isHeaders(a))for(const[y,d]of a.entries())f(d,y,r);else a!=null&&f(l,a,r);return this}get(a,l){if(a=Gi(a),a){const r=B.findKey(this,a);if(r){const c=this[r];if(!l)return c;if(l===!0)return u5(c);if(B.isFunction(l))return l.call(this,c,r);if(B.isRegExp(l))return l.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,l){if(a=Gi(a),a){const r=B.findKey(this,a);return!!(r&&this[r]!==void 0&&(!l||nu(this,this[r],r,l)))}return!1}delete(a,l){const r=this;let c=!1;function f(h){if(h=Gi(h),h){const y=B.findKey(r,h);y&&(!l||nu(r,r[y],y,l))&&(delete r[y],c=!0)}}return B.isArray(a)?a.forEach(f):f(a),c}clear(a){const l=Object.keys(this);let r=l.length,c=!1;for(;r--;){const f=l[r];(!a||nu(this,this[f],f,a,!0))&&(delete this[f],c=!0)}return c}normalize(a){const l=this,r={};return B.forEach(this,(c,f)=>{const h=B.findKey(r,f);if(h){l[h]=gr(c),delete l[f];return}const y=a?d5(f):String(f).trim();y!==f&&delete l[f],l[y]=gr(c),r[y]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const l=Object.create(null);return B.forEach(this,(r,c)=>{r!=null&&r!==!1&&(l[c]=a&&B.isArray(r)?r.join(", "):r)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,l])=>a+": "+l).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...l){const r=new this(a);return l.forEach(c=>r.set(c)),r}static accessor(a){const r=(this[nm]=this[nm]={accessors:{}}).accessors,c=this.prototype;function f(h){const y=Gi(h);r[y]||(h5(c,h),r[y]=!0)}return B.isArray(a)?a.forEach(f):f(a),this}};zt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(zt.prototype,({value:s},a)=>{let l=a[0].toUpperCase()+a.slice(1);return{get:()=>s,set(r){this[l]=r}}});B.freezeMethods(zt);function au(s,a){const l=this||$i,r=a||l,c=zt.from(r.headers);let f=r.data;return B.forEach(s,function(y){f=y.call(l,f,c.normalize(),a?a.status:void 0)}),c.normalize(),f}function mg(s){return!!(s&&s.__CANCEL__)}function Zs(s,a,l){Ee.call(this,s??"canceled",Ee.ERR_CANCELED,a,l),this.name="CanceledError"}B.inherits(Zs,Ee,{__CANCEL__:!0});function gg(s,a,l){const r=l.config.validateStatus;!l.status||!r||r(l.status)?s(l):a(new Ee("Request failed with status code "+l.status,[Ee.ERR_BAD_REQUEST,Ee.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function m5(s){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return a&&a[1]||""}function g5(s,a){s=s||10;const l=new Array(s),r=new Array(s);let c=0,f=0,h;return a=a!==void 0?a:1e3,function(d){const p=Date.now(),w=r[f];h||(h=p),l[c]=d,r[c]=p;let E=f,M=0;for(;E!==c;)M+=l[E++],E=E%s;if(c=(c+1)%s,c===f&&(f=(f+1)%s),p-h<a)return;const R=w&&p-w;return R?Math.round(M*1e3/R):void 0}}function p5(s,a){let l=0,r=1e3/a,c,f;const h=(p,w=Date.now())=>{l=w,c=null,f&&(clearTimeout(f),f=null),s.apply(null,p)};return[(...p)=>{const w=Date.now(),E=w-l;E>=r?h(p,w):(c=p,f||(f=setTimeout(()=>{f=null,h(c)},r-E)))},()=>c&&h(c)]}const Er=(s,a,l=3)=>{let r=0;const c=g5(50,250);return p5(f=>{const h=f.loaded,y=f.lengthComputable?f.total:void 0,d=h-r,p=c(d),w=h<=y;r=h;const E={loaded:h,total:y,progress:y?h/y:void 0,bytes:d,rate:p||void 0,estimated:p&&y&&w?(y-h)/p:void 0,event:f,lengthComputable:y!=null,[a?"download":"upload"]:!0};s(E)},l)},am=(s,a)=>{const l=s!=null;return[r=>a[0]({lengthComputable:l,total:s,loaded:r}),a[1]]},sm=s=>(...a)=>B.asap(()=>s(...a)),y5=Et.hasStandardBrowserEnv?((s,a)=>l=>(l=new URL(l,Et.origin),s.protocol===l.protocol&&s.host===l.host&&(a||s.port===l.port)))(new URL(Et.origin),Et.navigator&&/(msie|trident)/i.test(Et.navigator.userAgent)):()=>!0,v5=Et.hasStandardBrowserEnv?{write(s,a,l,r,c,f){const h=[s+"="+encodeURIComponent(a)];B.isNumber(l)&&h.push("expires="+new Date(l).toGMTString()),B.isString(r)&&h.push("path="+r),B.isString(c)&&h.push("domain="+c),f===!0&&h.push("secure"),document.cookie=h.join("; ")},read(s){const a=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function S5(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function b5(s,a){return a?s.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):s}function pg(s,a,l){let r=!S5(a);return s&&r||l==!1?b5(s,a):a}const im=s=>s instanceof zt?{...s}:s;function Ja(s,a){a=a||{};const l={};function r(p,w,E,M){return B.isPlainObject(p)&&B.isPlainObject(w)?B.merge.call({caseless:M},p,w):B.isPlainObject(w)?B.merge({},w):B.isArray(w)?w.slice():w}function c(p,w,E,M){if(B.isUndefined(w)){if(!B.isUndefined(p))return r(void 0,p,E,M)}else return r(p,w,E,M)}function f(p,w){if(!B.isUndefined(w))return r(void 0,w)}function h(p,w){if(B.isUndefined(w)){if(!B.isUndefined(p))return r(void 0,p)}else return r(void 0,w)}function y(p,w,E){if(E in a)return r(p,w);if(E in s)return r(void 0,p)}const d={url:f,method:f,data:f,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:y,headers:(p,w,E)=>c(im(p),im(w),E,!0)};return B.forEach(Object.keys(Object.assign({},s,a)),function(w){const E=d[w]||c,M=E(s[w],a[w],w);B.isUndefined(M)&&E!==y||(l[w]=M)}),l}const yg=s=>{const a=Ja({},s);let{data:l,withXSRFToken:r,xsrfHeaderName:c,xsrfCookieName:f,headers:h,auth:y}=a;a.headers=h=zt.from(h),a.url=fg(pg(a.baseURL,a.url),s.params,s.paramsSerializer),y&&h.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):"")));let d;if(B.isFormData(l)){if(Et.hasStandardBrowserEnv||Et.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((d=h.getContentType())!==!1){const[p,...w]=d?d.split(";").map(E=>E.trim()).filter(Boolean):[];h.setContentType([p||"multipart/form-data",...w].join("; "))}}if(Et.hasStandardBrowserEnv&&(r&&B.isFunction(r)&&(r=r(a)),r||r!==!1&&y5(a.url))){const p=c&&f&&v5.read(f);p&&h.set(c,p)}return a},E5=typeof XMLHttpRequest<"u",w5=E5&&function(s){return new Promise(function(l,r){const c=yg(s);let f=c.data;const h=zt.from(c.headers).normalize();let{responseType:y,onUploadProgress:d,onDownloadProgress:p}=c,w,E,M,R,x;function T(){R&&R(),x&&x(),c.cancelToken&&c.cancelToken.unsubscribe(w),c.signal&&c.signal.removeEventListener("abort",w)}let _=new XMLHttpRequest;_.open(c.method.toUpperCase(),c.url,!0),_.timeout=c.timeout;function j(){if(!_)return;const Y=zt.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),ee={data:!y||y==="text"||y==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:Y,config:s,request:_};gg(function(he){l(he),T()},function(he){r(he),T()},ee),_=null}"onloadend"in _?_.onloadend=j:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(j)},_.onabort=function(){_&&(r(new Ee("Request aborted",Ee.ECONNABORTED,s,_)),_=null)},_.onerror=function(){r(new Ee("Network Error",Ee.ERR_NETWORK,s,_)),_=null},_.ontimeout=function(){let ie=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const ee=c.transitional||dg;c.timeoutErrorMessage&&(ie=c.timeoutErrorMessage),r(new Ee(ie,ee.clarifyTimeoutError?Ee.ETIMEDOUT:Ee.ECONNABORTED,s,_)),_=null},f===void 0&&h.setContentType(null),"setRequestHeader"in _&&B.forEach(h.toJSON(),function(ie,ee){_.setRequestHeader(ee,ie)}),B.isUndefined(c.withCredentials)||(_.withCredentials=!!c.withCredentials),y&&y!=="json"&&(_.responseType=c.responseType),p&&([M,x]=Er(p,!0),_.addEventListener("progress",M)),d&&_.upload&&([E,R]=Er(d),_.upload.addEventListener("progress",E),_.upload.addEventListener("loadend",R)),(c.cancelToken||c.signal)&&(w=Y=>{_&&(r(!Y||Y.type?new Zs(null,s,_):Y),_.abort(),_=null)},c.cancelToken&&c.cancelToken.subscribe(w),c.signal&&(c.signal.aborted?w():c.signal.addEventListener("abort",w)));const $=m5(c.url);if($&&Et.protocols.indexOf($)===-1){r(new Ee("Unsupported protocol "+$+":",Ee.ERR_BAD_REQUEST,s));return}_.send(f||null)})},x5=(s,a)=>{const{length:l}=s=s?s.filter(Boolean):[];if(a||l){let r=new AbortController,c;const f=function(p){if(!c){c=!0,y();const w=p instanceof Error?p:this.reason;r.abort(w instanceof Ee?w:new Zs(w instanceof Error?w.message:w))}};let h=a&&setTimeout(()=>{h=null,f(new Ee(`timeout ${a} of ms exceeded`,Ee.ETIMEDOUT))},a);const y=()=>{s&&(h&&clearTimeout(h),h=null,s.forEach(p=>{p.unsubscribe?p.unsubscribe(f):p.removeEventListener("abort",f)}),s=null)};s.forEach(p=>p.addEventListener("abort",f));const{signal:d}=r;return d.unsubscribe=()=>B.asap(y),d}},C5=function*(s,a){let l=s.byteLength;if(l<a){yield s;return}let r=0,c;for(;r<l;)c=r+a,yield s.slice(r,c),r=c},M5=async function*(s,a){for await(const l of T5(s))yield*C5(l,a)},T5=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const a=s.getReader();try{for(;;){const{done:l,value:r}=await a.read();if(l)break;yield r}}finally{await a.cancel()}},lm=(s,a,l,r)=>{const c=M5(s,a);let f=0,h,y=d=>{h||(h=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:p,value:w}=await c.next();if(p){y(),d.close();return}let E=w.byteLength;if(l){let M=f+=E;l(M)}d.enqueue(new Uint8Array(w))}catch(p){throw y(p),p}},cancel(d){return y(d),c.return()}},{highWaterMark:2})},Dr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vg=Dr&&typeof ReadableStream=="function",N5=Dr&&(typeof TextEncoder=="function"?(s=>a=>s.encode(a))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),Sg=(s,...a)=>{try{return!!s(...a)}catch{return!1}},A5=vg&&Sg(()=>{let s=!1;const a=new Request(Et.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!a}),rm=64*1024,Eu=vg&&Sg(()=>B.isReadableStream(new Response("").body)),wr={stream:Eu&&(s=>s.body)};Dr&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(a=>{!wr[a]&&(wr[a]=B.isFunction(s[a])?l=>l[a]():(l,r)=>{throw new Ee(`Response type '${a}' is not supported`,Ee.ERR_NOT_SUPPORT,r)})})})(new Response);const _5=async s=>{if(s==null)return 0;if(B.isBlob(s))return s.size;if(B.isSpecCompliantForm(s))return(await new Request(Et.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(B.isArrayBufferView(s)||B.isArrayBuffer(s))return s.byteLength;if(B.isURLSearchParams(s)&&(s=s+""),B.isString(s))return(await N5(s)).byteLength},R5=async(s,a)=>{const l=B.toFiniteNumber(s.getContentLength());return l??_5(a)},O5=Dr&&(async s=>{let{url:a,method:l,data:r,signal:c,cancelToken:f,timeout:h,onDownloadProgress:y,onUploadProgress:d,responseType:p,headers:w,withCredentials:E="same-origin",fetchOptions:M}=yg(s);p=p?(p+"").toLowerCase():"text";let R=x5([c,f&&f.toAbortSignal()],h),x;const T=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let _;try{if(d&&A5&&l!=="get"&&l!=="head"&&(_=await R5(w,r))!==0){let ee=new Request(a,{method:"POST",body:r,duplex:"half"}),le;if(B.isFormData(r)&&(le=ee.headers.get("content-type"))&&w.setContentType(le),ee.body){const[he,pe]=am(_,Er(sm(d)));r=lm(ee.body,rm,he,pe)}}B.isString(E)||(E=E?"include":"omit");const j="credentials"in Request.prototype;x=new Request(a,{...M,signal:R,method:l.toUpperCase(),headers:w.normalize().toJSON(),body:r,duplex:"half",credentials:j?E:void 0});let $=await fetch(x);const Y=Eu&&(p==="stream"||p==="response");if(Eu&&(y||Y&&T)){const ee={};["status","statusText","headers"].forEach(se=>{ee[se]=$[se]});const le=B.toFiniteNumber($.headers.get("content-length")),[he,pe]=y&&am(le,Er(sm(y),!0))||[];$=new Response(lm($.body,rm,he,()=>{pe&&pe(),T&&T()}),ee)}p=p||"text";let ie=await wr[B.findKey(wr,p)||"text"]($,s);return!Y&&T&&T(),await new Promise((ee,le)=>{gg(ee,le,{data:ie,headers:zt.from($.headers),status:$.status,statusText:$.statusText,config:s,request:x})})}catch(j){throw T&&T(),j&&j.name==="TypeError"&&/fetch/i.test(j.message)?Object.assign(new Ee("Network Error",Ee.ERR_NETWORK,s,x),{cause:j.cause||j}):Ee.from(j,j&&j.code,s,x)}}),wu={http:Q2,xhr:w5,fetch:O5};B.forEach(wu,(s,a)=>{if(s){try{Object.defineProperty(s,"name",{value:a})}catch{}Object.defineProperty(s,"adapterName",{value:a})}});const om=s=>`- ${s}`,k5=s=>B.isFunction(s)||s===null||s===!1,bg={getAdapter:s=>{s=B.isArray(s)?s:[s];const{length:a}=s;let l,r;const c={};for(let f=0;f<a;f++){l=s[f];let h;if(r=l,!k5(l)&&(r=wu[(h=String(l)).toLowerCase()],r===void 0))throw new Ee(`Unknown adapter '${h}'`);if(r)break;c[h||"#"+f]=r}if(!r){const f=Object.entries(c).map(([y,d])=>`adapter ${y} `+(d===!1?"is not supported by the environment":"is not available in the build"));let h=a?f.length>1?`since :
`+f.map(om).join(`
`):" "+om(f[0]):"as no adapter specified";throw new Ee("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return r},adapters:wu};function su(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Zs(null,s)}function cm(s){return su(s),s.headers=zt.from(s.headers),s.data=au.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),bg.getAdapter(s.adapter||$i.adapter)(s).then(function(r){return su(s),r.data=au.call(s,s.transformResponse,r),r.headers=zt.from(r.headers),r},function(r){return mg(r)||(su(s),r&&r.response&&(r.response.data=au.call(s,s.transformResponse,r.response),r.response.headers=zt.from(r.response.headers))),Promise.reject(r)})}const Eg="1.8.1",zr={};["object","boolean","number","function","string","symbol"].forEach((s,a)=>{zr[s]=function(r){return typeof r===s||"a"+(a<1?"n ":" ")+s}});const um={};zr.transitional=function(a,l,r){function c(f,h){return"[Axios v"+Eg+"] Transitional option '"+f+"'"+h+(r?". "+r:"")}return(f,h,y)=>{if(a===!1)throw new Ee(c(h," has been removed"+(l?" in "+l:"")),Ee.ERR_DEPRECATED);return l&&!um[h]&&(um[h]=!0,console.warn(c(h," has been deprecated since v"+l+" and will be removed in the near future"))),a?a(f,h,y):!0}};zr.spelling=function(a){return(l,r)=>(console.warn(`${r} is likely a misspelling of ${a}`),!0)};function j5(s,a,l){if(typeof s!="object")throw new Ee("options must be an object",Ee.ERR_BAD_OPTION_VALUE);const r=Object.keys(s);let c=r.length;for(;c-- >0;){const f=r[c],h=a[f];if(h){const y=s[f],d=y===void 0||h(y,f,s);if(d!==!0)throw new Ee("option "+f+" must be "+d,Ee.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Ee("Unknown option "+f,Ee.ERR_BAD_OPTION)}}const pr={assertOptions:j5,validators:zr},bn=pr.validators;let Fa=class{constructor(a){this.defaults=a,this.interceptors={request:new tm,response:new tm}}async request(a,l){try{return await this._request(a,l)}catch(r){if(r instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const f=c.stack?c.stack.replace(/^.+\n/,""):"";try{r.stack?f&&!String(r.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+f):r.stack=f}catch{}}throw r}}_request(a,l){typeof a=="string"?(l=l||{},l.url=a):l=a||{},l=Ja(this.defaults,l);const{transitional:r,paramsSerializer:c,headers:f}=l;r!==void 0&&pr.assertOptions(r,{silentJSONParsing:bn.transitional(bn.boolean),forcedJSONParsing:bn.transitional(bn.boolean),clarifyTimeoutError:bn.transitional(bn.boolean)},!1),c!=null&&(B.isFunction(c)?l.paramsSerializer={serialize:c}:pr.assertOptions(c,{encode:bn.function,serialize:bn.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),pr.assertOptions(l,{baseUrl:bn.spelling("baseURL"),withXsrfToken:bn.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let h=f&&B.merge(f.common,f[l.method]);f&&B.forEach(["delete","get","head","post","put","patch","common"],x=>{delete f[x]}),l.headers=zt.concat(h,f);const y=[];let d=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(l)===!1||(d=d&&T.synchronous,y.unshift(T.fulfilled,T.rejected))});const p=[];this.interceptors.response.forEach(function(T){p.push(T.fulfilled,T.rejected)});let w,E=0,M;if(!d){const x=[cm.bind(this),void 0];for(x.unshift.apply(x,y),x.push.apply(x,p),M=x.length,w=Promise.resolve(l);E<M;)w=w.then(x[E++],x[E++]);return w}M=y.length;let R=l;for(E=0;E<M;){const x=y[E++],T=y[E++];try{R=x(R)}catch(_){T.call(this,_);break}}try{w=cm.call(this,R)}catch(x){return Promise.reject(x)}for(E=0,M=p.length;E<M;)w=w.then(p[E++],p[E++]);return w}getUri(a){a=Ja(this.defaults,a);const l=pg(a.baseURL,a.url,a.allowAbsoluteUrls);return fg(l,a.params,a.paramsSerializer)}};B.forEach(["delete","get","head","options"],function(a){Fa.prototype[a]=function(l,r){return this.request(Ja(r||{},{method:a,url:l,data:(r||{}).data}))}});B.forEach(["post","put","patch"],function(a){function l(r){return function(f,h,y){return this.request(Ja(y||{},{method:a,headers:r?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}Fa.prototype[a]=l(),Fa.prototype[a+"Form"]=l(!0)});let U5=class wg{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(f){l=f});const r=this;this.promise.then(c=>{if(!r._listeners)return;let f=r._listeners.length;for(;f-- >0;)r._listeners[f](c);r._listeners=null}),this.promise.then=c=>{let f;const h=new Promise(y=>{r.subscribe(y),f=y}).then(c);return h.cancel=function(){r.unsubscribe(f)},h},a(function(f,h,y){r.reason||(r.reason=new Zs(f,h,y),l(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const a=new AbortController,l=r=>{a.abort(r)};return this.subscribe(l),a.signal.unsubscribe=()=>this.unsubscribe(l),a.signal}static source(){let a;return{token:new wg(function(c){a=c}),cancel:a}}};function D5(s){return function(l){return s.apply(null,l)}}function z5(s){return B.isObject(s)&&s.isAxiosError===!0}const xu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xu).forEach(([s,a])=>{xu[a]=s});function xg(s){const a=new Fa(s),l=eg(Fa.prototype.request,a);return B.extend(l,Fa.prototype,a,{allOwnKeys:!0}),B.extend(l,a,null,{allOwnKeys:!0}),l.create=function(c){return xg(Ja(s,c))},l}const $e=xg($i);$e.Axios=Fa;$e.CanceledError=Zs;$e.CancelToken=U5;$e.isCancel=mg;$e.VERSION=Eg;$e.toFormData=Ur;$e.AxiosError=Ee;$e.Cancel=$e.CanceledError;$e.all=function(a){return Promise.all(a)};$e.spread=D5;$e.isAxiosError=z5;$e.mergeConfig=Ja;$e.AxiosHeaders=zt;$e.formToJSON=s=>hg(B.isHTMLForm(s)?new FormData(s):s);$e.getAdapter=bg.getAdapter;$e.HttpStatusCode=xu;$e.default=$e;const{Axios:ib,AxiosError:lb,CanceledError:rb,isCancel:ob,CancelToken:cb,VERSION:ub,all:fb,Cancel:db,isAxiosError:hb,spread:mb,toFormData:gb,AxiosHeaders:pb,HttpStatusCode:yb,formToJSON:vb,getAdapter:Sb,mergeConfig:bb}=$e,L5=()=>({success:!0,message:"API fallback mode active",status:"offline",timestamp:Date.now()}),Cu="http://localhost:3000",St=$e.create({baseURL:Cu,headers:{"Content-Type":"application/json"},timeout:1e4});let Xa=!1;const B5=()=>{console.log("ApiService: Getting auth token");const s=localStorage.getItem("token");return console.log("ApiService: Token exists:",!!s),s};St.interceptors.request.use(s=>{console.log("ApiService: Intercepting request to:",s.url);const a=B5();return a&&(console.log("ApiService: Adding auth token to request"),s.headers.Authorization=`Bearer ${a}`),s},s=>(console.error("ApiService: Request interceptor error:",s),Promise.reject(s)));St.interceptors.response.use(s=>(console.log("ApiService: Response received success"),Xa=!1,s),s=>{var a,l;return console.error("ApiService: Response error:",(a=s.response)==null?void 0:a.status,(l=s.response)==null?void 0:l.data),s.response&&s.response.status===401&&(console.log("ApiService: 401 Unauthorized response, clearing token"),s.config.url.includes("socket.io")||(localStorage.removeItem("token"),window.location.href="/auth")),(s.code==="ECONNABORTED"||s.message.includes("Network Error"))&&(console.log("ApiService: Network error - server may be unreachable"),Xa=!0),Promise.reject(s)});const bt={isInFallbackMode:()=>Xa,enableFallbackMode:()=>{Xa=!0,console.log("ApiService: Fallback mode enabled manually")},disableFallbackMode:()=>{Xa=!1,console.log("ApiService: Fallback mode disabled manually")},checkServerStatus:async()=>{try{const s=await St.get("/api/status");return Xa=!1,s.data}catch(s){return console.error("ApiService: Error checking server status:",s),Xa=!0,L5()}},getStatus:async()=>{try{return(await St.get("/api/status")).data}catch(s){throw s}},sendMessage:async(s,a=null,l=null)=>{var r,c;try{const f=cn.getSocketId();console.log("ApiService: Sending message via API",{message:s,username:a,location:l});const h=await St.post("/api/messages",{message:s,socketId:f,username:a,location:l});return h.data?{success:!0,...h.data}:{success:!1,error:"No response data from server"}}catch(f){return console.error("ApiService: Error sending message:",f),{success:!1,error:((c=(r=f.response)==null?void 0:r.data)==null?void 0:c.message)||f.message||"Unknown error"}}},sendMessageWithImage:async(s,a,l=null)=>{var r,c;try{const f=localStorage.getItem("token");l&&a.append("location",JSON.stringify(l)),a.has("message")||a.append("message",s),console.log("ApiService: Sending message with image",{message:s,hasLocation:!!l});const h=await $e({method:"post",url:`${Cu}/api/messages/with-image`,data:a,headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${f}`}});return h.data?{success:!0,...h.data}:{success:!1,error:"No response data from server"}}catch(f){return console.error("ApiService: Error sending message with image:",f),{success:!1,error:((c=(r=f.response)==null?void 0:r.data)==null?void 0:c.message)||f.message||"Unknown error"}}},getUserMessages:async(s,a=null)=>{var l,r,c;try{let f=`/api/messages/${s}`;a&&(f+=`?currentUser=${encodeURIComponent(a)}`);const h=localStorage.getItem("token");if(!h)return console.error("Authentication token missing when fetching user messages"),{success:!1,message:"Authentication token missing"};const y=await St.get(f,{headers:{Authorization:`Bearer ${h}`}});return y.data?(y.data&&!y.data.hasOwnProperty("success")&&(y.data.success=!0),y.data.success&&(!y.data.data||!y.data.data.messages)?(console.error("Missing messages array in server response:",y.data),{success:!1,message:"Invalid server response format",originalResponse:y.data}):y.data):{success:!1,message:"Invalid response from server"}}catch(f){return console.error("Error fetching user messages:",f),{success:!1,message:((r=(l=f.response)==null?void 0:l.data)==null?void 0:r.message)||"Failed to fetch user messages",error:((c=f.response)==null?void 0:c.data)||f.message}}},getAllMessages:async(s=null,a=null,l=1,r=50)=>{var c,f,h;try{let y="/api/messages";const d=new URLSearchParams;s&&d.append("exclude",s),a&&d.append("currentUser",a),d.append("page",l),d.append("limit",r),d.toString()&&(y+=`?${d.toString()}`);const p=localStorage.getItem("token");if(!p)return console.error("Authentication token missing"),{success:!1,message:"Authentication token missing"};const w=await St.get(y,{headers:{Authorization:`Bearer ${p}`}});return w.data&&!w.data.hasOwnProperty("success")&&(w.data.success=!0),w.data}catch(y){return console.error("Error fetching messages:",y),{success:!1,message:((f=(c=y.response)==null?void 0:c.data)==null?void 0:f.message)||"Failed to fetch messages",error:((h=y.response)==null?void 0:h.data)||y.message}}},getAllMessagesWithAutoPagination:async(s=null,a=null,l=30)=>{try{const r=[];let c=1;const f=50;let h=!0,y=!1;const d=new Date(Date.now()-l*60*1e3),p=localStorage.getItem("token");if(!p)return console.error("Authentication token missing"),{success:!1,message:"Authentication token missing"};for(;h&&!y;){const w=new URLSearchParams;s&&w.append("exclude",s),a&&w.append("currentUser",a),w.append("page",c),w.append("limit",f);let E=`/api/messages?${w.toString()}`;const M=await St.get(E,{headers:{Authorization:`Bearer ${p}`}}).then(x=>x.data);if(!M.success||!M.messages||!Array.isArray(M.messages)){console.error("Error or invalid response format when fetching messages page",c,M);break}if(M.messages.length===0){h=!1;break}if(new Date(M.messages[M.messages.length-1].createdAt)<d){y=!0;const x=M.messages.filter(T=>new Date(T.createdAt)>=d);r.push(...x)}else r.push(...M.messages);M.pagination&&M.pagination.page<M.pagination.pages?c++:h=!1}return{success:!0,messages:r,pagination:{total:r.length,pages:1,page:1}}}catch(r){return console.error("Error in auto-pagination:",r),{success:!1,message:"Failed to fetch all messages with auto-pagination",error:r.message}}},getMessages:async(s=30)=>{try{console.log(" ApiService.getMessages: Starting to fetch messages from server");const a=localStorage.getItem("token");if(!a)return console.error(" ApiService.getMessages: Authentication token missing"),{success:!1,message:"Authentication token missing"};console.log(" ApiService.getMessages: Auth token retrieved successfully");const l=localStorage.getItem("user"),r=l?JSON.parse(l).username:null;console.log(" ApiService.getMessages: Current username:",r);const c=new URLSearchParams;r&&c.append("currentUser",r),c.append("includeLocation","true"),c.append("limit","50"),c.append("sort","-createdAt");const f=s*60*1e3,h=new Date(Date.now()-f).toISOString();c.append("minCreatedAt",h);let y=`/api/messages?${c.toString()}`;console.log(" ApiService.getMessages: Requesting URL:",`${Cu}${y}`),console.log(" ApiService.getMessages: Filtering for messages newer than:",h);try{const d=await St.get(y,{headers:{Authorization:`Bearer ${a}`}});console.log(" ApiService.getMessages: Raw response status:",d.status,d.statusText),typeof d.data=="object"&&console.log(" ApiService.getMessages: Response data keys:",Object.keys(d.data));let p=[],w={};if(d.data&&d.data.data&&d.data.data.messages)console.log(" ApiService.getMessages: Found messages in response.data.data.messages"),p=d.data.data.messages,w=d.data.data.onlineUsers||{};else if(d.data&&d.data.messages)console.log(" ApiService.getMessages: Found messages in response.data.messages"),p=d.data.messages,w=d.data.onlineUsers||{};else if(Array.isArray(d.data))console.log(" ApiService.getMessages: Response data is an array of messages"),p=d.data;else if(d.data&&typeof d.data=="object"){const M=Object.entries(d.data).filter(([R,x])=>Array.isArray(x)).sort(([R,x],[T,_])=>_.length-x.length);if(M.length>0){const[R,x]=M[0];console.log(` ApiService.getMessages: Found array in property "${R}" that might be messages`),p=x}}if(p.length>0){console.log(` ApiService.getMessages: Found ${p.length} messages`);const M=p.filter(R=>R.location&&R.location.latitude&&R.location.longitude);return console.log(` ApiService.getMessages: Found ${M.length} messages with location data out of ${p.length}`),p.length>0&&console.log(" ApiService.getMessages: Sample message:",p[0]),{success:!0,messages:p,onlineUsers:w}}return console.error(" ApiService.getMessages: No messages found in response:",d.data),console.log(" ApiService.getMessages: Generating test messages as fallback"),{success:!0,message:"Using test messages due to unexpected server response",messages:Array(5).fill().map((M,R)=>({_id:`test-${R}`,messageId:`test-${R}`,senderUsername:`TestUser${R}`,text:`This is a test message ${R+1} with location data.`,createdAt:new Date(Date.now()-R*36e5).toISOString(),location:{latitude:40.7128+(Math.random()-.5)*.05,longitude:-74.006+(Math.random()-.5)*.05,fuzzyLocation:!0},likes:[],likesCount:Math.floor(Math.random()*10)})),onlineUsers:{},isTestData:!0}}catch(d){throw console.error(" ApiService.getMessages: Error during API request:",d.message),d}}catch(a){return console.error(" ApiService.getMessages: Error fetching messages:",a),console.log(" ApiService.getMessages: Generating test messages as fallback due to error"),{success:!0,message:"Using test messages due to API error",messages:Array(5).fill().map((r,c)=>({_id:`test-error-${c}`,messageId:`test-error-${c}`,senderUsername:`ErrorUser${c}`,text:`This is a fallback message ${c+1} generated due to API error.`,createdAt:new Date(Date.now()-c*36e5).toISOString(),location:{latitude:40.7128+(Math.random()-.5)*.05,longitude:-74.006+(Math.random()-.5)*.05,fuzzyLocation:!0},likes:[],likesCount:Math.floor(Math.random()*10)})),onlineUsers:{},isTestData:!0,error:a.message}}},likeMessage:async s=>{var a,l;try{const r=localStorage.getItem("token"),c=await St.post(`/api/messages/${s}/like`,{},{headers:{Authorization:`Bearer ${r}`}});return c.data&&c.data.success?{success:!0,liked:c.data.liked,likesCount:c.data.likesCount,messageId:c.data.messageId}:c.data}catch(r){return console.error("Error toggling message like:",r),{success:!1,message:((l=(a=r.response)==null?void 0:a.data)==null?void 0:l.message)||"Failed to toggle like status"}}},unlikeMessage:async s=>bt.likeMessage(s),deleteMessage:async s=>{try{const a=localStorage.getItem("token");return(await St.delete(`/api/messages/${s}`,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){throw console.error("Error deleting message:",a),a}},getUserLikes:async s=>{try{return(await St.get(`/api/users/${s}/likes`)).data}catch(a){throw a}},getLikedMessages:async(s,a=null)=>{var l,r,c;try{let f=`/api/users/${s}/liked-messages`;a&&(f+=`?currentUser=${encodeURIComponent(a)}`);const h=localStorage.getItem("token");if(!h)return console.error("Authentication token missing"),{success:!1,message:"Authentication token missing"};const y=await St.get(f,{headers:{Authorization:`Bearer ${h}`}});return y.data?(y.data&&!y.data.hasOwnProperty("success")&&(y.data.success=!0),console.log("Liked messages response:",y.data),y.data):(console.error("Empty response when fetching liked messages"),{success:!1,message:"Invalid response from server"})}catch(f){return console.error("Error fetching liked messages:",f),{success:!1,message:((r=(l=f.response)==null?void 0:l.data)==null?void 0:r.message)||"Failed to fetch liked messages",error:((c=f.response)==null?void 0:c.data)||f.message}}},getUserByUsername:async(s,a=null)=>{var l,r;try{let c=`/api/users/${s}`;return a&&(c+=`?currentUsername=${encodeURIComponent(a)}`),(await St.get(c)).data}catch(c){return{success:!1,error:((r=(l=c.response)==null?void 0:l.data)==null?void 0:r.message)||"Failed to fetch user profile"}}},followUser:async(s,a)=>{var l,r;try{return(await St.post(`/api/users/${s}/follow`,{currentUsername:a})).data}catch(c){return{success:!1,error:((r=(l=c.response)==null?void 0:l.data)==null?void 0:r.message)||"Failed to follow user"}}},unfollowUser:async(s,a)=>{var l,r;try{return(await St.post(`/api/users/${s}/unfollow`,{currentUsername:a})).data}catch(c){return{success:!1,error:((r=(l=c.response)==null?void 0:l.data)==null?void 0:r.message)||"Failed to unfollow user"}}}},q5="http://localhost:3000",H5=`${q5}/api/auth`,Va=$e.create({baseURL:H5,headers:{"Content-Type":"application/json"},withCredentials:!0});Va.interceptors.request.use(s=>{const a=localStorage.getItem("token");return a&&(s.headers.Authorization=`Bearer ${a}`),s},s=>Promise.reject(s));const dt={register:async s=>{var a;try{const l=await Va.post("/register",s);if(l.data.success){localStorage.setItem("token",l.data.data.token),localStorage.setItem("user",JSON.stringify(l.data.data.user));const r=Date.now()+30*24*60*60*1e3;localStorage.setItem("tokenExpiration",r)}return l.data}catch(l){throw((a=l.response)==null?void 0:a.data)||l}},login:async s=>{var a;try{const l=await Va.post("/login",s);if(l.data.success){l.data.data.user.likedMessages||(l.data.data.user.likedMessages=[]),localStorage.setItem("token",l.data.data.token),localStorage.setItem("user",JSON.stringify(l.data.data.user));const r=Date.now()+30*24*60*60*1e3;localStorage.setItem("tokenExpiration",r)}return l.data}catch(l){throw((a=l.response)==null?void 0:a.data)||l}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("tokenExpiration")},getCurrentUser:async()=>{var s;try{const a=await Va.get("/me");return a.data.success&&a.data.data.user,a.data}catch(a){throw((s=a.response)==null?void 0:s.data)||a}},isAuthenticated:()=>{const s=localStorage.getItem("token"),a=localStorage.getItem("tokenExpiration");return s?a&&parseInt(a)<Date.now()?(dt.logout(),!1):!0:!1},getUser:()=>{const s=localStorage.getItem("user");return s?JSON.parse(s):null},getToken:()=>localStorage.getItem("token"),updateProfile:async s=>{var a;try{const l=await Va.put("/profile",s);return l.data.success&&localStorage.setItem("user",JSON.stringify(l.data.data.user)),l.data}catch(l){throw((a=l.response)==null?void 0:a.data)||l}},checkLoginStatus:async()=>{if(console.log("AuthService: checkLoginStatus called"),!localStorage.getItem("token"))return console.log("AuthService: No token found in localStorage"),null;try{console.log("AuthService: Token found, validating with server");const a=await Va.get("/me");return a.data.success&&a.data.data.user?(console.log("AuthService: Token is valid, user authenticated:",a.data.data.user.username),a.data.data.user):(console.log("AuthService: Token validation failed:",a),localStorage.removeItem("token"),null)}catch(a){return console.error("AuthService: Error checking login status:",a),localStorage.removeItem("token"),null}},refreshToken:async()=>{try{console.log("Attempting to refresh auth token");const s=await Va.post("/refresh-token");if(s.data.success){console.log("Token refreshed successfully"),localStorage.setItem("token",s.data.data.token);const a=Date.now()+30*24*60*60*1e3;return localStorage.setItem("tokenExpiration",a.toString()),!0}return console.warn("Token refresh failed: Server did not return success"),!1}catch(s){return console.error("Token refresh error:",s),!1}}};var iu={exports:{}},lu,fm;function G5(){if(fm)return lu;fm=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lu=s,lu}var ru,dm;function Y5(){if(dm)return ru;dm=1;var s=G5();function a(){}function l(){}return l.resetWarningCache=a,ru=function(){function r(h,y,d,p,w,E){if(E!==s){var M=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw M.name="Invariant Violation",M}}r.isRequired=r;function c(){return r}var f={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:c,element:r,elementType:r,instanceOf:c,node:r,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:l,resetWarningCache:a};return f.PropTypes=f,f},ru}var hm;function V5(){return hm||(hm=1,iu.exports=Y5()()),iu.exports}var Z5=V5();const P=Nu(Z5);var Cg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mm=pa.createContext&&pa.createContext(Cg),X5=["attr","size","title"];function Q5(s,a){if(s==null)return{};var l=F5(s,a),r,c;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(s);for(c=0;c<f.length;c++)r=f[c],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(l[r]=s[r])}return l}function F5(s,a){if(s==null)return{};var l={};for(var r in s)if(Object.prototype.hasOwnProperty.call(s,r)){if(a.indexOf(r)>=0)continue;l[r]=s[r]}return l}function xr(){return xr=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(s[r]=l[r])}return s},xr.apply(this,arguments)}function gm(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function Cr(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?gm(Object(l),!0).forEach(function(r){$5(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):gm(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}function $5(s,a,l){return a=K5(a),a in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function K5(s){var a=J5(s,"string");return typeof a=="symbol"?a:a+""}function J5(s,a){if(typeof s!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function Mg(s){return s&&s.map((a,l)=>pa.createElement(a.tag,Cr({key:l},a.attr),Mg(a.child)))}function He(s){return a=>pa.createElement(P5,xr({attr:Cr({},s.attr)},a),Mg(s.child))}function P5(s){var a=l=>{var{attr:r,size:c,title:f}=s,h=Q5(s,X5),y=c||l.size||"1em",d;return l.className&&(d=l.className),s.className&&(d=(d?d+" ":"")+s.className),pa.createElement("svg",xr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},l.attr,r,h,{className:d,style:Cr(Cr({color:s.color||l.color},l.style),s.style),height:y,width:y,xmlns:"http://www.w3.org/2000/svg"}),f&&pa.createElement("title",null,f),s.children)};return mm!==void 0?pa.createElement(mm.Consumer,null,l=>a(l)):a(Cg)}function W5(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 1c3.681 0 7 2.565 7 6v4.539c0 .642.189 1.269.545 1.803l2.2 3.298A1.517 1.517 0 0 1 20.482 19H15.5a3.5 3.5 0 1 1-7 0H3.519a1.518 1.518 0 0 1-1.265-2.359l2.2-3.299A3.25 3.25 0 0 0 5 11.539V7c0-3.435 3.318-6 7-6ZM6.5 7v4.539a4.75 4.75 0 0 1-.797 2.635l-2.2 3.298-.003.01.001.007.004.006.006.004.007.001h16.964l.007-.001.006-.004.004-.006.001-.006a.017.017 0 0 0-.003-.01l-2.199-3.299a4.753 4.753 0 0 1-.798-2.635V7c0-2.364-2.383-4.5-5.5-4.5S6.5 4.636 6.5 7ZM14 19h-4a2 2 0 1 0 4 0Z"},child:[]}]})(s)}function I5(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.22 1.22a.75.75 0 0 1 1.06 0l20.5 20.5a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L17.94 19H15.5a3.5 3.5 0 1 1-7 0H3.518a1.516 1.516 0 0 1-1.263-2.36l2.2-3.298A3.249 3.249 0 0 0 5 11.539V7c0-.294.025-.583.073-.866L1.22 2.28a.75.75 0 0 1 0-1.06ZM6.5 7.56h-.001v3.979a4.75 4.75 0 0 1-.797 2.635l-2.2 3.298-.003.01.001.007.004.006.006.004.007.001H16.44ZM10 19a2 2 0 1 0 4 0Zm2-16.5c-1.463 0-2.8.485-3.788 1.257l-.04.032a.75.75 0 1 1-.935-1.173l.05-.04C8.548 1.59 10.212 1 12 1c3.681 0 7 2.565 7 6v4.539c0 .642.19 1.269.546 1.803l1.328 1.992a.75.75 0 1 1-1.248.832l-1.328-1.992a4.75 4.75 0 0 1-.798-2.635V7c0-2.364-2.383-4.5-5.5-4.5Z"},child:[]}]})(s)}function eS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.03 5.72a.75.75 0 0 1 0 1.06l-11.5 11.5a.747.747 0 0 1-1.072-.012l-5.5-5.75a.75.75 0 1 1 1.084-1.036l4.97 5.195L19.97 5.72a.75.75 0 0 1 1.06 0Z"},child:[]}]})(s)}function tS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15.28 5.22a.75.75 0 0 1 0 1.06L9.56 12l5.72 5.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-6.25-6.25a.75.75 0 0 1 0-1.06l6.25-6.25a.75.75 0 0 1 1.06 0Z"},child:[]}]})(s)}function pm(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3.103 10.107c0-4.244 3.445-7.607 7.733-7.607 3.19 0 5.912 1.858 7.099 4.563l.01.022.001.006C21.348 7.345 24 10.095 24 13.536 24 17.148 21.076 20 17.431 20H5.017C2.23 20 0 17.83 0 15.06a4.899 4.899 0 0 1 3.112-4.581 7.696 7.696 0 0 1-.009-.372ZM10.836 4c-3.485 0-6.233 2.717-6.233 6.107 0 .284.022.602.052.756a.75.75 0 0 1-.552.869c-1.52.385-2.603 1.712-2.603 3.328 0 1.917 1.532 3.44 3.517 3.44h12.414c2.843 0 5.069-2.206 5.069-4.964 0-2.759-2.226-4.965-5.069-4.965a.75.75 0 0 1-.696-.47l-.179-.446C15.606 5.5 13.424 4 10.836 4Z"},child:[]}]})(s)}function nS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m2.78 2.22 19.5 19.5a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-2.845-2.845a6.932 6.932 0 0 1-.944.065H5.017C2.229 20 0 17.831 0 15.059a4.899 4.899 0 0 1 3.111-4.58A7.52 7.52 0 0 1 4.36 5.922L1.72 3.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018ZM16.94 18.5 5.448 7.01a6.026 6.026 0 0 0-.794 3.853.75.75 0 0 1-.552.869c-1.52.385-2.603 1.712-2.603 3.328 0 1.917 1.532 3.44 3.517 3.44Zm-6.104-16a7.865 7.865 0 0 0-3.638.88.75.75 0 1 0 .692 1.331A6.365 6.365 0 0 1 10.836 4c2.588 0 4.77 1.5 5.72 3.655l.179.445a.75.75 0 0 0 .696.471c2.843 0 5.069 2.206 5.069 4.965a4.9 4.9 0 0 1-1.684 3.716.75.75 0 0 0 .986 1.13A6.396 6.396 0 0 0 24 13.536c0-3.44-2.652-6.191-6.054-6.445l-.002-.006a.634.634 0 0 0-.01-.022C16.749 4.358 14.026 2.5 10.837 2.5Z"},child:[]}]})(s)}function aS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.5 4.25c0-.966.784-1.75 1.75-1.75h17.5c.966 0 1.75.784 1.75 1.75v12.5a1.75 1.75 0 0 1-1.75 1.75h-9.69l-3.573 3.573A1.458 1.458 0 0 1 5 21.043V18.5H3.25a1.75 1.75 0 0 1-1.75-1.75ZM3.25 4a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h2.5a.75.75 0 0 1 .75.75v3.19l3.72-3.72a.749.749 0 0 1 .53-.22h10a.25.25 0 0 0 .25-.25V4.25a.25.25 0 0 0-.25-.25Z"},child:[]}]})(s)}function Tg(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 5.25v13a.75.75 0 0 1-1.136.643L16.5 15.075v2.175A1.75 1.75 0 0 1 14.75 19h-13A1.75 1.75 0 0 1 0 17.25v-11C0 5.284.784 4.5 1.75 4.5h13c.966 0 1.75.784 1.75 1.75v2.175l6.364-3.818A.75.75 0 0 1 24 5.25Zm-9 1a.25.25 0 0 0-.25-.25h-13a.25.25 0 0 0-.25.25v11c0 .138.112.25.25.25h13a.25.25 0 0 0 .25-.25v-11Zm1.5 7.075 6 3.6V6.575l-6 3.6Z"},child:[]}]})(s)}function sS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m12 20.703.343.667a.748.748 0 0 1-.686 0l-.003-.002-.007-.003-.025-.013a31.138 31.138 0 0 1-5.233-3.576C3.8 15.573 1 12.332 1 8.514v-.001C1 5.053 3.829 2.5 6.736 2.5 9.03 2.5 10.881 3.726 12 5.605 13.12 3.726 14.97 2.5 17.264 2.5 20.17 2.5 23 5.052 23 8.514c0 3.818-2.801 7.06-5.389 9.262a31.148 31.148 0 0 1-5.233 3.576l-.025.013-.007.003-.002.001ZM6.736 4C4.657 4 2.5 5.88 2.5 8.514c0 3.107 2.324 5.96 4.861 8.12a29.655 29.655 0 0 0 4.566 3.175l.073.041.073-.04c.271-.153.661-.38 1.13-.674.94-.588 2.19-1.441 3.436-2.502 2.537-2.16 4.861-5.013 4.861-8.12C21.5 5.88 19.343 4 17.264 4c-2.106 0-3.801 1.389-4.553 3.643a.751.751 0 0 1-1.422 0C10.537 5.389 8.841 4 6.736 4Z"},child:[]}]})(s)}function yr(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14 20.408c-.492.308-.903.546-1.192.709-.153.086-.308.17-.463.252h-.002a.75.75 0 0 1-.686 0 16.709 16.709 0 0 1-.465-.252 31.147 31.147 0 0 1-4.803-3.34C3.8 15.572 1 12.331 1 8.513 1 5.052 3.829 2.5 6.736 2.5 9.03 2.5 10.881 3.726 12 5.605 13.12 3.726 14.97 2.5 17.264 2.5 20.17 2.5 23 5.052 23 8.514c0 3.818-2.801 7.06-5.389 9.262A31.146 31.146 0 0 1 14 20.408Z"},child:[]}]})(s)}function iS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.03 2.59a1.501 1.501 0 0 1 1.94 0l7.5 6.363a1.5 1.5 0 0 1 .53 1.144V19.5a1.5 1.5 0 0 1-1.5 1.5h-5.75a.75.75 0 0 1-.75-.75V14h-2v6.25a.75.75 0 0 1-.75.75H4.5A1.5 1.5 0 0 1 3 19.5v-9.403c0-.44.194-.859.53-1.144ZM12 3.734l-7.5 6.363V19.5h5v-6.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v6.25h5v-9.403Z"},child:[]}]})(s)}function lS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 14a2 2 0 1 1-.001-3.999A2 2 0 0 1 20 14ZM6 12a2 2 0 1 1-3.999.001A2 2 0 0 1 6 12Zm8 0a2 2 0 1 1-3.999.001A2 2 0 0 1 14 12Z"},child:[]}]})(s)}function $a(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 13.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"},child:[]},{tag:"path",attr:{d:"M19.071 3.429h.001c3.905 3.905 3.905 10.237 0 14.142l-5.403 5.403a2.36 2.36 0 0 1-3.336 0l-5.375-5.375-.028-.028c-3.905-3.905-3.905-10.237 0-14.142 3.904-3.905 10.236-3.905 14.141 0ZM5.99 4.489v.001a8.5 8.5 0 0 0 0 12.02l.023.024.002.002 5.378 5.378a.859.859 0 0 0 1.214 0l5.403-5.404a8.5 8.5 0 0 0-.043-11.977A8.5 8.5 0 0 0 5.99 4.489Z"},child:[]}]})(s)}function rS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.768 3.96v.001l-.002-.005a9.08 9.08 0 0 0-.218-.779c-.13-.394.21-.8.602-.67.29.096.575.205.855.328l.01.005A10.002 10.002 0 0 1 12 22a10.002 10.002 0 0 1-9.162-5.985l-.004-.01a9.722 9.722 0 0 1-.329-.855c-.13-.392.277-.732.67-.602.257.084.517.157.78.218l.004.002A9 9 0 0 0 14.999 6a9.09 9.09 0 0 0-.231-2.04ZM16.5 6c0 5.799-4.701 10.5-10.5 10.5-.426 0-.847-.026-1.26-.075A8.5 8.5 0 1 0 16.425 4.74c.05.413.075.833.075 1.259Z"},child:[]}]})(s)}function oS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.513 1.96a1.374 1.374 0 0 1 1.499-.21l19.335 9.215a1.147 1.147 0 0 1 0 2.07L3.012 22.25a1.374 1.374 0 0 1-1.947-1.46L2.49 12 1.065 3.21a1.375 1.375 0 0 1 .448-1.25Zm2.375 10.79-1.304 8.042L21.031 12 2.584 3.208l1.304 8.042h7.362a.75.75 0 0 1 0 1.5Z"},child:[]}]})(s)}function cS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2.5a5.5 5.5 0 0 1 3.096 10.047 9.005 9.005 0 0 1 5.9 8.181.75.75 0 1 1-1.499.044 7.5 7.5 0 0 0-14.993 0 .75.75 0 0 1-1.5-.045 9.005 9.005 0 0 1 5.9-8.18A5.5 5.5 0 0 1 12 2.5ZM8 8a4 4 0 1 0 8 0 4 4 0 0 0-8 0Z"},child:[]}]})(s)}function uS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 3.25c0-.966.784-1.75 1.75-1.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.25.25 0 0 0-.25.25v17.5c0 .138.112.25.25.25h5.5a.75.75 0 0 1 0 1.5h-5.5A1.75 1.75 0 0 1 3 20.75Zm16.006 9.5H10.75a.75.75 0 0 1 0-1.5h8.256l-3.3-3.484a.75.75 0 0 1 1.088-1.032l4.5 4.75a.75.75 0 0 1 0 1.032l-4.5 4.75a.75.75 0 0 1-1.088-1.032Z"},child:[]}]})(s)}function fS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.063 1.456a1.749 1.749 0 0 1 1.874 0l8.383 5.316a1.751 1.751 0 0 1 0 2.956l-8.383 5.316a1.749 1.749 0 0 1-1.874 0L2.68 9.728a1.751 1.751 0 0 1 0-2.956Zm1.071 1.267a.25.25 0 0 0-.268 0L3.483 8.039a.25.25 0 0 0 0 .422l8.383 5.316a.25.25 0 0 0 .268 0l8.383-5.316a.25.25 0 0 0 0-.422Z"},child:[]},{tag:"path",attr:{d:"M1.867 12.324a.75.75 0 0 1 1.035-.232l8.964 5.685a.25.25 0 0 0 .268 0l8.964-5.685a.75.75 0 0 1 .804 1.267l-8.965 5.685a1.749 1.749 0 0 1-1.874 0l-8.965-5.685a.75.75 0 0 1-.231-1.035Z"},child:[]},{tag:"path",attr:{d:"M1.867 16.324a.75.75 0 0 1 1.035-.232l8.964 5.685a.25.25 0 0 0 .268 0l8.964-5.685a.75.75 0 0 1 .804 1.267l-8.965 5.685a1.749 1.749 0 0 1-1.874 0l-8.965-5.685a.75.75 0 0 1-.231-1.035Z"},child:[]}]})(s)}function dS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 19a7 7 0 1 1 0-14 7 7 0 0 1 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 1 0 0 11Zm-5.657.157a.75.75 0 0 1 0 1.06l-1.768 1.768a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.767-1.768a.75.75 0 0 1 1.061 0ZM3.515 3.515a.75.75 0 0 1 1.06 0l1.768 1.768a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L3.515 4.575a.75.75 0 0 1 0-1.06ZM12 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 12 0ZM4 12a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 12Zm8 8a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 12 20Zm12-8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 24 12Zm-6.343 5.657a.75.75 0 0 1 1.06 0l1.768 1.768a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-1.768-1.767a.75.75 0 0 1 0-1.061Zm2.828-14.142a.75.75 0 0 1 0 1.06l-1.768 1.768a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l1.767-1.768a.75.75 0 0 1 1.061 0Z"},child:[]}]})(s)}function hS(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3.38 8A9.502 9.502 0 0 1 12 2.5a9.502 9.502 0 0 1 9.215 7.182.75.75 0 1 0 1.456-.364C21.473 4.539 17.15 1 12 1a10.995 10.995 0 0 0-9.5 5.452V4.75a.75.75 0 0 0-1.5 0V8.5a1 1 0 0 0 1 1h3.75a.75.75 0 0 0 0-1.5H3.38Zm-.595 6.318a.75.75 0 0 0-1.455.364C2.527 19.461 6.85 23 12 23c4.052 0 7.592-2.191 9.5-5.451v1.701a.75.75 0 0 0 1.5 0V15.5a1 1 0 0 0-1-1h-3.75a.75.75 0 0 0 0 1.5h2.37A9.502 9.502 0 0 1 12 21.5c-4.446 0-8.181-3.055-9.215-7.182Z"},child:[]}]})(s)}function Ng(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 1.75V3h5.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H8V1.75C8 .784 8.784 0 9.75 0h4.5C15.216 0 16 .784 16 1.75Zm-6.5 0V3h5V1.75a.25.25 0 0 0-.25-.25h-4.5a.25.25 0 0 0-.25.25ZM4.997 6.178a.75.75 0 1 0-1.493.144L4.916 20.92a1.75 1.75 0 0 0 1.742 1.58h10.684a1.75 1.75 0 0 0 1.742-1.581l1.413-14.597a.75.75 0 0 0-1.494-.144l-1.412 14.596a.25.25 0 0 1-.249.226H6.658a.25.25 0 0 1-.249-.226L4.997 6.178Z"},child:[]},{tag:"path",attr:{d:"M9.206 7.501a.75.75 0 0 1 .793.705l.5 8.5A.75.75 0 1 1 9 16.794l-.5-8.5a.75.75 0 0 1 .705-.793Zm6.293.793A.75.75 0 1 0 14 8.206l-.5 8.5a.75.75 0 0 0 1.498.088l.5-8.5Z"},child:[]}]})(s)}function Ag(s){return He({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.72 5.72a.75.75 0 0 1 1.06 0L12 10.94l5.22-5.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L13.06 12l5.22 5.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L12 13.06l-5.22 5.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L10.94 12 5.72 6.78a.75.75 0 0 1 0-1.06Z"},child:[]}]})(s)}const _g=({notifications:s=[],onClearNotifications:a,isDarkMode:l})=>{const[r,c]=b.useState(!1),[f,h]=b.useState(0),y=b.useRef(null),d=Gs();b.useEffect(()=>{h(s.filter(M=>!M.read).length)},[s]),b.useEffect(()=>{const M=R=>{y.current&&!y.current.contains(R.target)&&c(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]);const p=()=>{c(!r);const M=document.querySelector(".notification-bell");if(M){const R=M.querySelector(".ripple");R&&R.remove();const x=document.createElement("span");x.classList.add("ripple"),M.appendChild(x);const T=M.getBoundingClientRect(),_=Math.max(T.width,T.height);x.style.width=x.style.height=`${_}px`,x.style.left=`${T.width/2-_/2}px`,x.style.top=`${T.height/2-_/2}px`,setTimeout(()=>{x&&x.parentNode&&x.remove()},600)}},w=M=>new Date(M).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),E=M=>{d(`/profile/${M.sender}`),c(!1)};return m.jsxs("div",{className:`notification-bell-container ${l?"dark-mode":""}`,ref:y,children:[m.jsxs("div",{className:"notification-bell",onClick:p,children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[m.jsx("path",{fill:"none",d:"M0 0h24v24H0z"}),m.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"})]}),f>0&&m.jsx("span",{className:"notification-badge",children:f})]}),r&&m.jsxs("div",{className:`notification-dropdown ${l?"dark-mode":""}`,children:[m.jsxs("div",{className:"notification-header",children:[m.jsx("h3",{children:"Notifications"}),s.length>0&&m.jsx("button",{className:"clear-btn",onClick:M=>{M.stopPropagation(),a()},children:"Clear all"})]}),m.jsx("div",{className:"notification-content",children:s.length===0?m.jsx("div",{className:"no-notifications",children:m.jsx("p",{children:"No notifications"})}):m.jsx("ul",{className:"notification-list",children:s.map(M=>m.jsxs("li",{className:`notification-item ${M.read?"read":"unread"}`,onClick:()=>E(M),children:[m.jsxs("div",{className:"notification-info",children:[m.jsx("span",{className:"notification-user",children:M.sender}),m.jsx("span",{className:"notification-time",children:w(M.timestamp)})]}),m.jsx("p",{className:"notification-text",children:M.preview})]},M.id))})})]})]})};_g.propTypes={notifications:P.arrayOf(P.shape({id:P.number.isRequired,sender:P.string.isRequired,preview:P.string.isRequired,timestamp:P.oneOfType([P.string,P.instanceOf(Date)]).isRequired,read:P.bool.isRequired})),onClearNotifications:P.func.isRequired,isDarkMode:P.bool};const Rg=({onLogout:s,isDarkMode:a,toggleDarkMode:l,notifications:r,onClearNotifications:c})=>{const f=Gs(),h=Pa(),y=h.pathname!=="/",d=()=>h.pathname.startsWith("/profile")?"Profile":"Gringo",p=()=>{document.getElementById("dropdown-menu").classList.toggle("show")},w=()=>{const M=document.getElementById("dropdown-menu");M!=null&&M.classList.contains("show")&&M.classList.remove("show")};b.useEffect(()=>{const M=R=>{const x=document.querySelector(".menu-container");x&&!x.contains(R.target)&&w()};return document.addEventListener("click",M),()=>{document.removeEventListener("click",M)}},[]);const E=M=>{w(),M==="profile"?f("/profile"):M==="logout"?s():M==="toggleDarkMode"&&l()};return m.jsxs("header",{className:"app-header",children:[y&&m.jsx("button",{className:"back-button",onClick:()=>f(-1),children:m.jsx(tS,{})}),m.jsx("h1",{children:d()}),m.jsxs("div",{className:"header-actions",children:[r&&m.jsx(_g,{notifications:r,onClearNotifications:c,isDarkMode:a}),m.jsxs("div",{className:"menu-container",children:[m.jsx("button",{className:"menu-button",onClick:M=>{M.stopPropagation(),p()},children:m.jsx(lS,{className:"menu-dots"})}),m.jsxs("div",{id:"dropdown-menu",className:"dropdown-menu",children:[m.jsxs("button",{onClick:()=>E("profile"),className:"dropdown-item",children:[m.jsx("span",{className:"dropdown-icon",children:m.jsx(cS,{})})," Profile"]}),m.jsxs("button",{onClick:()=>E("logout"),className:"dropdown-item",children:[m.jsx("span",{className:"dropdown-icon",children:m.jsx(uS,{})})," Logout"]})]})]})]})]})};Rg.propTypes={onLogout:P.func.isRequired,isDarkMode:P.bool.isRequired,toggleDarkMode:P.func.isRequired,notifications:P.array,onClearNotifications:P.func};const mS="modulepreload",gS=function(s){return"/"+s},ym={},Og=function(a,l,r){let c=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),y=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));c=Promise.allSettled(l.map(d=>{if(d=gS(d),d in ym)return;ym[d]=!0;const p=d.endsWith(".css"),w=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const E=document.createElement("link");if(E.rel=p?"stylesheet":mS,p||(E.as="script"),E.crossOrigin="",E.href=d,y&&E.setAttribute("nonce",y),document.head.appendChild(E),p)return new Promise((M,R)=>{E.addEventListener("load",M),E.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${d}`)))})}))}function f(h){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=h,window.dispatchEvent(y),!y.defaultPrevented)throw h}return c.then(h=>{for(const y of h||[])y.status==="rejected"&&f(y.reason);return a().catch(f)})},pS=b.createContext(null);function yS(s){const a=s.clone();return a.pixelsToGLUnits=s.pixelsToGLUnits,a}function vm(s){return{longitude:s.center.lng,latitude:s.center.lat,zoom:s.zoom,pitch:s.pitch,bearing:s.bearing,padding:s.padding}}function Sm(s,a){const l=a.viewState||a;let r=!1;if("longitude"in l&&"latitude"in l){const c=s.center;s.center=new c.constructor(l.longitude,l.latitude),r=r||c!==s.center}if("zoom"in l){const c=s.zoom;s.zoom=l.zoom,r=r||c!==s.zoom}if("bearing"in l){const c=s.bearing;s.bearing=l.bearing,r=r||c!==s.bearing}if("pitch"in l){const c=s.pitch;s.pitch=l.pitch,r=r||c!==s.pitch}return l.padding&&!s.isPaddingEqual(l.padding)&&(r=!0,s.padding=l.padding),r}const vS=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function bm(s){if(!s)return null;if(typeof s=="string"||("toJS"in s&&(s=s.toJS()),!s.layers))return s;const a={};for(const r of s.layers)a[r.id]=r;const l=s.layers.map(r=>{const c=a[r.ref];let f=null;if("interactive"in r&&(f={...r},delete f.interactive),c){f=f||{...r},delete f.ref;for(const h of vS)h in c&&(f[h]=c[h])}return f||r});return{...s,layers:l}}function SS(s,a){const l=Array.isArray(s)?s[0]:s?s.x:0,r=Array.isArray(s)?s[1]:s?s.y:0,c=Array.isArray(a)?a[0]:a?a.x:0,f=Array.isArray(a)?a[1]:a?a.y:0;return l===c&&r===f}function ha(s,a){if(s===a)return!0;if(!s||!a)return!1;if(Array.isArray(s)){if(!Array.isArray(a)||s.length!==a.length)return!1;for(let l=0;l<s.length;l++)if(!ha(s[l],a[l]))return!1;return!0}else if(Array.isArray(a))return!1;if(typeof s=="object"&&typeof a=="object"){const l=Object.keys(s),r=Object.keys(a);if(l.length!==r.length)return!1;for(const c of l)if(!a.hasOwnProperty(c)||!ha(s[c],a[c]))return!1;return!0}return!1}var Em={};const wm={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},ou={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},xm={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},bS=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],ES=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class Bs{constructor(a,l,r){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=c=>{const f=this.props[xm[c.type]];f&&f(c)},this._onPointerEvent=c=>{(c.type==="mousemove"||c.type==="mouseout")&&this._updateHover(c);const f=this.props[wm[c.type]];f&&(this.props.interactiveLayerIds&&c.type!=="mouseover"&&c.type!=="mouseout"&&(c.features=this._hoveredFeatures||this._queryRenderedFeatures(c.point)),f(c),delete c.features)},this._onCameraEvent=c=>{if(!this._internalUpdate){const f=this.props[ou[c.type]];f&&f(c)}c.type in this._deferredEvents&&(this._deferredEvents[c.type]=!1)},this._MapClass=a,this.props=l,this._initialize(r)}get map(){return this._map}get transform(){return this._renderTransform}setProps(a){const l=this.props;this.props=a;const r=this._updateSettings(a,l);r&&this._createShadowTransform(this._map);const c=this._updateSize(a),f=this._updateViewState(a,!0);this._updateStyle(a,l),this._updateStyleComponents(a,l),this._updateHandlers(a,l),(r||c||f&&!this._map.isMoving())&&this.redraw()}static reuse(a,l){const r=Bs.savedMaps.pop();if(!r)return null;const c=r.map,f=c.getContainer();for(l.className=f.className;f.childNodes.length>0;)l.appendChild(f.childNodes[0]);c._container=l;const h=c._resizeObserver;h&&(h.disconnect(),h.observe(l)),r.setProps({...a,styleDiffing:!1}),c.resize();const{initialViewState:y}=a;return y&&(y.bounds?c.fitBounds(y.bounds,{...y.fitBoundsOptions,duration:0}):r._updateViewState(y,!1)),c.isStyleLoaded()?c.fire("load"):c.once("styledata",()=>c.fire("load")),c._update(),r}_initialize(a){const{props:l}=this,r={...l,...l.initialViewState,accessToken:l.mapboxAccessToken||wS()||null,container:a,style:bm(l.mapStyle)},c=r.initialViewState||r.viewState||r;if(Object.assign(r,{center:[c.longitude||0,c.latitude||0],zoom:c.zoom||0,pitch:c.pitch||0,bearing:c.bearing||0}),l.gl){const p=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=p,l.gl)}const f=new this._MapClass(r);c.padding&&f.setPadding(c.padding),l.cursor&&(f.getCanvas().style.cursor=l.cursor),this._createShadowTransform(f);const h=f._render;f._render=p=>{this._inRender=!0,h.call(f,p),this._inRender=!1};const y=f._renderTaskQueue.run;f._renderTaskQueue.run=p=>{y.call(f._renderTaskQueue,p),this._onBeforeRepaint()},f.on("render",()=>this._onAfterRepaint());const d=f.fire;f.fire=this._fireEvent.bind(this,d),f.on("resize",()=>{this._renderTransform.resize(f.transform.width,f.transform.height)}),f.on("styledata",()=>this._updateStyleComponents(this.props,{})),f.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const p in wm)f.on(p,this._onPointerEvent);for(const p in ou)f.on(p,this._onCameraEvent);for(const p in xm)f.on(p,this._onEvent);this._map=f}recycle(){const l=this.map.getContainer().querySelector("[mapboxgl-children]");l==null||l.remove(),Bs.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const a=this._map;!this._inRender&&a.style&&(a._frame&&(a._frame.cancel(),a._frame=null),a._render())}_createShadowTransform(a){const l=yS(a.transform);a.painter.transform=l,this._renderTransform=l}_updateSize(a){const{viewState:l}=a;if(l){const r=this._map;if(l.width!==r.transform.width||l.height!==r.transform.height)return r.resize(),!0}return!1}_updateViewState(a,l){if(this._internalUpdate)return!1;const r=this._map,c=this._renderTransform,{zoom:f,pitch:h,bearing:y}=c,d=r.isMoving();d&&(c.cameraElevationReference="sea");const p=Sm(c,{...vm(r.transform),...a});if(d&&(c.cameraElevationReference="ground"),p&&l){const w=this._deferredEvents;w.move=!0,w.zoom||(w.zoom=f!==c.zoom),w.rotate||(w.rotate=y!==c.bearing),w.pitch||(w.pitch=h!==c.pitch)}return d||Sm(r.transform,a),p}_updateSettings(a,l){const r=this._map;let c=!1;for(const f of bS)f in a&&!ha(a[f],l[f])&&(c=!0,r[`set${f[0].toUpperCase()}${f.slice(1)}`](a[f]));return c}_updateStyle(a,l){if(a.cursor!==l.cursor&&(this._map.getCanvas().style.cursor=a.cursor),a.mapStyle!==l.mapStyle){const r={diff:a.styleDiffing};return"localIdeographFontFamily"in a&&(r.localIdeographFontFamily=a.localIdeographFontFamily),this._map.setStyle(bm(a.mapStyle),r),!0}return!1}_updateStyleComponents(a,l){const r=this._map;let c=!1;return r.style.loaded()&&("light"in a&&!ha(a.light,l.light)&&(c=!0,r.setLight(a.light)),"fog"in a&&!ha(a.fog,l.fog)&&(c=!0,r.setFog(a.fog)),"terrain"in a&&!ha(a.terrain,l.terrain)&&(!a.terrain||r.getSource(a.terrain.source))&&(c=!0,r.setTerrain(a.terrain))),c}_updateHandlers(a,l){const r=this._map;let c=!1;for(const f of ES){const h=a[f];ha(h,l[f])||(c=!0,h?r[f].enable(h):r[f].disable())}return c}_queryRenderedFeatures(a){const l=this._map,{interactiveLayerIds:r=[]}=this.props;try{return l.queryRenderedFeatures(a,{layers:r.filter(l.getLayer.bind(l))})}catch{return[]}}_updateHover(a){var l;const{props:r}=this;if(r.interactiveLayerIds&&(r.onMouseMove||r.onMouseEnter||r.onMouseLeave)){const f=a.type,h=((l=this._hoveredFeatures)===null||l===void 0?void 0:l.length)>0,y=this._queryRenderedFeatures(a.point),d=y.length>0;!d&&h&&(a.type="mouseleave",this._onPointerEvent(a)),this._hoveredFeatures=y,d&&!h&&(a.type="mouseenter",this._onPointerEvent(a)),a.type=f}else this._hoveredFeatures=null}_fireEvent(a,l,r){const c=this._map,f=c.transform,h=typeof l=="string"?l:l.type;return h==="move"&&this._updateViewState(this.props,!1),h in ou&&(typeof l=="object"&&(l.viewState=vm(f)),this._map.isMoving())?(c.transform=this._renderTransform,a.call(c,l,r),c.transform=f,c):(a.call(c,l,r),c)}_onBeforeRepaint(){const a=this._map;this._internalUpdate=!0;for(const r in this._deferredEvents)this._deferredEvents[r]&&a.fire(r);this._internalUpdate=!1;const l=this._map.transform;this._map.transform=this._renderTransform,this._onAfterRepaint=()=>{this._map.transform=l}}}Bs.savedMaps=[];function wS(){let s=null;if(typeof location<"u"){const a=/access_token=([^&\/]*)/.exec(location.search);s=a&&a[1]}try{s=s||Em.MapboxAccessToken}catch{}try{s=s||Em.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return s}const xS=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function CS(s,a){if(!s)return null;const l=s.map,r={getMap:()=>l,getCenter:()=>s.transform.center,getZoom:()=>s.transform.zoom,getBearing:()=>s.transform.bearing,getPitch:()=>s.transform.pitch,getPadding:()=>s.transform.padding,getBounds:()=>s.transform.getBounds(),project:c=>s.transform.locationPoint(a.LngLat.convert(c)),unproject:c=>s.transform.pointLocation(a.Point.convert(c)),queryTerrainElevation:(c,f)=>{const h=l.transform;l.transform=s.transform;const y=l.queryTerrainElevation(c,f);return l.transform=h,y}};for(const c of MS(l))!(c in r)&&!xS.includes(c)&&(r[c]=l[c].bind(l));return r}function MS(s){const a=new Set;let l=s;for(;l;){for(const r of Object.getOwnPropertyNames(l))r[0]!=="_"&&typeof s[r]=="function"&&r!=="fire"&&r!=="setEventedParent"&&a.add(r);l=Object.getPrototypeOf(l)}return Array.from(a)}const TS=typeof document<"u"?b.useLayoutEffect:b.useEffect,NS=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function AS(s,a){for(const l of NS)l in a&&(s[l]=a[l]);a.RTLTextPlugin&&s.getRTLTextPluginStatus&&s.getRTLTextPluginStatus()==="unavailable"&&s.setRTLTextPlugin(a.RTLTextPlugin,l=>{l&&console.error(l)},!1)}const Lr=b.createContext(null),_S={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:s=>console.error(s.error),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"},Hu=b.forwardRef((s,a)=>{const l=b.useContext(pS),[r,c]=b.useState(null),f=b.useRef(),{current:h}=b.useRef({mapLib:null,map:null});b.useEffect(()=>{const p=s.mapLib;let w=!0,E;return Promise.resolve(p||Og(()=>import("./mapbox-gl-BQ-WD9LP.js").then(M=>M.m),[])).then(M=>{if(w){if(M.Map||(M=M.default),!M||!M.Map)throw new Error("Invalid mapLib");if(AS(M,s),!M.supported||M.supported(s))s.reuseMaps&&(E=Bs.reuse(s,f.current)),E||(E=new Bs(M.Map,s,f.current)),h.map=CS(E,M),h.mapLib=M,c(E),l==null||l.onMapMount(h.map,s.id);else throw new Error("Map is not supported by this browser")}}).catch(M=>{s.onError({type:"error",target:null,originalEvent:null,error:M})}),()=>{w=!1,E&&(l==null||l.onMapUnmount(s.id),s.reuseMaps?E.recycle():E.destroy())}},[]),TS(()=>{r&&r.setProps(s)}),b.useImperativeHandle(a,()=>h.map,[r]);const y=b.useMemo(()=>({position:"relative",width:"100%",height:"100%",...s.style}),[s.style]),d={height:"100%"};return b.createElement("div",{id:s.id,ref:f,style:y},r&&b.createElement(Lr.Provider,{value:h},b.createElement("div",{"mapboxgl-children":"",style:d},s.children)))});Hu.displayName="Map";Hu.defaultProps=_S;const RS=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function Wa(s,a){if(!s||!a)return;const l=s.style;for(const r in a){const c=a[r];Number.isFinite(c)&&!RS.test(r)?l[r]=`${c}px`:l[r]=c}}const OS={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"};function kg(s){const{map:a,mapLib:l}=b.useContext(Lr),r=b.useRef({props:s});r.current.props=s;const c=b.useMemo(()=>{let f=!1;b.Children.forEach(s.children,d=>{d&&(f=!0)});const h={...s,element:f?document.createElement("div"):null},y=new l.Marker(h).setLngLat([s.longitude,s.latitude]);return y.getElement().addEventListener("click",d=>{var p,w;(w=(p=r.current.props).onClick)===null||w===void 0||w.call(p,{type:"click",target:y,originalEvent:d})}),y.on("dragstart",d=>{var p,w;const E=d;E.lngLat=c.getLngLat(),(w=(p=r.current.props).onDragStart)===null||w===void 0||w.call(p,E)}),y.on("drag",d=>{var p,w;const E=d;E.lngLat=c.getLngLat(),(w=(p=r.current.props).onDrag)===null||w===void 0||w.call(p,E)}),y.on("dragend",d=>{var p,w;const E=d;E.lngLat=c.getLngLat(),(w=(p=r.current.props).onDragEnd)===null||w===void 0||w.call(p,E)}),y},[]);return b.useEffect(()=>(c.addTo(a.getMap()),()=>{c.remove()}),[]),b.useEffect(()=>{Wa(c.getElement(),s.style)},[s.style]),(c.getLngLat().lng!==s.longitude||c.getLngLat().lat!==s.latitude)&&c.setLngLat([s.longitude,s.latitude]),s.offset&&!SS(c.getOffset(),s.offset)&&c.setOffset(s.offset),c.isDraggable()!==s.draggable&&c.setDraggable(s.draggable),c.getRotation()!==s.rotation&&c.setRotation(s.rotation),c.getRotationAlignment()!==s.rotationAlignment&&c.setRotationAlignment(s.rotationAlignment),c.getPitchAlignment()!==s.pitchAlignment&&c.setPitchAlignment(s.pitchAlignment),c.getPopup()!==s.popup&&c.setPopup(s.popup),Am.createPortal(s.children,c.getElement())}kg.defaultProps=OS;const kS=b.memo(kg);function Cm(s){return new Set(s?s.trim().split(/\s+/):[])}function jS(s){const{map:a,mapLib:l}=b.useContext(Lr),r=b.useMemo(()=>document.createElement("div"),[]),c=b.useRef({props:s});c.current.props=s;const f=b.useMemo(()=>{const h={...s},y=new l.Popup(h).setLngLat([s.longitude,s.latitude]);return y.once("open",d=>{var p,w;(w=(p=c.current.props).onOpen)===null||w===void 0||w.call(p,d)}),y},[]);if(b.useEffect(()=>{const h=y=>{var d,p;(p=(d=c.current.props).onClose)===null||p===void 0||p.call(d,y)};return f.on("close",h),f.setDOMContent(r).addTo(a.getMap()),()=>{f.off("close",h),f.isOpen()&&f.remove()}},[]),b.useEffect(()=>{Wa(f.getElement(),s.style)},[s.style]),f.isOpen()&&((f.getLngLat().lng!==s.longitude||f.getLngLat().lat!==s.latitude)&&f.setLngLat([s.longitude,s.latitude]),s.offset&&!ha(f.options.offset,s.offset)&&f.setOffset(s.offset),(f.options.anchor!==s.anchor||f.options.maxWidth!==s.maxWidth)&&(f.options.anchor=s.anchor,f.setMaxWidth(s.maxWidth)),f.options.className!==s.className)){const h=Cm(f.options.className),y=Cm(s.className);for(const d of h)y.has(d)||f.removeClassName(d);for(const d of y)h.has(d)||f.addClassName(d);f.options.className=s.className}return Am.createPortal(s.children,r)}const US=b.memo(jS);function Ki(s,a,l,r){const c=b.useContext(Lr),f=b.useMemo(()=>s(c),[]);return b.useEffect(()=>{const h=a,y=null,d=typeof a=="function"?a:null,{map:p}=c;return p.hasControl(f)||(p.addControl(f,h==null?void 0:h.position),y&&y(c)),()=>{d&&d(c),p.hasControl(f)&&p.removeControl(f)}},[]),f}function DS(s){const a=Ki(({mapLib:l})=>new l.AttributionControl(s),{position:s.position});return b.useEffect(()=>{Wa(a._container,s.style)},[s.style]),null}b.memo(DS);function zS(s){const a=Ki(({mapLib:l})=>new l.FullscreenControl({container:s.containerId&&document.getElementById(s.containerId)}),{position:s.position});return b.useEffect(()=>{Wa(a._controlContainer,s.style)},[s.style]),null}b.memo(zS);const jg=b.forwardRef((s,a)=>{const l=b.useRef({props:s}),r=Ki(({mapLib:c})=>{const f=new c.GeolocateControl(s),h=f._setupUI;return f._setupUI=y=>{f._container.hasChildNodes()||h(y)},f.on("geolocate",y=>{var d,p;(p=(d=l.current.props).onGeolocate)===null||p===void 0||p.call(d,y)}),f.on("error",y=>{var d,p;(p=(d=l.current.props).onError)===null||p===void 0||p.call(d,y)}),f.on("outofmaxbounds",y=>{var d,p;(p=(d=l.current.props).onOutOfMaxBounds)===null||p===void 0||p.call(d,y)}),f.on("trackuserlocationstart",y=>{var d,p;(p=(d=l.current.props).onTrackUserLocationStart)===null||p===void 0||p.call(d,y)}),f.on("trackuserlocationend",y=>{var d,p;(p=(d=l.current.props).onTrackUserLocationEnd)===null||p===void 0||p.call(d,y)}),f},{position:s.position});return l.current.props=s,b.useImperativeHandle(a,()=>({trigger:()=>r.trigger()}),[]),b.useEffect(()=>{Wa(r._container,s.style)},[s.style]),null});jg.displayName="GeolocateControl";b.memo(jg);function LS(s){const a=Ki(({mapLib:l})=>new l.NavigationControl(s),{position:s.position});return b.useEffect(()=>{Wa(a._container,s.style)},[s.style]),null}b.memo(LS);const BS={unit:"metric",maxWidth:100};function Ug(s){const a=Ki(({mapLib:l})=>new l.ScaleControl(s),{position:s.position});return(a.options.unit!==s.unit||a.options.maxWidth!==s.maxWidth)&&(a.options.maxWidth=s.maxWidth,a.setUnit(s.unit)),b.useEffect(()=>{Wa(a._container,s.style)},[s.style]),null}Ug.defaultProps=BS;b.memo(Ug);const Ka=({username:s,size:a,className:l,onClick:r,style:c})=>{const f=w=>{if(!w)return"?";const E=w.split(/[\s_.-]+/);return E.length===1?w.substring(0,2).toUpperCase():(E[0][0]+E[Math.min(E.length-1,1)][0]).toUpperCase()},h=w=>{if(!w)return"#6c757d";const E=w.split("").reduce((R,x)=>x.charCodeAt(0)+((R<<5)-R),0),M=["#2563EB","#059669","#DC2626","#D97706","#7C3AED","#DB2777","#4338CA","#059669","#0891B2","#EA580C"];return M[Math.abs(E)%M.length]},y=f(s),p={backgroundColor:h(s),width:a,height:a,fontSize:`${Math.max(parseInt(a)/2.5,12)}px`,...c};return m.jsx("div",{className:`avatar-placeholder ${l||""}`,style:p,title:s,onClick:r,children:y})};Ka.propTypes={username:P.string.isRequired,size:P.string,className:P.string,onClick:P.func,style:P.object};Ka.defaultProps={size:"40px",className:"",style:{}};function vr(s){return He({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.89,17.6c0-0.99,0.31-1.88,0.93-2.65s1.41-1.27,2.38-1.49c0.26-1.17,0.85-2.14,1.78-2.88c0.93-0.75,2-1.12,3.22-1.12
	c1.18,0,2.24,0.36,3.16,1.09c0.93,0.73,1.53,1.66,1.8,2.8h0.27c1.18,0,2.18,0.41,3.01,1.24s1.25,1.83,1.25,3
	c0,1.18-0.42,2.18-1.25,3.01s-1.83,1.25-3.01,1.25H8.16c-0.58,0-1.13-0.11-1.65-0.34S5.52,21,5.14,20.62
	c-0.38-0.38-0.68-0.84-0.91-1.36S3.89,18.17,3.89,17.6z M5.34,17.6c0,0.76,0.28,1.42,0.82,1.96s1.21,0.82,1.99,0.82h9.28
	c0.77,0,1.44-0.27,1.99-0.82c0.55-0.55,0.83-1.2,0.83-1.96c0-0.76-0.27-1.42-0.83-1.96c-0.55-0.54-1.21-0.82-1.99-0.82h-1.39
	c-0.1,0-0.15-0.05-0.15-0.15l-0.07-0.49c-0.1-0.94-0.5-1.73-1.19-2.35s-1.51-0.93-2.45-0.93c-0.94,0-1.76,0.31-2.46,0.94
	c-0.7,0.62-1.09,1.41-1.18,2.34l-0.07,0.42c0,0.1-0.05,0.15-0.16,0.15l-0.45,0.07c-0.72,0.06-1.32,0.36-1.81,0.89
	C5.59,16.24,5.34,16.87,5.34,17.6z M14.19,8.88c-0.1,0.09-0.08,0.16,0.07,0.21c0.43,0.19,0.79,0.37,1.08,0.55
	c0.11,0.03,0.19,0.02,0.22-0.03c0.61-0.57,1.31-0.86,2.12-0.86c0.81,0,1.5,0.27,2.1,0.81c0.59,0.54,0.92,1.21,0.99,2l0.09,0.64h1.42
	c0.65,0,1.21,0.23,1.68,0.7c0.47,0.47,0.7,1.02,0.7,1.66c0,0.6-0.21,1.12-0.62,1.57s-0.92,0.7-1.53,0.77c-0.1,0-0.15,0.05-0.15,0.16
	v1.13c0,0.11,0.05,0.16,0.15,0.16c1.01-0.06,1.86-0.46,2.55-1.19s1.04-1.6,1.04-2.6c0-1.06-0.37-1.96-1.12-2.7
	c-0.75-0.75-1.65-1.12-2.7-1.12h-0.15c-0.26-1-0.81-1.82-1.65-2.47c-0.83-0.65-1.77-0.97-2.8-0.97C16.28,7.29,15.11,7.82,14.19,8.88
	z`},child:[]}]})(s)}function Dg(s){return He({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.37,14.62c0-0.24,0.08-0.45,0.25-0.62c0.17-0.16,0.38-0.24,0.6-0.24h2.04c0.23,0,0.42,0.08,0.58,0.25
	c0.15,0.17,0.23,0.37,0.23,0.61S8,15.06,7.85,15.23c-0.15,0.17-0.35,0.25-0.58,0.25H5.23c-0.23,0-0.43-0.08-0.6-0.25
	C4.46,15.06,4.37,14.86,4.37,14.62z M7.23,21.55c0-0.23,0.08-0.43,0.23-0.61l1.47-1.43c0.15-0.16,0.35-0.23,0.59-0.23
	c0.24,0,0.44,0.08,0.6,0.23s0.24,0.34,0.24,0.57c0,0.24-0.08,0.46-0.24,0.64L8.7,22.14c-0.41,0.32-0.82,0.32-1.23,0
	C7.31,21.98,7.23,21.78,7.23,21.55z M7.23,7.71c0-0.23,0.08-0.43,0.23-0.61C7.66,6.93,7.87,6.85,8.1,6.85
	c0.22,0,0.42,0.08,0.59,0.24l1.43,1.47c0.16,0.15,0.24,0.35,0.24,0.59c0,0.24-0.08,0.44-0.24,0.6s-0.36,0.24-0.6,0.24
	c-0.24,0-0.44-0.08-0.59-0.24L7.47,8.32C7.31,8.16,7.23,7.95,7.23,7.71z M9.78,14.62c0-0.93,0.23-1.8,0.7-2.6s1.1-1.44,1.91-1.91
	s1.67-0.7,2.6-0.7c0.7,0,1.37,0.14,2.02,0.42c0.64,0.28,1.2,0.65,1.66,1.12c0.47,0.47,0.84,1.02,1.11,1.66
	c0.27,0.64,0.41,1.32,0.41,2.02c0,0.94-0.23,1.81-0.7,2.61c-0.47,0.8-1.1,1.43-1.9,1.9c-0.8,0.47-1.67,0.7-2.61,0.7
	s-1.81-0.23-2.61-0.7c-0.8-0.47-1.43-1.1-1.9-1.9C10.02,16.43,9.78,15.56,9.78,14.62z M11.48,14.62c0,0.98,0.34,1.81,1.03,2.5
	c0.68,0.69,1.51,1.04,2.49,1.04s1.81-0.35,2.5-1.04s1.04-1.52,1.04-2.5c0-0.96-0.35-1.78-1.04-2.47c-0.69-0.68-1.52-1.02-2.5-1.02
	c-0.97,0-1.8,0.34-2.48,1.02C11.82,12.84,11.48,13.66,11.48,14.62z M14.14,22.4c0-0.24,0.08-0.44,0.25-0.6s0.37-0.24,0.6-0.24
	c0.24,0,0.45,0.08,0.61,0.24s0.24,0.36,0.24,0.6v1.99c0,0.24-0.08,0.45-0.25,0.62c-0.17,0.17-0.37,0.25-0.6,0.25
	s-0.44-0.08-0.6-0.25c-0.17-0.17-0.25-0.38-0.25-0.62V22.4z M14.14,6.9V4.86c0-0.23,0.08-0.43,0.25-0.6C14.56,4.09,14.76,4,15,4
	s0.43,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6V6.9c0,0.23-0.08,0.42-0.25,0.58S15.23,7.71,15,7.71s-0.44-0.08-0.6-0.23
	S14.14,7.13,14.14,6.9z M19.66,20.08c0-0.23,0.08-0.42,0.23-0.56c0.15-0.16,0.34-0.23,0.56-0.23c0.24,0,0.44,0.08,0.6,0.23
	l1.46,1.43c0.16,0.17,0.24,0.38,0.24,0.61c0,0.23-0.08,0.43-0.24,0.59c-0.4,0.31-0.8,0.31-1.2,0l-1.42-1.42
	C19.74,20.55,19.66,20.34,19.66,20.08z M19.66,9.16c0-0.25,0.08-0.45,0.23-0.59l1.42-1.47c0.17-0.16,0.37-0.24,0.59-0.24
	c0.24,0,0.44,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6c0,0.25-0.08,0.46-0.24,0.62l-1.46,1.43c-0.18,0.16-0.38,0.24-0.6,0.24
	c-0.23,0-0.41-0.08-0.56-0.24S19.66,9.4,19.66,9.16z M21.92,14.62c0-0.24,0.08-0.44,0.24-0.62c0.16-0.16,0.35-0.24,0.57-0.24h2.02
	c0.23,0,0.43,0.09,0.6,0.26c0.17,0.17,0.26,0.37,0.26,0.6s-0.09,0.43-0.26,0.6c-0.17,0.17-0.37,0.25-0.6,0.25h-2.02
	c-0.23,0-0.43-0.08-0.58-0.25S21.92,14.86,21.92,14.62z`},child:[]}]})(s)}function zg(s){return He({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M2.62,21.05c0-0.24,0.08-0.45,0.25-0.61c0.17-0.16,0.38-0.24,0.63-0.24h18.67c0.25,0,0.45,0.08,0.61,0.24
	c0.16,0.16,0.24,0.36,0.24,0.61c0,0.23-0.08,0.43-0.25,0.58c-0.17,0.16-0.37,0.23-0.6,0.23H3.5c-0.25,0-0.46-0.08-0.63-0.23
	C2.7,21.47,2.62,21.28,2.62,21.05z M5.24,17.91c0-0.24,0.09-0.44,0.26-0.6c0.15-0.15,0.35-0.23,0.59-0.23h18.67
	c0.23,0,0.42,0.08,0.58,0.24c0.16,0.16,0.23,0.35,0.23,0.59c0,0.24-0.08,0.44-0.23,0.6c-0.16,0.17-0.35,0.25-0.58,0.25H6.09
	c-0.24,0-0.44-0.08-0.6-0.25C5.32,18.34,5.24,18.14,5.24,17.91z M5.37,15.52c0,0.09,0.05,0.13,0.15,0.13h1.43
	c0.06,0,0.13-0.05,0.2-0.16c0.24-0.52,0.59-0.94,1.06-1.27c0.47-0.33,0.99-0.52,1.55-0.56l0.55-0.07c0.11,0,0.17-0.06,0.17-0.18
	l0.07-0.5c0.11-1.08,0.56-1.98,1.37-2.7c0.81-0.72,1.76-1.08,2.85-1.08c1.08,0,2.02,0.36,2.83,1.07c0.8,0.71,1.26,1.61,1.37,2.68
	l0.08,0.57c0,0.11,0.07,0.17,0.2,0.17h1.59c0.64,0,1.23,0.17,1.76,0.52s0.92,0.8,1.18,1.37c0.07,0.11,0.14,0.16,0.21,0.16h1.43
	c0.12,0,0.17-0.07,0.14-0.23c-0.29-1.02-0.88-1.86-1.74-2.51c-0.87-0.65-1.86-0.97-2.97-0.97h-0.32c-0.33-1.33-1.03-2.42-2.1-3.27
	s-2.28-1.27-3.65-1.27c-1.4,0-2.64,0.44-3.73,1.32s-1.78,2-2.09,3.36c-0.85,0.2-1.6,0.6-2.24,1.21c-0.64,0.61-1.09,1.33-1.34,2.18
	v-0.04C5.37,15.45,5.37,15.48,5.37,15.52z M6.98,24.11c0-0.24,0.09-0.43,0.26-0.59c0.15-0.15,0.35-0.23,0.6-0.23h18.68
	c0.24,0,0.44,0.08,0.6,0.23c0.17,0.16,0.25,0.35,0.25,0.58c0,0.24-0.08,0.44-0.25,0.61c-0.17,0.17-0.37,0.25-0.6,0.25H7.84
	c-0.23,0-0.43-0.09-0.6-0.26C7.07,24.55,6.98,24.34,6.98,24.11z`},child:[]}]})(s)}function Lg(s){return He({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.64,16.91c0-1.15,0.36-2.17,1.08-3.07c0.72-0.9,1.63-1.47,2.73-1.73c0.31-1.36,1.02-2.48,2.11-3.36s2.34-1.31,3.75-1.31
	c1.38,0,2.6,0.43,3.68,1.28c1.08,0.85,1.78,1.95,2.1,3.29h0.32c0.89,0,1.72,0.22,2.48,0.65s1.37,1.03,1.81,1.78
	c0.44,0.75,0.67,1.58,0.67,2.47c0,0.88-0.21,1.69-0.63,2.44c-0.42,0.75-1,1.35-1.73,1.8c-0.73,0.45-1.53,0.69-2.4,0.71
	c-0.13,0-0.2-0.06-0.2-0.17v-1.33c0-0.12,0.07-0.18,0.2-0.18c0.85-0.04,1.58-0.38,2.18-1.02s0.9-1.39,0.9-2.26s-0.33-1.62-0.98-2.26
	s-1.42-0.96-2.31-0.96h-1.61c-0.12,0-0.18-0.06-0.18-0.17l-0.08-0.58c-0.11-1.08-0.58-1.99-1.39-2.71
	c-0.82-0.73-1.76-1.09-2.85-1.09c-1.09,0-2.05,0.36-2.85,1.09c-0.81,0.73-1.26,1.63-1.36,2.71l-0.07,0.53c0,0.12-0.07,0.19-0.2,0.19
	l-0.53,0.03c-0.83,0.1-1.53,0.46-2.1,1.07s-0.85,1.33-0.85,2.16c0,0.87,0.3,1.62,0.9,2.26s1.33,0.98,2.18,1.02
	c0.11,0,0.17,0.06,0.17,0.18v1.33c0,0.11-0.06,0.17-0.17,0.17c-1.34-0.06-2.47-0.57-3.4-1.53S4.64,18.24,4.64,16.91z M9.99,23.6
	c0-0.04,0.01-0.11,0.04-0.2l1.63-5.77c0.06-0.19,0.17-0.34,0.32-0.44c0.15-0.1,0.31-0.15,0.46-0.15c0.07,0,0.15,0.01,0.24,0.03
	c0.24,0.04,0.42,0.17,0.54,0.37c0.12,0.2,0.15,0.42,0.08,0.67l-1.63,5.73c-0.12,0.43-0.4,0.64-0.82,0.64
	c-0.04,0-0.07-0.01-0.11-0.02c-0.06-0.02-0.09-0.03-0.1-0.03c-0.22-0.06-0.38-0.17-0.49-0.33C10.04,23.93,9.99,23.77,9.99,23.6z
	 M12.61,26.41l2.44-8.77c0.04-0.19,0.14-0.34,0.3-0.44c0.16-0.1,0.32-0.15,0.49-0.15c0.09,0,0.18,0.01,0.27,0.03
	c0.22,0.06,0.38,0.19,0.49,0.39c0.11,0.2,0.13,0.41,0.07,0.64l-2.43,8.78c-0.04,0.17-0.13,0.31-0.29,0.43
	c-0.16,0.12-0.32,0.18-0.51,0.18c-0.09,0-0.18-0.02-0.25-0.05c-0.2-0.05-0.37-0.18-0.52-0.39C12.56,26.88,12.54,26.67,12.61,26.41z
	 M16.74,23.62c0-0.04,0.01-0.11,0.04-0.23l1.63-5.77c0.06-0.19,0.16-0.34,0.3-0.44c0.15-0.1,0.3-0.15,0.46-0.15
	c0.08,0,0.17,0.01,0.26,0.03c0.21,0.06,0.36,0.16,0.46,0.31c0.1,0.15,0.15,0.31,0.15,0.47c0,0.03-0.01,0.08-0.02,0.14
	s-0.02,0.1-0.02,0.12l-1.63,5.73c-0.04,0.19-0.13,0.35-0.28,0.46s-0.32,0.17-0.51,0.17l-0.24-0.05c-0.2-0.06-0.35-0.16-0.46-0.32
	C16.79,23.94,16.74,23.78,16.74,23.62z`},child:[]}]})(s)}function Bg(s){return He({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.64,16.95c0-1.16,0.35-2.18,1.06-3.08s1.62-1.48,2.74-1.76c0.31-1.36,1.01-2.48,2.1-3.36s2.34-1.31,3.75-1.31
	c1.38,0,2.6,0.43,3.68,1.28c1.08,0.85,1.78,1.95,2.1,3.29h0.32c0.89,0,1.72,0.22,2.48,0.66c0.76,0.44,1.37,1.04,1.81,1.8
	c0.44,0.76,0.67,1.59,0.67,2.48c0,1.32-0.46,2.47-1.39,3.42c-0.92,0.96-2.05,1.46-3.38,1.5c-0.13,0-0.2-0.06-0.2-0.17v-1.33
	c0-0.12,0.07-0.18,0.2-0.18c0.85-0.04,1.58-0.38,2.18-1.02s0.9-1.38,0.9-2.23c0-0.89-0.32-1.65-0.97-2.3s-1.42-0.97-2.32-0.97h-1.61
	c-0.12,0-0.18-0.06-0.18-0.17l-0.08-0.58c-0.11-1.08-0.58-1.99-1.39-2.72c-0.82-0.73-1.76-1.1-2.85-1.1c-1.1,0-2.05,0.37-2.86,1.11
	c-0.81,0.74-1.27,1.65-1.37,2.75l-0.06,0.5c0,0.12-0.07,0.19-0.2,0.19l-0.53,0.07c-0.83,0.07-1.53,0.41-2.1,1.04
	s-0.85,1.35-0.85,2.19c0,0.85,0.3,1.59,0.9,2.23s1.33,0.97,2.18,1.02c0.11,0,0.17,0.06,0.17,0.18v1.33c0,0.11-0.06,0.17-0.17,0.17
	c-1.34-0.04-2.47-0.54-3.4-1.5C5.1,19.42,4.64,18.27,4.64,16.95z M11,21.02c0-0.22,0.08-0.42,0.24-0.58
	c0.16-0.16,0.35-0.24,0.59-0.24c0.23,0,0.43,0.08,0.59,0.24c0.16,0.16,0.24,0.36,0.24,0.58c0,0.24-0.08,0.44-0.24,0.6
	c-0.16,0.17-0.35,0.25-0.59,0.25c-0.23,0-0.43-0.08-0.59-0.25C11.08,21.46,11,21.26,11,21.02z M11,24.65c0-0.24,0.08-0.44,0.24-0.6
	c0.16-0.15,0.35-0.23,0.58-0.23c0.23,0,0.43,0.08,0.59,0.23c0.16,0.16,0.24,0.35,0.24,0.59c0,0.24-0.08,0.43-0.24,0.59
	c-0.16,0.16-0.35,0.23-0.59,0.23c-0.23,0-0.43-0.08-0.59-0.23C11.08,25.08,11,24.88,11,24.65z M14.19,22.95
	c0-0.23,0.08-0.44,0.25-0.62c0.16-0.16,0.35-0.24,0.57-0.24c0.23,0,0.43,0.09,0.6,0.26c0.17,0.17,0.26,0.37,0.26,0.6
	c0,0.23-0.08,0.43-0.25,0.6c-0.17,0.17-0.37,0.25-0.61,0.25c-0.23,0-0.42-0.08-0.58-0.25S14.19,23.18,14.19,22.95z M14.19,19.33
	c0-0.23,0.08-0.43,0.25-0.6c0.18-0.16,0.37-0.24,0.57-0.24c0.24,0,0.44,0.08,0.61,0.25c0.17,0.17,0.25,0.36,0.25,0.6
	c0,0.23-0.08,0.43-0.25,0.59c-0.17,0.16-0.37,0.24-0.61,0.24c-0.23,0-0.42-0.08-0.58-0.24C14.27,19.76,14.19,19.56,14.19,19.33z
	 M14.19,26.61c0-0.23,0.08-0.43,0.25-0.61c0.16-0.16,0.35-0.24,0.57-0.24c0.24,0,0.44,0.08,0.61,0.25c0.17,0.17,0.25,0.37,0.25,0.6
	s-0.08,0.43-0.25,0.59c-0.17,0.16-0.37,0.24-0.61,0.24c-0.23,0-0.42-0.08-0.58-0.24C14.27,27.03,14.19,26.84,14.19,26.61z
	 M17.41,21.02c0-0.22,0.08-0.41,0.25-0.58c0.17-0.17,0.37-0.25,0.6-0.25c0.23,0,0.43,0.08,0.59,0.24c0.16,0.16,0.24,0.36,0.24,0.58
	c0,0.24-0.08,0.44-0.24,0.6c-0.16,0.17-0.35,0.25-0.59,0.25c-0.24,0-0.44-0.08-0.6-0.25C17.5,21.45,17.41,21.25,17.41,21.02z
	 M17.41,24.65c0-0.22,0.08-0.42,0.25-0.6c0.16-0.15,0.36-0.23,0.6-0.23c0.24,0,0.43,0.08,0.59,0.23s0.23,0.35,0.23,0.59
	c0,0.24-0.08,0.43-0.23,0.59c-0.16,0.16-0.35,0.23-0.59,0.23c-0.24,0-0.44-0.08-0.6-0.24C17.5,25.07,17.41,24.88,17.41,24.65z`},child:[]}]})(s)}function qg(s){return He({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.63,16.91c0,1.11,0.33,2.1,0.99,2.97s1.52,1.47,2.58,1.79l-0.66,1.68c-0.03,0.14,0.02,0.22,0.14,0.22h2.13l-0.98,4.3h0.28
	l3.92-5.75c0.04-0.04,0.04-0.09,0.01-0.14c-0.03-0.05-0.08-0.07-0.15-0.07h-2.18l2.48-4.64c0.07-0.14,0.02-0.22-0.14-0.22h-2.94
	c-0.09,0-0.17,0.05-0.23,0.15l-1.07,2.87c-0.71-0.18-1.3-0.57-1.77-1.16c-0.47-0.59-0.7-1.26-0.7-2.01c0-0.83,0.28-1.55,0.85-2.17
	c0.57-0.61,1.27-0.97,2.1-1.07l0.53-0.07c0.13,0,0.2-0.06,0.2-0.18l0.07-0.51c0.11-1.08,0.56-1.99,1.37-2.72
	c0.81-0.73,1.76-1.1,2.85-1.1c1.09,0,2.04,0.37,2.85,1.1c0.82,0.73,1.28,1.64,1.4,2.72l0.07,0.58c0,0.11,0.06,0.17,0.18,0.17h1.6
	c0.91,0,1.68,0.32,2.32,0.95c0.64,0.63,0.97,1.4,0.97,2.28c0,0.85-0.3,1.59-0.89,2.21c-0.59,0.62-1.33,0.97-2.2,1.04
	c-0.13,0-0.2,0.06-0.2,0.18v1.37c0,0.11,0.07,0.17,0.2,0.17c1.33-0.04,2.46-0.55,3.39-1.51s1.39-2.11,1.39-3.45
	c0-0.9-0.22-1.73-0.67-2.49c-0.44-0.76-1.05-1.36-1.81-1.8c-0.77-0.44-1.6-0.66-2.5-0.66H20.1c-0.33-1.33-1.04-2.42-2.11-3.26
	s-2.3-1.27-3.68-1.27c-1.41,0-2.67,0.44-3.76,1.31s-1.79,1.99-2.1,3.36c-1.11,0.26-2.02,0.83-2.74,1.73S4.63,15.76,4.63,16.91z
	 M12.77,26.62c0,0.39,0.19,0.65,0.58,0.77c0.01,0,0.05,0,0.11,0.01c0.06,0.01,0.11,0.01,0.14,0.01c0.17,0,0.33-0.05,0.49-0.15
	c0.16-0.1,0.27-0.26,0.32-0.48l2.25-8.69c0.06-0.24,0.04-0.45-0.07-0.65c-0.11-0.19-0.27-0.32-0.5-0.39
	c-0.17-0.02-0.26-0.03-0.26-0.03c-0.16,0-0.32,0.05-0.47,0.15c-0.15,0.1-0.26,0.25-0.31,0.45l-2.26,8.72
	C12.78,26.44,12.77,26.53,12.77,26.62z M16.93,23.56c0,0.13,0.03,0.26,0.1,0.38c0.14,0.22,0.31,0.37,0.51,0.44
	c0.11,0.03,0.21,0.05,0.3,0.05s0.2-0.02,0.32-0.08c0.21-0.09,0.35-0.28,0.42-0.57l1.44-5.67c0.03-0.14,0.05-0.23,0.05-0.27
	c0-0.15-0.05-0.3-0.16-0.45s-0.26-0.26-0.46-0.32c-0.17-0.02-0.26-0.03-0.26-0.03c-0.17,0-0.33,0.05-0.47,0.15
	c-0.14,0.1-0.24,0.25-0.3,0.45l-1.46,5.7c0,0.02,0,0.05-0.01,0.11C16.93,23.5,16.93,23.53,16.93,23.56z`},child:[]}]})(s)}const Hg=({latitude:s,longitude:a,isDarkMode:l,onClose:r})=>{const[c,f]=b.useState(null),[h,y]=b.useState(!0),[d,p]=b.useState(null),w=M=>M>=200&&M<300?m.jsx(qg,{className:"forecast-icon"}):M>=300&&M<600?m.jsx(Lg,{className:"forecast-icon"}):M>=600&&M<700?m.jsx(Bg,{className:"forecast-icon"}):M>=700&&M<800?m.jsx(zg,{className:"forecast-icon"}):M===800?m.jsx(Dg,{className:"forecast-icon"}):M>800?m.jsx(vr,{className:"forecast-icon"}):m.jsx(vr,{className:"forecast-icon"}),E=M=>{const R=new Date(M*1e3);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(R)};return b.useEffect(()=>{(async()=>{try{y(!0);const R=await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${s}&lon=${a}&units=metric&appid=3dc24e0be8ccd4e978f75f0cdae80e0e`);if(!R.ok)throw new Error(`Failed to fetch forecast data: ${R.status} ${R.statusText}`);const x=await R.json();console.log(" Weather API: Received forecast data:",x),f(x),p(null)}catch(R){console.error(" Weather API Forecast Error:",R),p("Could not load forecast data")}finally{y(!1)}})()},[s,a]),m.jsx("div",{className:`forecast-modal-overlay ${l?"dark-mode":""}`,onClick:r,children:m.jsxs("div",{className:"forecast-modal-content",onClick:M=>M.stopPropagation(),children:[m.jsx("button",{className:"close-button",onClick:r,children:m.jsx(Ag,{})}),h&&m.jsxs("div",{className:"forecast-loading",children:[m.jsx(vr,{className:"spinning"}),m.jsx("span",{children:"Loading forecast..."})]}),d&&m.jsx("div",{className:"forecast-error",children:m.jsx("span",{children:d})}),c&&m.jsxs("div",{className:"forecast-container",children:[m.jsx("div",{className:"forecast-header",children:m.jsxs("h2",{children:[c.city.name,", ",c.city.country]})}),m.jsx("div",{className:"forecast-list",children:c.list.map((M,R)=>m.jsxs("div",{className:"forecast-item",children:[m.jsx("div",{className:"forecast-time",children:E(M.dt)}),m.jsxs("div",{className:"forecast-icon-temp",children:[w(M.weather[0].id),m.jsxs("span",{className:"forecast-temp",children:[Math.round(M.main.temp),"C"]})]}),m.jsx("div",{className:"forecast-desc",children:M.weather[0].description}),m.jsxs("div",{className:"forecast-details",children:[m.jsxs("span",{children:["Humidity: ",M.main.humidity,"%"]}),m.jsxs("span",{children:["Wind: ",Math.round(M.wind.speed)," m/s"]})]})]},R))})]})]})})};Hg.propTypes={latitude:P.number.isRequired,longitude:P.number.isRequired,isDarkMode:P.bool,onClose:P.func.isRequired};const Gu=({latitude:s,longitude:a,isDarkMode:l})=>{const[r,c]=b.useState(null),[f,h]=b.useState(!0),[y,d]=b.useState(null),[p,w]=b.useState(!1),[E,M]=b.useState(!1),R=b.useRef(null),x=j=>j>=200&&j<300?m.jsx(qg,{className:"weather-icon"}):j>=300&&j<600?m.jsx(Lg,{className:"weather-icon"}):j>=600&&j<700?m.jsx(Bg,{className:"weather-icon"}):j>=700&&j<800?m.jsx(zg,{className:"weather-icon"}):j===800?m.jsx(Dg,{className:"weather-icon"}):j>800?m.jsx(vr,{className:"weather-icon"}):m.jsx(pm,{className:"weather-icon"});b.useEffect(()=>{const j=async()=>{if(!(!s||!a)){console.log(" Weather API: Initiating weather data fetch for coordinates:",{latitude:s.toFixed(4),longitude:a.toFixed(4),timestamp:new Date().toISOString()});try{h(!0);const $=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${s}&lon=${a}&units=metric&appid=3dc24e0be8ccd4e978f75f0cdae80e0e`);if(!$.ok)throw new Error(`Failed to fetch weather data: ${$.status} ${$.statusText}`);const Y=await $.json();console.log(" Weather API: Successfully received weather data:",{location:Y.name,country:Y.sys.country,temperature:`${Math.round(Y.main.temp)}C`,conditions:Y.weather[0].description,timestamp:new Date().toISOString(),fullData:Y}),c(Y),d(null)}catch($){const Y="Could not load weather data";console.error(" Weather API Error:",{message:$.message,coordinates:{latitude:s.toFixed(4),longitude:a.toFixed(4)},timestamp:new Date().toISOString(),error:$}),d(Y)}finally{h(!1)}}};return R.current&&(clearTimeout(R.current),console.log(" Weather API: Cleared previous fetch timeout due to coordinate change")),console.log(" Weather API: Setting 1-minute delay for new coordinates",{latitude:s.toFixed(4),longitude:a.toFixed(4),delayTime:"1 minute"}),R.current=setTimeout(()=>{console.log(" Weather API: 1-minute delay completed, initiating fetch"),j();const $=setInterval(()=>{console.log(" Weather API: 5-minute refresh interval triggered"),j()},5*60*1e3);return()=>{clearInterval($),console.log(" Weather API: Cleared 5-minute refresh interval")}},60*1e3),()=>{R.current&&(clearTimeout(R.current),console.log(" Weather API: Cleanup - cleared fetch timeout"))}},[s,a]);const T=()=>{E?w(!0):M(!0)},_=()=>{p||M(!1)};return f?m.jsx("div",{className:`weather-widget icon-only ${l?"dark-mode":""}`,children:m.jsx("div",{className:"weather-loading",children:m.jsx(pm,{className:"weather-icon spinning"})})}):y||!r?m.jsx("div",{className:`weather-widget icon-only ${l?"dark-mode":""}`,children:m.jsx("div",{className:"weather-error",children:m.jsx(nS,{className:"weather-icon"})})}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`weather-widget ${E?"":"icon-only"} ${l?"dark-mode":""}`,onClick:T,onBlur:_,role:"button",tabIndex:0,onKeyPress:j=>{(j.key==="Enter"||j.key===" ")&&T()},children:m.jsxs("div",{className:"weather-content",children:[x(r.weather[0].id),E&&m.jsxs("div",{className:"weather-info",children:[m.jsxs("div",{className:"weather-temp",children:[Math.round(r.main.temp),"C"]}),m.jsx("div",{className:"weather-desc",children:r.weather[0].description}),m.jsxs("div",{className:"weather-details",children:[m.jsxs("span",{children:["Humidity: ",r.main.humidity,"%"]}),m.jsxs("span",{children:["Wind: ",Math.round(r.wind.speed)," m/s"]})]})]})]})}),p&&m.jsx(Hg,{latitude:s,longitude:a,isDarkMode:l,onClose:()=>{w(!1),M(!1)}})]})};Gu.propTypes={latitude:P.number,longitude:P.number,isDarkMode:P.bool};Gu.defaultProps={isDarkMode:!1};const Mu=s=>{const a=new Date,l=new Date(s),r=a-l,c=Math.floor(r/1e3);if(c<60)return"just now";if(c<3600){const h=Math.floor(c/60);return`${h} ${h===1?"minute":"minutes"} ago`}if(c<86400){const h=Math.floor(c/3600);return`${h} ${h===1?"hour":"hours"} ago`}if(c<604800){const h=Math.floor(c/86400);return`${h} ${h===1?"day":"days"} ago`}const f={year:"numeric",month:"short",day:"numeric"};return l.toLocaleDateString(void 0,f)},Tu=s=>{if(!s)return"";const a=/(https?:\/\/[^\s]+)|(www\.[^\s]+)|([a-zA-Z0-9][-a-zA-Z0-9]*\.[a-zA-Z0-9]+(\.[a-zA-Z0-9]+)*\b)/g;if(!a.test(s))return s;a.lastIndex=0;const l=[];let r=0,c;for(;(c=a.exec(s))!==null;){c.index>r&&l.push(s.substring(r,c.index));const f=c[0];let h;f.startsWith("http://")||f.startsWith("https://")?h=f:f.startsWith("www.")?h=`https://${f}`:h=`https://${f}`;const y=d=>(d.stopPropagation(),d.preventDefault(),window.open(h,"_blank","noopener,noreferrer"),!1);l.push(m.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"message-link",onClick:y,style:{pointerEvents:"all",cursor:"pointer"},children:f},c.index)),r=c.index+f.length}return r<s.length&&l.push(s.substring(r)),l},Yu=({messages:s,currentUsername:a,onlineUsers:l,userLocation:r,isDarkMode:c,isLoading:f})=>{console.log(` MapView: Received ${(s==null?void 0:s.length)||0} messages`),console.log(" MapView: Current userLocation:",r);const[h,y]=b.useState({longitude:-73.935242,latitude:40.73061,zoom:12,pitch:0,bearing:0}),[d,p]=b.useState(null),[w,E]=b.useState(!1),[M,R]=b.useState(0),[x,T]=b.useState(null),[_,j]=b.useState(!1),[$,Y]=b.useState(!1),[ie,ee]=b.useState(!1),le=b.useRef(),he=Gs(),pe=b.useRef(null),se=b.useRef(!1),me=b.useRef(0);b.useEffect(()=>{console.log(" MapView: Component mounted, dispatching custom event to fetch messages");const V=new CustomEvent("map:fetchMessages");window.dispatchEvent(V)},[]);const ze=(V,v)=>{v.stopPropagation(),he(`/profile/${V}`),p(null)},Ae=b.useCallback(()=>{_?(y(V=>({...V,pitch:0})),j(!1),Y(!1),ee(!1)):(Y(!1),j(!0),y(V=>({...V,pitch:45,zoom:Math.max(V.zoom,15)})),setTimeout(()=>{Y(!0),ee(!0),setTimeout(()=>{ee(!1)},5e3)},1e3))},[_]);b.useEffect(()=>{a&&!x&&bt.getUserByUsername(a).then(V=>{V.success&&V.data&&V.data.user&&V.data.user.likedMessages?T(V.data.user.likedMessages):V.success&&T([])}).catch(V=>{T([])})},[a,x]),b.useEffect(()=>{},[x,a]);const xe=b.useCallback(V=>{if(!V||!x)return!1;const v=V.toString();return x.some(O=>O.toString()===v)},[x]),Te=(V,v)=>{if(V.originalEvent.stopPropagation(),x&&v.dbId){const O=xe(v.dbId),K={...v,likedByCurrentUser:O};p(K),E(O),R(v.likesCount||0),x&&x.length>0}else v.hasOwnProperty("likedByCurrentUser")?(p(v),E(v.likedByCurrentUser),R(v.likesCount||0)):a&&v.dbId?bt.getUserByUsername(a).then(O=>{if(O.success&&O.data&&O.data.user&&O.data.user.likedMessages){const K=v.dbId.toString(),Q=O.data.user.likedMessages.some(U=>U.toString()===K);p({...v,likedByCurrentUser:Q}),E(Q),R(v.likesCount||0)}else p(v),E(!1),R(v.likesCount||0)}).catch(O=>{console.error("Error checking if message is liked:",O),p(v),E(!1),R(v.likesCount||0)}):(p(v),E(!1),R(v.likesCount||0))},_e=async V=>{if(V.stopPropagation(),!(!d||!d.dbId||!a))try{const v=await bt.likeMessage(d.dbId);if(v.success)if(E(v.liked),R(v.likesCount),p(O=>({...O,likesCount:v.likesCount,likedByCurrentUser:v.liked})),v.liked){const O=d.dbId.toString();T(K=>K?K.some(U=>U.toString()===O)?K:[...K,d.dbId]:[d.dbId])}else{const O=d.dbId.toString();T(K=>K?K.filter(Q=>Q.toString()!==O):[])}}catch(v){console.error("Error toggling like:",v)}};b.useEffect(()=>{if(!se.current){if(r&&r.latitude&&r.longitude){y({longitude:r.longitude,latitude:r.latitude,zoom:14}),se.current=!0;return}const V=s.filter(v=>v.location&&!v.location.error&&v.location.latitude&&v.location.longitude);if(V.length>0){const v=V[V.length-1];y({longitude:v.location.longitude,latitude:v.location.latitude,zoom:12}),se.current=!0}}},[r]),b.useEffect(()=>{const V=s.length;if(V!==me.current){if(console.log(`MapView: Message count changed from ${me.current} to ${V}`),d){const v=s.find(O=>O.dbId===d.dbId);v&&(p(v),E(v.likedByCurrentUser||!1),R(v.likesCount||0))}me.current=V}},[s,d]);const W=s.filter(V=>V.location&&!V.location.error&&V.location.latitude&&V.location.longitude);b.useEffect(()=>{W.length>0&&a&&W.forEach(V=>{const v=V.dbId||V._id;V.likedByCurrentUser||x&&x.some(O=>v&&O.toString()===v.toString()),V.content||V.text})},[W,x,a]);const ce=b.useCallback(async()=>{if(!(!a||!x||x.length===0))try{const V=await bt.getAllMessages(null,a);if(V&&V.messages&&Array.isArray(V.messages)){const O=V.messages.filter(K=>{const Q=K._id||K.dbId;return Q&&x.some(U=>U.toString()===Q.toString())}).sort((K,Q)=>new Date(Q.createdAt||Q.timestamp)-new Date(K.createdAt||K.timestamp));O.length===0||O.forEach((K,Q)=>{const U=K.text||K.content||"",H=new Date(K.createdAt||K.timestamp).toLocaleString()})}}catch(V){console.error("Error fetching detailed liked messages:",V)}},[a,x]);b.useEffect(()=>{x&&x.length>0&&ce()},[x,ce]),b.useEffect(()=>{d&&pe.current&&setTimeout(()=>{document.activeElement===pe.current&&pe.current.blur()},50)},[d]),b.useEffect(()=>{if(!le.current)return;const V=le.current.getMap();return V.isStyleLoaded()?re(V):V.once("style.load",()=>{re(V)}),()=>{V.getLayer("3d-buildings")&&V.removeLayer("3d-buildings")}},[_,c]);const re=V=>{V.getLayer("3d-buildings")&&V.removeLayer("3d-buildings"),_&&V.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:14,paint:{"fill-extrusion-color":c?"#242526":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":c?.8:.6}},"waterway-label")};return m.jsxs("div",{className:`map-container ${_?"is-3d-mode":""}`,children:[m.jsxs(Hu,{ref:le,...h,onMove:V=>y(V.viewState),mapStyle:c?"mapbox://styles/mapbox/dark-v11":"mapbox://styles/mapbox/light-v11",mapboxAccessToken:"pk.eyJ1IjoiZGFya25pZ2h0MDA3IiwiYSI6ImNqOXpiMWF3MjhuajEyeHFzcjhzdDVzN20ifQ.DlcipLyUIsK1pVHRtPK9Mw",terrain:_?{source:"mapbox-dem",exaggeration:1.5}:void 0,children:[f&&m.jsxs("div",{className:"map-loading-indicator",children:[m.jsx("div",{className:"spinner"}),m.jsx("p",{children:"Refreshing pins..."})]}),m.jsx(Gu,{latitude:h.latitude,longitude:h.longitude,isDarkMode:c}),W.map((V,v)=>m.jsx(kS,{longitude:V.location.longitude,latitude:V.location.latitude,anchor:"bottom",onClick:O=>Te(O,V),children:m.jsxs("div",{className:"map-marker",children:[m.jsx(Ka,{username:V.sender,size:"40px",className:"marker-avatar"}),l&&l[V.sender]&&m.jsx("span",{className:"online-indicator-map"})]})},v)),d&&m.jsx(US,{longitude:d.location.longitude,latitude:d.location.latitude,anchor:_?"bottom":"top",offsetTop:_?-40:0,onClose:()=>p(null),closeOnClick:!1,closeButton:!0,className:`map-popup ${c?"dark-mode":""}`,maxWidth:"300px",children:m.jsxs("div",{className:`message-card ${c?"dark-mode":""}`,onClick:V=>V.stopPropagation(),children:[m.jsxs("div",{className:"message-card-header",children:[m.jsx(Ka,{username:d.sender,size:"40px",className:"message-avatar",onClick:V=>ze(d.sender,V),style:{cursor:"pointer"}}),m.jsxs("div",{className:"message-sender-info",children:[m.jsxs("span",{className:"message-sender",onClick:V=>ze(d.sender,V),style:{cursor:"pointer"},children:[d.sender,l&&l[d.sender]&&m.jsx("span",{className:"online-indicator"})]}),m.jsx("span",{className:"message-timestamp",children:Mu(d.timestamp)})]})]}),d.image&&m.jsx("div",{className:"message-card-image",children:m.jsx("img",{src:d.image,alt:"Message attachment"})}),m.jsx("div",{className:"message-card-content",children:Tu(d.content)}),m.jsxs("div",{className:"message-card-footer",children:[m.jsxs("button",{ref:pe,className:`like-button ${w?"liked":""}`,onClick:_e,disabled:!a,title:a?"Like this message":"Sign in to like messages",tabIndex:"-1",children:[w?m.jsx(yr,{className:"heart-filled"}):m.jsx(sS,{className:"heart-outline"}),m.jsx("span",{className:"like-count",children:M>0?M:""})]}),m.jsxs("button",{className:"location-button",onClick:()=>alert(`Location: ${d.location.latitude}, ${d.location.longitude}${d.location.fuzzyLocation===!1?" (Exact)":" (Approximate)"}`),title:"View location details",tabIndex:"-1",children:[m.jsx($a,{className:"location-icon"}),d.location.fuzzyLocation===!1?"Exact":"Approximate"]})]})]})})]}),r&&r.latitude&&r.longitude&&m.jsx("button",{className:"center-on-me-btn",onClick:()=>{y({longitude:r.longitude,latitude:r.latitude,zoom:14,pitch:_?45:0,bearing:0})},title:"Center map on my location",children:m.jsx(iS,{size:20})}),m.jsx("button",{className:`toggle-3d-btn ${_?"active":""}`,onClick:Ae,title:_?"Switch to 2D mode":"Switch to 3D mode",children:m.jsx(fS,{})}),_&&!$&&m.jsxs("div",{className:`three-loading ${c?"dark-mode":""}`,children:[m.jsx("div",{className:"three-loading-spinner"}),m.jsx("p",{children:"Loading 3D view..."})]}),m.jsx("div",{className:`three-view-hint ${ie?"visible":""}`,children:"Drag to pan  Scroll to zoom  Right-click + drag to rotate"}),W.length===0&&m.jsxs("div",{className:`no-location-messages ${c?"dark-mode":""}`,children:[m.jsx($a,{size:32,className:"empty-state-icon"}),m.jsx("p",{children:"The map is looking a bit empty!"}),m.jsx("p",{children:"Share what's happening around you to drop a pin!"}),f&&m.jsx("div",{className:"loading-spinner"}),!f&&m.jsx("button",{className:"refresh-button",onClick:()=>{console.log(" MapView: Manual refresh requested");const V=new CustomEvent("map:fetchMessages");window.dispatchEvent(V)},children:"Refresh Map"})]})]})};Yu.propTypes={messages:P.arrayOf(P.shape({sender:P.string.isRequired,content:P.string.isRequired,timestamp:P.oneOfType([P.string,P.instanceOf(Date)]),isReceived:P.bool,location:P.shape({latitude:P.number,longitude:P.number,error:P.string}),likesCount:P.number})),currentUsername:P.string,onlineUsers:P.object,userLocation:P.shape({latitude:P.number,longitude:P.number,isFallback:P.bool}),isDarkMode:P.bool,isLoading:P.bool};Yu.defaultProps={messages:[],currentUsername:null,onlineUsers:{},userLocation:null,isDarkMode:!1,isLoading:!1};const Vu=({onClick:s,isDarkMode:a})=>m.jsx("button",{className:`floating-action-button ${a?"dark-mode":""}`,onClick:s,"aria-label":"Share new update",children:m.jsx($a,{size:24})});Vu.propTypes={onClick:P.func.isRequired,isDarkMode:P.bool};Vu.defaultProps={isDarkMode:!1};var Sr={exports:{}},qS=Sr.exports,Mm;function HS(){return Mm||(Mm=1,function(s,a){(function(r,c){s.exports=c(Nr())})(qS,function(l){return function(r){var c={};function f(h){if(c[h])return c[h].exports;var y=c[h]={i:h,l:!1,exports:{}};return r[h].call(y.exports,y,y.exports,f),y.l=!0,y.exports}return f.m=r,f.c=c,f.d=function(h,y,d){f.o(h,y)||Object.defineProperty(h,y,{enumerable:!0,get:d})},f.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},f.t=function(h,y){if(y&1&&(h=f(h)),y&8||y&4&&typeof h=="object"&&h&&h.__esModule)return h;var d=Object.create(null);if(f.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:h}),y&2&&typeof h!="string")for(var p in h)f.d(d,p,(function(w){return h[w]}).bind(null,p));return d},f.n=function(h){var y=h&&h.__esModule?function(){return h.default}:function(){return h};return f.d(y,"a",y),y},f.o=function(h,y){return Object.prototype.hasOwnProperty.call(h,y)},f.p="",f(f.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,c,f){f.r(c);var h=f("react"),y=function(){var M=function(R,x){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,_){T.__proto__=_}||function(T,_){for(var j in _)_.hasOwnProperty(j)&&(T[j]=_[j])},M(R,x)};return function(R,x){M(R,x);function T(){this.constructor=R}R.prototype=x===null?Object.create(x):(T.prototype=x.prototype,new T)}}(),d=function(){return d=Object.assign||function(M){for(var R,x=1,T=arguments.length;x<T;x++){R=arguments[x];for(var _ in R)Object.prototype.hasOwnProperty.call(R,_)&&(M[_]=R[_])}return M},d.apply(this,arguments)},p=function(M,R){var x={};for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&R.indexOf(T)<0&&(x[T]=M[T]);if(M!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,T=Object.getOwnPropertySymbols(M);_<T.length;_++)R.indexOf(T[_])<0&&Object.prototype.propertyIsEnumerable.call(M,T[_])&&(x[T[_]]=M[T[_]]);return x};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(R){var x=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return x?new Promise(function(T,_){x.call(navigator,R,T,_)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function w(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var E=function(M){y(R,M);function R(x){var T=M.call(this,x)||this;return T.canvas=null,T.ctx=null,T.requestUserMediaId=0,T.unmounted=!1,T.state={hasUserMedia:!1},T}return R.prototype.componentDidMount=function(){var x=this,T=x.state,_=x.props;if(this.unmounted=!1,!w()){_.onUserMediaError("getUserMedia not supported");return}T.hasUserMedia||this.requestUserMedia(),_.children&&typeof _.children!="function"&&console.warn("children must be a function")},R.prototype.componentDidUpdate=function(x){var T=this.props;if(!w()){T.onUserMediaError("getUserMedia not supported");return}var _=JSON.stringify(x.audioConstraints)!==JSON.stringify(T.audioConstraints),j=JSON.stringify(x.videoConstraints)!==JSON.stringify(T.videoConstraints),$=x.minScreenshotWidth!==T.minScreenshotWidth,Y=x.minScreenshotHeight!==T.minScreenshotHeight;(j||$||Y)&&(this.canvas=null,this.ctx=null),(_||j)&&(this.stopAndCleanup(),this.requestUserMedia())},R.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},R.stopMediaStream=function(x){x&&(x.getVideoTracks&&x.getAudioTracks?(x.getVideoTracks().map(function(T){x.removeTrack(T),T.stop()}),x.getAudioTracks().map(function(T){x.removeTrack(T),T.stop()})):x.stop())},R.prototype.stopAndCleanup=function(){var x=this.state;x.hasUserMedia&&(R.stopMediaStream(this.stream),x.src&&window.URL.revokeObjectURL(x.src))},R.prototype.getScreenshot=function(x){var T=this,_=T.state,j=T.props;if(!_.hasUserMedia)return null;var $=this.getCanvas(x);return $&&$.toDataURL(j.screenshotFormat,j.screenshotQuality)},R.prototype.getCanvas=function(x){var T=this,_=T.state,j=T.props;if(!this.video||!_.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var $=this.video.videoWidth,Y=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var ie=$/Y;$=j.minScreenshotWidth||this.video.clientWidth,Y=$/ie,j.minScreenshotHeight&&Y<j.minScreenshotHeight&&(Y=j.minScreenshotHeight,$=Y*ie)}this.canvas=document.createElement("canvas"),this.canvas.width=(x==null?void 0:x.width)||$,this.canvas.height=(x==null?void 0:x.height)||Y,this.ctx=this.canvas.getContext("2d")}var ee=this,le=ee.ctx,he=ee.canvas;return le&&he&&(he.width=(x==null?void 0:x.width)||he.width,he.height=(x==null?void 0:x.height)||he.height,j.mirrored&&(le.translate(he.width,0),le.scale(-1,1)),le.imageSmoothingEnabled=j.imageSmoothing,le.drawImage(this.video,0,0,(x==null?void 0:x.width)||he.width,(x==null?void 0:x.height)||he.height),j.mirrored&&(le.scale(-1,1),le.translate(-he.width,0))),he},R.prototype.requestUserMedia=function(){var x=this,T=this.props,_=function(Y,ie){var ee={video:typeof ie<"u"?ie:!0};T.audio&&(ee.audio=typeof Y<"u"?Y:!0),x.requestUserMediaId++;var le=x.requestUserMediaId;navigator.mediaDevices.getUserMedia(ee).then(function(he){x.unmounted||le!==x.requestUserMediaId?R.stopMediaStream(he):x.handleUserMedia(null,he)}).catch(function(he){x.handleUserMedia(he)})};if("mediaDevices"in navigator)_(T.audioConstraints,T.videoConstraints);else{var j=function(Y){return{optional:[{sourceId:Y}]}},$=function(Y){var ie=Y.deviceId;return typeof ie=="string"?ie:Array.isArray(ie)&&ie.length>0?ie[0]:typeof ie=="object"&&ie.ideal?ie.ideal:null};MediaStreamTrack.getSources(function(Y){var ie=null,ee=null;Y.forEach(function(pe){pe.kind==="audio"?ie=pe.id:pe.kind==="video"&&(ee=pe.id)});var le=$(T.audioConstraints);le&&(ie=le);var he=$(T.videoConstraints);he&&(ee=he),_(j(ie),j(ee))})}},R.prototype.handleUserMedia=function(x,T){var _=this.props;if(x||!T){this.setState({hasUserMedia:!1}),_.onUserMediaError(x);return}this.stream=T;try{this.video&&(this.video.srcObject=T),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(T)})}_.onUserMedia(T)},R.prototype.render=function(){var x=this,T=this,_=T.state,j=T.props,$=j.audio;j.forceScreenshotSourceSize;var Y=j.disablePictureInPicture;j.onUserMedia,j.onUserMediaError,j.screenshotFormat,j.screenshotQuality,j.minScreenshotWidth,j.minScreenshotHeight,j.audioConstraints,j.videoConstraints,j.imageSmoothing;var ie=j.mirrored,ee=j.style,le=ee===void 0?{}:ee,he=j.children,pe=p(j,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),se=ie?d(d({},le),{transform:(le.transform||"")+" scaleX(-1)"}):le,me={getScreenshot:this.getScreenshot.bind(this)};return h.createElement(h.Fragment,null,h.createElement("video",d({autoPlay:!0,disablePictureInPicture:Y,src:_.src,muted:!$,playsInline:!0,ref:function(ze){x.video=ze},style:se},pe)),he&&he(me))},R.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},R}(h.Component);c.default=E},react:function(r,c){r.exports=l}}).default})}(Sr)),Sr.exports}var GS=HS();const YS=Nu(GS),Tm=[{name:"Normal",filter:""},{name:"Grayscale",filter:"grayscale(1)"},{name:"Sepia",filter:"sepia(0.8)"},{name:"Warm",filter:"saturate(1.5) hue-rotate(10deg)"},{name:"Cool",filter:"saturate(1.2) hue-rotate(-10deg)"},{name:"Bright",filter:"brightness(1.2) contrast(1.1)"},{name:"Vintage",filter:"sepia(0.3) contrast(1.1) brightness(1.1)"},{name:"Fade",filter:"brightness(1.1) contrast(0.9) saturate(0.8)"}],VS=[{id:"time",type:"time",content:"",label:"Time"},{id:"smile",type:"emoji",content:"",label:"Smile"},{id:"love",type:"emoji",content:"",label:"Love"},{id:"cool",type:"emoji",content:"",label:"Cool"},{id:"party",type:"emoji",content:"",label:"Party"},{id:"star",type:"emoji",content:"",label:"Star"},{id:"fire",type:"emoji",content:"",label:"Fire"},{id:"crown",type:"emoji",content:"",label:"Crown"},{id:"sparkles",type:"emoji",content:"",label:"Sparkles"}],Gg=({onCapture:s,onClose:a})=>{const l=b.useRef(null),[r,c]=b.useState(null),[f,h]=b.useState("user"),[y,d]=b.useState(!0),[p,w]=b.useState(null),[E,M]=b.useState(Tm[0]),[R,x]=b.useState([]),[T,_]=b.useState(new Date().toLocaleTimeString()),[j,$]=b.useState(null),[Y,ie]=b.useState({width:{ideal:4096},height:{ideal:4096},facingMode:"user",aspectRatio:1,frameRate:{ideal:30,max:60}});b.useEffect(()=>{const v=setInterval(()=>{_(new Date().toLocaleTimeString())},1e3);return()=>clearInterval(v)},[]),b.useEffect(()=>{(async()=>{var O,K;try{if((await navigator.mediaDevices.enumerateDevices()).filter(H=>H.kind==="videoinput").length>0){const H=await navigator.mediaDevices.getUserMedia({video:!0}),ne=H.getVideoTracks()[0].getCapabilities(),X=Math.min(((O=ne.width)==null?void 0:O.max)||4096,((K=ne.height)==null?void 0:K.max)||4096);ie(ae=>({...ae,width:{ideal:X},height:{ideal:X},facingMode:f})),H.getTracks().forEach(ae=>ae.stop())}}catch(Q){console.error("Error getting camera capabilities:",Q),me(Q)}})()},[f]);const ee=b.useCallback(()=>{if(l.current)try{const v=l.current.getScreenshot({width:Y.width.ideal,height:Y.height.ideal,quality:.92});if(!v){console.error("Failed to capture image - no image data returned");return}if(!v.startsWith("data:image/")){console.error("Invalid image format captured");return}c(v),d(!1),console.log("Image captured successfully with dimensions:",Y.width.ideal,"x",Y.height.ideal)}catch(v){console.error("Error capturing image:",v)}},[l,Y]),le=()=>{c(null),d(!0),x([])},he=()=>{h(v=>v==="user"?"environment":"user")},pe=()=>new Promise(v=>{const O=document.createElement("canvas"),K=new Image;K.onload=()=>{O.width=K.width,O.height=K.height;const Q=O.getContext("2d"),H=document.querySelector(".preview-container").getBoundingClientRect();Q.filter=E.filter,Q.drawImage(K,0,0,O.width,O.height),Q.filter="none";const L=O.width/H.width,ne=O.height/H.height;R.forEach(X=>{var _t,Vt;const ae=X.type==="time"?T:X.content,fe=X.scale||1,Se=X.rotation||0,Nt=(((_t=X.position)==null?void 0:_t.x)||0)*L,At=(((Vt=X.position)==null?void 0:Vt.y)||0)*ne,dn=32*L,et=Math.round(dn*fe);Q.save(),Q.translate(Nt,At),Q.rotate(Se*Math.PI/180),Q.font=`${et}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`,Q.textBaseline="middle",Q.textAlign="center",Q.shadowColor="rgba(0, 0, 0, 0.3)",Q.shadowBlur=4*L,Q.shadowOffsetX=2*L,Q.shadowOffsetY=2*ne,Q.fillStyle="white",Q.fillText(ae,0,0),Q.restore()}),v(O.toDataURL("image/jpeg",.95))},K.src=r}),se=()=>{if(!r){console.error("No image to confirm");return}try{R.length>0?pe().then(v=>{!v||!v.startsWith("data:image/")?(console.error("Invalid merged image format"),s(r)):(console.log("Image with stickers generated successfully"),s(v))}).catch(v=>{console.error("Error merging stickers:",v),s(r)}):(console.log("Using original captured image (no stickers)"),s(r))}catch(v){console.error("Error confirming image:",v),s(r)}},me=v=>{console.error("Camera error:",v),w("Could not access camera. Please check permissions and try again.")},ze=v=>{const O={...v,id:`${v.id}-${Date.now()}`,position:{x:50,y:50},scale:1,rotation:0};x([...R,O])},Ae=v=>{x(R.filter(O=>O.id!==v))},xe=(v,O)=>{var H,L;v.preventDefault();const Q=document.querySelector(".preview-container").getBoundingClientRect(),U=v.target;if(U.classList.contains("rotate-handle")){const X=U.closest(".sticker-item").getBoundingClientRect(),ae=X.left+X.width/2,fe=X.top+X.height/2;$({id:O.id,type:"rotate",centerX:ae,centerY:fe,startAngle:O.rotation||0,startMouseAngle:Math.atan2(v.clientY-fe,v.clientX-ae),containerRect:Q})}else U.classList.contains("resize-handle")?$({id:O.id,type:"resize",startX:v.clientX,startY:v.clientY,startScale:O.scale||1,containerRect:Q}):$({id:O.id,type:"move",startX:v.clientX-(((H=O.position)==null?void 0:H.x)||0),startY:v.clientY-(((L=O.position)==null?void 0:L.y)||0),containerRect:Q})},Te=(v,O)=>{var L,ne;v.preventDefault();const K=v.touches[0],U=document.querySelector(".preview-container").getBoundingClientRect(),H=v.target;if(H.classList.contains("rotate-handle")){const ae=H.closest(".sticker-item").getBoundingClientRect(),fe=ae.left+ae.width/2,Se=ae.top+ae.height/2;$({id:O.id,type:"rotate",centerX:fe,centerY:Se,startAngle:O.rotation||0,startMouseAngle:Math.atan2(K.clientY-Se,K.clientX-fe),containerRect:U})}else H.classList.contains("resize-handle")?$({id:O.id,type:"resize",startX:K.clientX,startY:K.clientY,startScale:O.scale||1,containerRect:U}):$({id:O.id,type:"move",startX:K.clientX-(((L=O.position)==null?void 0:L.x)||0),startY:K.clientY-(((ne=O.position)==null?void 0:ne.y)||0),containerRect:U})},_e=v=>{if(j){v.preventDefault();const{containerRect:O,type:K}=j;if(K==="rotate"){const U=Math.atan2(v.clientY-j.centerY,v.clientX-j.centerX)-j.startMouseAngle,H=(j.startAngle+U*(180/Math.PI))%360;x(L=>L.map(ne=>ne.id===j.id?{...ne,rotation:H}:ne))}else if(K==="resize"){const Q=v.clientX-j.startX,U=v.clientY-j.startY,L=Math.sqrt(Q*Q+U*U)/100,ne=Math.max(.5,Math.min(3,j.startScale+(Q>0?L:-L)));x(X=>X.map(ae=>ae.id===j.id?{...ae,scale:ne}:ae))}else{const Q=Math.max(0,Math.min(v.clientX-j.startX-O.left,O.width-50)),U=Math.max(0,Math.min(v.clientY-j.startY-O.top,O.height-50));x(H=>H.map(L=>L.id===j.id?{...L,position:{x:Q,y:U}}:L))}}},W=v=>{if(j){v.preventDefault();const O=v.touches[0],{containerRect:K,type:Q}=j;if(Q==="rotate"){const H=Math.atan2(O.clientY-j.centerY,O.clientX-j.centerX)-j.startMouseAngle,L=(j.startAngle+H*(180/Math.PI))%360;x(ne=>ne.map(X=>X.id===j.id?{...X,rotation:L}:X))}else if(Q==="resize"){const U=O.clientX-j.startX,H=O.clientY-j.startY,ne=Math.sqrt(U*U+H*H)/100,X=Math.max(.5,Math.min(3,j.startScale+(U>0?ne:-ne)));x(ae=>ae.map(fe=>fe.id===j.id?{...fe,scale:X}:fe))}else{const U=Math.max(0,Math.min(O.clientX-j.startX-K.left,K.width-50)),H=Math.max(0,Math.min(O.clientY-j.startY-K.top,K.height-50));x(L=>L.map(ne=>ne.id===j.id?{...ne,position:{x:U,y:H}}:ne))}}},ce=()=>{$(null)},re=()=>{$(null)},V=v=>{var U,H;const O=v.type==="time"?T:v.content,K=v.scale||1,Q=v.rotation||0;return m.jsxs("div",{className:"sticker-item",style:{transform:`translate(${((U=v.position)==null?void 0:U.x)||0}px, ${((H=v.position)==null?void 0:H.y)||0}px)`},onMouseDown:L=>xe(L,v),onTouchStart:L=>Te(L,v),children:[m.jsx("div",{className:"sticker-content",style:{transform:`scale(${K}) rotate(${Q}deg)`,transformOrigin:"center"},children:O}),m.jsx("button",{className:"sticker-remove",onClick:()=>Ae(v.id),children:""}),m.jsx("div",{className:"resize-handle"}),m.jsx("div",{className:"rotate-handle"})]},v.id)};return m.jsxs("div",{className:"camera-capture-container",children:[m.jsx("div",{className:"camera-header",children:m.jsx("button",{className:"close-button",onClick:a,children:""})}),m.jsx("div",{className:"camera-body",children:p?m.jsxs("div",{className:"camera-error",children:[m.jsx("p",{children:p}),m.jsx("button",{className:"cancel-button",onClick:a,children:"Close"})]}):y?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"camera-view-container",children:m.jsx(YS,{audio:!1,ref:l,screenshotFormat:"image/jpeg",screenshotQuality:.92,videoConstraints:Y,className:"webcam",style:{filter:E.filter},onUserMediaError:me,imageSmoothing:!0})}),m.jsx("div",{className:"filters-roll",children:Tm.map(v=>m.jsxs("button",{className:`filter-option ${v.name===E.name?"active":""}`,onClick:()=>M(v),children:[m.jsx("div",{className:"filter-preview",style:{filter:v.filter}}),m.jsx("span",{children:v.name})]},v.name))}),m.jsxs("div",{className:"camera-controls",children:[m.jsx("div",{className:"spacer"}),m.jsx("button",{className:"capture-btn",onClick:ee,children:m.jsx(Tg,{size:32})}),m.jsx("button",{className:"flip-camera",onClick:he,children:m.jsx(hS,{size:24})})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"preview-container",onMouseMove:_e,onMouseUp:ce,onMouseLeave:ce,onTouchMove:W,onTouchEnd:re,children:[m.jsx("img",{src:r,alt:"Captured",className:"captured-image",style:{filter:E.filter}}),m.jsx("div",{className:"stickers-layer",children:R.map(V)})]}),m.jsx("div",{className:"stickers-roll",children:VS.map(v=>m.jsxs("button",{className:"sticker-option",onClick:()=>ze(v),children:[m.jsx("div",{className:"sticker-preview",children:v.content}),m.jsx("span",{children:v.label})]},v.id))}),m.jsxs("div",{className:"camera-controls",children:[m.jsx("button",{className:"retake-btn",onClick:le,children:m.jsx(Ag,{size:24})}),m.jsx("button",{className:"confirm-btn",onClick:se,children:m.jsx(eS,{size:24})})]})]})})]})};Gg.propTypes={onCapture:P.func.isRequired,onClose:P.func.isRequired};const Zu=({isOpen:s,onClose:a,onShareUpdate:l,placeholder:r,disabled:c,isDarkMode:f})=>{const[h,y]=b.useState(""),[d,p]=b.useState(null),[w,E]=b.useState(!1),[M,R]=b.useState(!1),[x,T]=b.useState(!0),_=60,j=_-h.length,$=async le=>{le.preventDefault();const he=h.trim();if(he&&d)try{E(!0);const pe=new FormData;if(typeof d=="string"&&d.startsWith("data:image"))try{const me=d.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);if(me&&me.length===3){const ze=me[1],Ae=me[2],xe=atob(Ae),Te=[];for(let W=0;W<xe.length;W+=1024){const ce=xe.slice(W,W+1024),re=new Array(ce.length);for(let v=0;v<ce.length;v++)re[v]=ce.charCodeAt(v);const V=new Uint8Array(re);Te.push(V)}const _e=new Blob(Te,{type:ze});pe.append("image",_e,`image.${ze.split("/")[1]||"jpg"}`),console.log(`Created blob from base64 image with content type: ${ze}`)}else{console.log("Regex matching failed, using fetch API for blob conversion");const Ae=await(await fetch(d)).blob();pe.append("image",Ae,"camera-image.jpg")}}catch(me){console.error("Error converting base64 to blob:",me),alert("There was a problem processing the image. Please try again or use a different image."),E(!1);return}else if(d instanceof File){if(!d.type.startsWith("image/")){alert("The selected file is not a valid image."),E(!1);return}if(d.size>5*1024*1024){alert("Image size must be less than 5MB."),E(!1);return}pe.append("image",d),console.log(`Added file image with type: ${d.type}`)}else{console.error("Unknown image format:",typeof d),alert("Unsupported image format. Please try again with a different image."),E(!1);return}pe.append("message",he),pe.append("fuzzyLocation",x.toString());const se=await l(he,pe);y(""),p(null),a(),se&&console.log("Countdown shown")}catch(pe){console.error("Error uploading image:",pe),alert("Failed to upload the image. Please try again.")}finally{E(!1)}},Y=le=>{p(le),R(!1)},ie=()=>{R(!0)},ee=()=>{p(null)};return b.useEffect(()=>{s&&(y(""),p(null),R(!1))},[s]),s?M?m.jsx("div",{className:"message-modal-overlay",children:m.jsx(Gg,{onCapture:Y,onClose:()=>R(!1)})}):m.jsx("div",{className:"message-modal-overlay",onClick:a,children:m.jsxs("div",{className:`message-modal ${f?"dark-mode":""}`,onClick:le=>le.stopPropagation(),children:[m.jsxs("div",{className:"message-modal-header",children:[m.jsx("h3",{children:"Share Update"}),m.jsx("button",{className:"close-button",onClick:a,children:""})]}),m.jsxs("form",{className:"message-modal-form",onSubmit:$,children:[d?m.jsxs("div",{className:"image-preview-container",children:[m.jsx("img",{src:d,alt:"Message preview",className:"image-preview"}),m.jsx("button",{type:"button",className:"remove-image-btn",onClick:ee,"aria-label":"Remove image",children:m.jsx(Ng,{size:18})})]}):m.jsx("div",{className:"camera-button-container",children:m.jsxs("button",{type:"button",className:"camera-button",onClick:ie,"aria-label":"Take photo",children:[m.jsx(Tg,{size:24}),m.jsx("span",{children:"Take Photo"})]})}),m.jsxs("div",{className:"message-input-container",children:[m.jsx("textarea",{className:"message-modal-input",value:h,onChange:le=>y(le.target.value),placeholder:r,autoComplete:"off",disabled:c,rows:3,autoFocus:!0,maxLength:_}),m.jsx("div",{className:`char-counter ${j<=10?"warning":""} ${j<=5?"danger":""}`,children:j})]}),m.jsx("div",{className:"location-option",children:m.jsxs("label",{className:`location-option-label ${f?"dark-mode":""}`,children:[m.jsx("input",{type:"checkbox",checked:x,onChange:le=>T(le.target.checked)}),m.jsx($a,{size:16,className:"location-icon"}),m.jsx("span",{children:"Use approximate location for privacy"})]})}),m.jsxs("div",{className:"message-modal-footer",children:[m.jsx("button",{type:"button",className:"cancel-button",onClick:a,children:"Cancel"}),m.jsx("button",{type:"submit",className:`send-button-round ${!h.trim()||!d||c||w?"disabled":""}`,disabled:!h.trim()||!d||c||w,"aria-label":"Share update",children:m.jsx(oS,{size:18})})]})]})]})}):null};Zu.propTypes={isOpen:P.bool.isRequired,onClose:P.func.isRequired,onShareUpdate:P.func.isRequired,placeholder:P.string,disabled:P.bool,isDarkMode:P.bool};Zu.defaultProps={placeholder:"What's happening?",disabled:!1,isDarkMode:!1};const Xu=b.createContext({messagesTimestamp:Date.now(),setMessagesTimestamp:()=>{}}),Yg=({children:s})=>{const[a,l]=b.useState(Date.now());return m.jsx(Xu.Provider,{value:{messagesTimestamp:a,setMessagesTimestamp:l},children:s})};Yg.propTypes={children:P.node.isRequired};const ZS=["#1da1f2","#4267B2","#833AB4","#E1306C","#2867B2","#FF0000","#1DB954","#FF5700","#00aff0","#7289da","#25D366","#34B7F1","#000000","#6441a5"],Mr=({user:s,onlineUsers:a={},isDarkMode:l,toggleDarkMode:r})=>{const{username:c}=Gy(),f=Gs(),{messagesTimestamp:h,setMessagesTimestamp:y}=b.useContext(Xu),[d,p]=b.useState(s||null),[w,E]=b.useState(!s),[M,R]=b.useState(!1),[x,T]=b.useState(null),[_,j]=b.useState(null),[$,Y]=b.useState([]),[ie,ee]=b.useState(!1),[le,he]=b.useState(!1),[pe,se]=b.useState(1),[me,ze]=b.useState(!0),Ae=10,[xe,Te]=b.useState(!c),[_e,W]=b.useState(""),[ce,re]=b.useState(!1),[V,v]=b.useState(null),[O,K]=b.useState(0),[Q,U]=b.useState([]),[H,L]=b.useState([]),[ne,X]=b.useState(!1),[ae,fe]=b.useState(!1),[Se,Nt]=b.useState(1),[At,dn]=b.useState(!0),[et,_t]=b.useState("messages"),Vt=b.useRef(null),[wn,Ia]=b.useState(!1),[Yn,Zt]=b.useState(Notification.permission==="granted"),[Xe,Rt]=b.useState({username:(s==null?void 0:s.username)??"",email:(s==null?void 0:s.email)??"",profilePicture:(s==null?void 0:s.profilePicture)??"",coverColor:(s==null?void 0:s.coverColor)??"#1da1f2",bio:(s==null?void 0:s.bio)??"Just another gringo",darkMode:(s==null?void 0:s.darkMode)??!1,geolocationEnabled:(s==null?void 0:s.geolocationEnabled)??!1}),wt=b.useCallback(async()=>{if(d!=null&&d.username)try{ee(!0),T(null);const F=dt.getUser(),te=F?F.username:null,I=await bt.getUserMessages(d.username,te);if(!I.success){console.error("Error fetching user messages:",I.message||"Unknown error"),T("Failed to load user messages. Please try again.");return}if(!I.data||!I.data.messages){console.error("Invalid response format when fetching user messages:",I),T("Failed to load user messages. Invalid server response in profile card");return}if(pe===1){const ye=I.data.messages.slice(0,Ae);Y(ye),ze(I.data.messages.length>Ae),window.allUserMessages=I.data.messages}}catch(F){console.error("Error in fetchUserMessages:",F),T("Failed to load user messages. Please try again.")}finally{ee(!1)}},[d==null?void 0:d.username,pe,Ae]);b.useEffect(()=>{const F=dt.getUser();if(F&&W(F.username),c){(async()=>{try{E(!0),T(null);const I=dt.getUser(),ye=I?I.username:null,Re=await bt.getUserByUsername(c,ye);if(Re.success){p(Re.data.user),Object.prototype.hasOwnProperty.call(Re.data.user,"isFollowing")&&re(Re.data.user.isFollowing);const ve=(I==null?void 0:I.username)===Re.data.user.username;Te(ve)}else T("User not found")}catch(I){console.error("Error fetching user profile:",I),T("Failed to load user profile")}finally{E(!1)}})();return}if(s){p(s);const te=dt.getUser(),I=(te==null?void 0:te.username)===s.username;Te(I),re(!1)}},[s,c]),b.useEffect(()=>{Zt(Notification.permission==="granted")},[]);const Br=async()=>{try{if(v("loading"),ce){const F=await bt.unfollowUser(d.username,_e);F.success?(re(!1),p(te=>({...te,followersCount:F.data.followersCount,followingCount:F.data.followingCount})),v("success"),_e&&(await bt.getUserByUsername(_e)).success):v("error")}else{const F=await bt.followUser(d.username,_e);F.success?(re(!0),p(te=>({...te,followersCount:F.data.followersCount,followingCount:F.data.followingCount})),v("success"),_e&&(await bt.getUserByUsername(_e)).success):v("error")}}catch{v("error")}finally{setTimeout(()=>{v(null)},2e3)}};b.useEffect(()=>{d!=null&&d.username&&(se(1),T(null),wt())},[d==null?void 0:d.username,wt]),b.useEffect(()=>{if(!(d!=null&&d.username))return;const F=()=>{wt()},te=cn.getSocket();if(te)return te.on("refreshMessages",F),()=>{te.off("refreshMessages",F)}},[d==null?void 0:d.username,wt]),b.useEffect(()=>{d&&a[d.username]!==void 0&&p(F=>({...F,isOnline:a[d.username]}))},[a,d==null?void 0:d.username]);const Vn=F=>{const{name:te,value:I}=F.target;Rt(ye=>({...ye,[te]:I}))},Ji=async F=>{F.preventDefault();try{(await dt.updateProfile(Xe)).success?(p({...d,...Xe}),j("Profile updated successfully!"),R(!1),Xe.darkMode!==d.darkMode&&window.location.reload()):T("Failed to update profile. Please try again.")}catch{T("An error occurred. Please try again.")}},es=()=>{Rt({username:d.username,email:d.email,profilePicture:d.profilePicture||"",coverColor:d.coverColor||"#1da1f2",bio:d.bio||"Just another gringo",darkMode:d.darkMode||!1,geolocationEnabled:d.geolocationEnabled||!1}),R(!1),T(null)},qr=F=>{if(!F)return"Not available";try{const te=new Date(F);if(isNaN(te.getTime()))return"Invalid date";const I={year:"numeric",month:"long"};return te.toLocaleDateString(void 0,I)}catch{return"Date format error"}},Pi=()=>{!window.allUserMessages||le||(he(!0),setTimeout(()=>{const F=pe+1,te=0,I=F*Ae,ye=window.allUserMessages.slice(te,I);Y(ye),se(F),ze(window.allUserMessages.length>I),he(!1)},500))};b.useEffect(()=>{(async()=>{if(d!=null&&d.username)try{const te=await bt.getUserLikes(d.username);te.success&&(K(te.totalLikes),te.topLikedMessages&&(te.topLikedMessages.forEach((I,ye)=>{}),U(te.topLikedMessages)))}catch{}})()},[d==null?void 0:d.username,h]),b.useEffect(()=>{(async()=>{if(!(!(d!=null&&d.username)||et!=="likes")){X(!0),Nt(1),T(null);try{const te=dt.getUser(),I=te?te.username:null,ye=await bt.getLikedMessages(d.username,I);if(!ye.success){console.error("Error fetching liked messages:",ye.message||"Unknown error"),T("Failed to load liked messages. Please try again.");return}if(!ye.likedMessages||!Array.isArray(ye.likedMessages)){console.error("Invalid response format when fetching liked messages:",ye),T("Failed to load liked messages. Invalid server response in profile card");return}const Re=ye.likedMessages;let ve=Re;xe&&I&&(ve=Re.map(kt=>({...kt,likedByCurrentUser:!0})));const Ze=ve.slice(0,Ae);L(Ze),dn(ve.length>Ae),window.allLikedMessages=ve}catch(te){console.error("Error in fetchLikedMessages:",te),T("Failed to load liked messages. Please try again.")}finally{X(!1)}}})()},[d==null?void 0:d.username,et,Ae,h,xe]),b.useEffect(()=>(document.body.setAttribute("data-page","profile"),window.refreshProfileData=()=>{et==="likes"&&(console.log("Refreshing profile liked messages"),y(Date.now()))},()=>{document.body.removeAttribute("data-page"),delete window.refreshProfileData}),[et]),b.useEffect(()=>{const F=()=>{if(Vt.current){const te=Vt.current.getBoundingClientRect(),I=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height"));te.top<=I?wn||Ia(!0):wn&&Ia(!1)}};return window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)},[wn]);const Ot=()=>{setTimeout(()=>{j(null),T(null)},3e3)},Hr=async F=>{var te;try{const I=((te=F==null?void 0:F.target)==null?void 0:te.checked)!==void 0?F.target.checked:!Xe.darkMode;if(Rt(Re=>({...Re,darkMode:I})),r){r(),j("Dark mode preference updated!"),Ot();return}if(M)return;j("Updating dark mode preference..."),(await dt.updateProfile({darkMode:I})).success?(j("Dark mode preference updated!"),p(Re=>({...Re,darkMode:I})),I?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),Ot()):(T("Failed to update dark mode preference."),Ot())}catch{T("An error occurred while updating dark mode preference."),Ot()}};b.useEffect(()=>{(async()=>{if(!("Notification"in window)){Zt(!1);return}const te=()=>{const I=Notification.permission;Zt(I==="granted")};te();try{const I=await navigator.permissions.query({name:"notifications"});return I.addEventListener("change",()=>{te()}),()=>{I.removeEventListener("change",te)}}catch{const ye=setInterval(()=>{te()},1e3);return()=>clearInterval(ye)}})()},[]),b.useEffect(()=>{(async()=>{try{if(!("geolocation"in navigator)){Rt(ye=>({...ye,geolocationEnabled:!1}));return}const te=async ye=>{const Re=ye==="granted";Rt(ve=>ve.geolocationEnabled!==Re?(!Re&&(d!=null&&d.geolocationEnabled)&&dt.updateProfile({geolocationEnabled:!1}).then(()=>{p(Ze=>({...Ze,geolocationEnabled:!1}))}).catch(console.error),{...ve,geolocationEnabled:Re}):ve)},I=await navigator.permissions.query({name:"geolocation"});return te(I.state),I.addEventListener("change",()=>{te(I.state)}),()=>{I.removeEventListener("change",()=>{te(I.state)})}}catch(te){console.error("Error checking geolocation status:",te),Rt(I=>({...I,geolocationEnabled:!1}))}})()},[d]);const ba=async F=>{var te;try{if(((te=F==null?void 0:F.target)==null?void 0:te.checked)!==void 0?F.target.checked:!Yn){if(!("Notification"in window)){T("Notifications are not supported in your browser."),Zt(!1),Ot();return}const ye=await Notification.requestPermission();if(ye==="granted"){Zt(!0),j("Notifications enabled successfully!");const Re=new Notification("Notifications Enabled",{body:"You will now receive notifications from GringoX",icon:"/logo.png"});setTimeout(()=>Re.close(),3e3)}else Zt(!1),T(ye==="denied"?"Please enable notifications in your browser settings to use this feature.":"Notification permission was not granted.")}else Notification.permission==="granted"?(T("To disable notifications completely, please use your browser settings. The toggle will remain enabled while browser permissions are granted."),Zt(!0)):Zt(!1);Ot()}catch(I){console.error("Error toggling notifications:",I),T("An error occurred while updating notification settings."),Ot()}},xt=async F=>{var te;try{if(((te=F==null?void 0:F.target)==null?void 0:te.checked)!==void 0?F.target.checked:!Xe.geolocationEnabled){if(!("geolocation"in navigator)){T("Geolocation is not supported in your browser."),Rt(ye=>({...ye,geolocationEnabled:!1})),Ot();return}try{if((await navigator.permissions.query({name:"geolocation"})).state==="denied"){T("Please enable location access in your browser settings."),Rt(ve=>({...ve,geolocationEnabled:!1})),Ot();return}await new Promise((ve,Ze)=>{navigator.geolocation.getCurrentPosition(ve,Ze,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})})&&(Rt(ve=>({...ve,geolocationEnabled:!0})),M||(await dt.updateProfile({geolocationEnabled:!0})).success&&(j("Location services enabled successfully!"),p(Ze=>({...Ze,geolocationEnabled:!0}))))}catch(ye){let Re="Could not access your location. ";ye.code===1?Re+="Please enable location access in your browser settings.":ye.code===2?Re+="Position is unavailable.":ye.code===3&&(Re+="Request timed out."),T(Re),Rt(ve=>({...ve,geolocationEnabled:!1})),M||await dt.updateProfile({geolocationEnabled:!1}),Ot();return}}else Rt(ye=>({...ye,geolocationEnabled:!1})),M||(await dt.updateProfile({geolocationEnabled:!1})).success&&(j("Location services disabled successfully!"),p(Re=>({...Re,geolocationEnabled:!1})));Ot()}catch(I){console.error("Error updating location settings:",I),T("An error occurred while updating location settings."),Ot()}};return m.jsxs("div",{className:`profile-container ${l?"dark-mode":""}`,children:[x&&m.jsx("div",{className:"profile-error",children:x}),_&&m.jsx("div",{className:"profile-success",children:_}),w?m.jsx("div",{className:"profile-loading",children:"Loading profile..."}):m.jsx(m.Fragment,{children:d&&m.jsx("div",{className:"profile-card",children:M?m.jsx("div",{className:"profile-form",children:m.jsxs("form",{onSubmit:Ji,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"username",children:"Username"}),m.jsx("input",{type:"text",id:"username",name:"username",value:Xe.username,onChange:Vn,required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{type:"email",id:"email",name:"email",value:Xe.email,onChange:Vn,required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"bio",children:"Bio"}),m.jsx("textarea",{id:"bio",name:"bio",value:Xe.bio,onChange:Vn,placeholder:"Tell us about yourself",rows:"3"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"profilePicture",children:"Profile Picture URL"}),m.jsx("input",{type:"text",id:"profilePicture",name:"profilePicture",value:Xe.profilePicture,onChange:Vn,placeholder:"https://example.com/your-image.jpg"}),Xe.profilePicture&&m.jsx("img",{src:Xe.profilePicture,alt:"Profile preview",className:"profile-preview",onError:F=>{F.target.style.display="none"}})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"coverColor",children:"Profile Cover Color"}),m.jsxs("div",{className:"color-picker-container",children:[m.jsx("input",{type:"color",id:"coverColor",name:"coverColor",value:Xe.coverColor,onChange:Vn,className:"color-picker"}),m.jsx("span",{className:"color-value",children:Xe.coverColor})]}),m.jsx("div",{className:"color-palette",children:ZS.map(F=>m.jsx("button",{type:"button",className:`color-swatch ${Xe.coverColor===F?"selected":""}`,style:{backgroundColor:F},onClick:()=>Rt({...Xe,coverColor:F}),"aria-label":`Select color ${F}`},F))}),m.jsx("div",{className:"cover-preview",style:{backgroundColor:Xe.coverColor},children:m.jsx("span",{children:"Cover Preview"})})]}),m.jsxs("div",{className:"profile-settings-section",children:[m.jsx("h3",{children:"Account Settings"}),m.jsxs("div",{className:"profile-setting-item",children:[m.jsx("span",{className:"setting-label",children:"Dark Mode"}),m.jsxs("div",{className:"toggle-switch",children:[m.jsx("input",{type:"checkbox",checked:Xe.darkMode,onChange:Hr,id:"darkModeToggle"}),m.jsxs("label",{htmlFor:"darkModeToggle",className:"toggle-label",children:[m.jsx("span",{className:"toggle-icon",children:Xe.darkMode?m.jsx(rS,{}):m.jsx(dS,{})}),m.jsx("span",{className:"toggle-text",children:Xe.darkMode?"Dark Mode":"Light Mode"})]})]})]}),m.jsxs("div",{className:"profile-setting-item",children:[m.jsx("span",{className:"setting-label",children:"Geolocation"}),m.jsxs("div",{className:"toggle-switch",children:[m.jsx("input",{type:"checkbox",checked:Xe.geolocationEnabled,onChange:xt,id:"geolocationToggle"}),m.jsxs("label",{htmlFor:"geolocationToggle",className:"toggle-label",children:[m.jsx("span",{className:"toggle-icon",children:m.jsx($a,{})}),m.jsx("span",{className:"toggle-text",children:Xe.geolocationEnabled?"Location Enabled":"Location Disabled"})]})]})]}),m.jsxs("div",{className:"profile-setting-item",children:[m.jsx("span",{className:"setting-label",children:"Notifications"}),m.jsxs("div",{className:"toggle-switch",children:[m.jsx("input",{type:"checkbox",id:"notification-toggle",checked:Yn,onChange:ba}),m.jsxs("label",{htmlFor:"notification-toggle",className:"toggle-label",children:[m.jsx("span",{className:"toggle-icon",children:Yn?m.jsx(W5,{}):m.jsx(I5,{})}),m.jsx("span",{className:"toggle-text",children:Yn?"Enabled":"Disabled"})]})]})]})]}),m.jsxs("div",{className:"profile-form-actions",children:[m.jsx("button",{type:"button",className:"cancel-button",onClick:es,children:"Cancel"}),m.jsx("button",{type:"submit",className:"save-button",children:"Save"})]})]})}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"profile-cover",style:{backgroundColor:d.coverColor||"#1da1f2"},children:m.jsx("div",{className:"profile-avatar-container",children:d.profilePicture?m.jsx("img",{src:d.profilePicture,alt:`${d.username}'s avatar`,className:"profile-avatar",onError:F=>{const te=F.target.parentNode,I=document.createElement("div");I.className="avatar-placeholder profile-avatar",I.style.backgroundColor=Re(d.username),I.style.width="120px",I.style.height="120px",I.style.display="flex",I.style.alignItems="center",I.style.justifyContent="center",I.style.color="#fff",I.style.fontSize="48px",I.style.fontWeight="bold",I.style.borderRadius="50%",I.style.textTransform="uppercase";function ye(ve){if(!ve)return"?";const Ze=ve.split(/[\s_.-]+/);return Ze.length===1?ve.substring(0,2).toUpperCase():(Ze[0][0]+Ze[Math.min(Ze.length-1,1)][0]).toUpperCase()}function Re(ve){if(!ve)return"#6c757d";const Ze=ve.split("").reduce((it,Le)=>Le.charCodeAt(0)+((it<<5)-it),0),kt=["#2563EB","#059669","#DC2626","#D97706","#7C3AED","#DB2777","#4338CA","#059669","#0891B2","#EA580C"];return kt[Math.abs(Ze)%kt.length]}I.innerText=ye(d.username),te.replaceChild(I,F.target)}}):m.jsx(Ka,{username:d.username,size:"120px",className:"profile-avatar"})})}),m.jsxs("div",{className:"profile-header",children:[m.jsxs("div",{className:"profile-username",children:[m.jsx("h2",{children:d.username}),m.jsx("span",{className:`status-badge ${d.isOnline?"online":"offline"}`,children:d.isOnline?"Online":"Offline"})]}),m.jsxs("div",{className:"profile-actions",children:[xe&&m.jsx("button",{className:"edit-button",onClick:()=>R(!0),children:"Edit Profile"}),!xe&&m.jsx("button",{className:`follow-button ${ce?"following":""}`,onClick:Br,disabled:V==="loading",children:V==="loading"?m.jsx("span",{className:"follow-button-spinner"}):ce?"Following":"Follow"})]})]}),m.jsx("div",{className:"profile-bio",children:m.jsx("p",{children:d.bio||"Just another gringo"})}),m.jsx("div",{className:"profile-details",children:m.jsxs("div",{className:"profile-field",children:[m.jsx("span",{className:"profile-label",children:"Joined:"}),m.jsx("span",{className:"profile-value",children:qr(d.createdAt)})]})}),m.jsxs("div",{className:"profile-stats",children:[m.jsxs("div",{className:"stat",children:[m.jsx("span",{className:"stat-value",children:d.followersCount||0}),m.jsx("span",{className:"stat-label",children:"Followers"})]}),m.jsxs("div",{className:"stat stat-middle",children:[m.jsx("span",{className:"stat-value",children:d.followingCount||0}),m.jsx("span",{className:"stat-label",children:"Following"})]}),m.jsxs("div",{className:"stat",children:[m.jsx("span",{className:"stat-value",children:O||0}),m.jsx("span",{className:"stat-label",children:"Likes"})]})]}),m.jsxs("div",{ref:Vt,className:`profile-tabs ${wn?"sticky":""}`,children:[m.jsx("div",{className:"profile-sticky-title",children:d.username}),m.jsxs("button",{className:`profile-tab ${et==="messages"?"active":""}`,onClick:()=>_t("messages"),children:[m.jsx(aS,{className:"tab-icon"}),m.jsx("span",{children:"Updates"})]}),m.jsxs("button",{className:`profile-tab ${et==="likes"?"active":""}`,onClick:()=>_t("likes"),children:[m.jsx(yr,{className:"tab-icon"}),m.jsx("span",{children:"Likes"})]})]}),m.jsxs("div",{className:"tab-content",children:[et==="messages"&&m.jsx("div",{className:"user-messages-section",children:ie?m.jsx("div",{className:"loading-messages",children:"Loading messages..."}):$.length===0?m.jsx("p",{className:"no-messages",children:xe?"You haven't posted any updates yet.":`${d.username} hasn't posted any updates yet.`}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"user-messages-list instagram-style",children:$.slice().sort((F,te)=>new Date(te.createdAt)-new Date(F.createdAt)).map(F=>{var te,I,ye,Re,ve;return m.jsxs("div",{className:"user-message-item facebook-style",children:[m.jsxs("div",{className:"message-header",children:[(te=F.author)!=null&&te.profilePicture?m.jsx("img",{src:((I=F.author)==null?void 0:I.profilePicture)||d.profilePicture,alt:`${((ye=F.author)==null?void 0:ye.username)||d.username}'s avatar`,className:"message-avatar",onError:Ze=>{var Ea;const kt=((Ea=F.author)==null?void 0:Ea.username)||d.username,it=Ze.target.parentNode,Le=document.createElement("div");Le.className="avatar-placeholder message-avatar";function hn(xn){if(!xn)return"?";const mn=xn.split(/[\s_.-]+/);return mn.length===1?xn.substring(0,2).toUpperCase():(mn[0][0]+mn[Math.min(mn.length-1,1)][0]).toUpperCase()}function ts(xn){if(!xn)return"#6c757d";const mn=xn.split("").reduce((Wi,Ii)=>Ii.charCodeAt(0)+((Wi<<5)-Wi),0),Zn=["#2563EB","#059669","#DC2626","#D97706","#7C3AED","#DB2777","#4338CA","#059669","#0891B2","#EA580C"];return Zn[Math.abs(mn)%Zn.length]}Le.style.backgroundColor=ts(kt),Le.style.width="40px",Le.style.height="40px",Le.style.display="flex",Le.style.alignItems="center",Le.style.justifyContent="center",Le.style.color="#fff",Le.style.fontSize="16px",Le.style.fontWeight="bold",Le.style.borderRadius="50%",Le.style.textTransform="uppercase",Le.innerText=hn(kt),it.replaceChild(Le,Ze.target)}}):m.jsx(Ka,{username:((Re=F.author)==null?void 0:Re.username)||d.username,size:"40px",className:"message-avatar"}),m.jsx("div",{className:"message-author-info",children:m.jsx("span",{className:"message-author",children:((ve=F.author)==null?void 0:ve.username)||d.username})}),m.jsx("span",{className:"message-timestamp-right",children:Mu(F.createdAt)})]}),m.jsxs("div",{className:"message-content-square",children:[F.image&&m.jsx("img",{src:F.image,alt:"Message",className:"message-image"}),m.jsx("p",{className:"message-text-bold",children:Tu(F.text)})]}),m.jsxs("div",{className:"message-actions",children:[m.jsxs("div",{className:"likes-count",children:[m.jsx(yr,{className:`heart-icon ${F.likedByCurrentUser?"liked-by-user":""}`})," ",F.likesCount||0]}),m.jsxs("div",{className:"message-action-buttons",children:[F.location?m.jsxs("button",{className:"location-button",onClick:()=>alert(`Location: ${F.location.latitude.toFixed(6)}, ${F.location.longitude.toFixed(6)}`),children:[m.jsx($a,{className:"location-icon"})," View Location"]}):m.jsx("div",{className:"location-placeholder"}),xe&&m.jsxs("button",{className:"delete-button",onClick:()=>handleDeleteMessage(F._id),"aria-label":"Delete post",children:[m.jsx(Ng,{className:"delete-icon"})," Delete"]})]})]})]},F._id)})}),me&&m.jsx("div",{className:"load-more-container",children:m.jsx("button",{className:"load-more-button",onClick:Pi,disabled:le,children:le?"Loading...":"Load More Updates"})})]})}),et==="likes"&&m.jsxs("div",{className:"user-messages-section",children:[m.jsxs("h3",{className:"section-title",children:["Messages ",d.username," Liked"]}),ne?m.jsx("div",{className:"loading-messages",children:"Loading liked messages..."}):H.length===0?m.jsx("p",{className:"no-messages",children:xe?"You haven't liked any messages yet.":`${d.username} hasn't liked any messages yet.`}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"user-messages-list instagram-style",children:H.map(F=>{var te;return m.jsxs("div",{className:"user-message-item facebook-style",children:[m.jsxs("div",{className:"message-header",children:[(te=F.author)!=null&&te.profilePicture?m.jsx("img",{src:F.author.profilePicture,alt:`${F.author.username}'s avatar`,className:"message-avatar",onError:I=>{const ye=F.author.username,Re=I.target.parentNode,ve=document.createElement("div");ve.className="avatar-placeholder message-avatar";function Ze(it){if(!it)return"?";const Le=it.split(/[\s_.-]+/);return Le.length===1?it.substring(0,2).toUpperCase():(Le[0][0]+Le[Math.min(Le.length-1,1)][0]).toUpperCase()}function kt(it){if(!it)return"#6c757d";const Le=it.split("").reduce((ts,Ea)=>Ea.charCodeAt(0)+((ts<<5)-ts),0),hn=["#2563EB","#059669","#DC2626","#D97706","#7C3AED","#DB2777","#4338CA","#059669","#0891B2","#EA580C"];return hn[Math.abs(Le)%hn.length]}ve.style.backgroundColor=kt(ye),ve.style.width="40px",ve.style.height="40px",ve.style.display="flex",ve.style.alignItems="center",ve.style.justifyContent="center",ve.style.color="#fff",ve.style.fontSize="16px",ve.style.fontWeight="bold",ve.style.borderRadius="50%",ve.style.textTransform="uppercase",ve.innerText=Ze(ye),Re.replaceChild(ve,I.target)}}):m.jsx(Ka,{username:F.author.username,size:"40px",className:"message-avatar"}),m.jsx("div",{className:"message-author-info",children:m.jsx("span",{className:"message-author",onClick:()=>f(`/profile/${F.author.username}`),style:{cursor:"pointer"},children:F.author.username})}),m.jsx("span",{className:"message-timestamp-right",children:Mu(F.createdAt)})]}),m.jsxs("div",{className:"message-content-square",children:[F.image&&m.jsx("img",{src:F.image,alt:"Message",className:"message-image"}),m.jsx("p",{className:"message-text-bold",children:Tu(F.text)})]}),m.jsxs("div",{className:"message-actions",children:[m.jsxs("div",{className:"likes-count",children:[m.jsx(yr,{className:`heart-icon ${F.likedByCurrentUser||xe&&et==="likes"?"liked-by-user":""}`})," ",F.likesCount||0]}),F.location&&F.location.latitude&&F.location.longitude?m.jsxs("button",{className:"location-button",onClick:()=>alert(`Location: ${F.location.latitude.toFixed(6)}, ${F.location.longitude.toFixed(6)}`),children:[m.jsx($a,{className:"location-icon"})," View Location"]}):m.jsx("div",{className:"location-placeholder"})]})]},F.id)})}),At&&m.jsx("div",{className:"load-more-container",children:m.jsx("button",{className:"load-more-button",onClick:handleLoadMoreLikedMessages,disabled:ae,children:ae?"Loading...":"Load More Likes"})})]})]})]})]})})})]})};Mr.propTypes={user:P.shape({username:P.string,email:P.string,profilePicture:P.string,coverColor:P.string,bio:P.string,darkMode:P.bool,geolocationEnabled:P.bool,followersCount:P.number,followingCount:P.number,isOnline:P.bool}),onlineUsers:P.object,isDarkMode:P.bool,toggleDarkMode:P.func};Mr.defaultProps={user:null,onlineUsers:{},isDarkMode:!1,toggleDarkMode:null};const Vg=({user:s,onlineUsers:a,messages:l,handleSocketMessage:r,isConnected:c,connectionError:f,handleLogout:h,userLocation:y,isDarkMode:d,toggleDarkMode:p,notifications:w,onClearNotifications:E,isLoading:M,canUserSendMessage:R,getTimeRemainingBeforeNextMessage:x})=>{const[T,_]=b.useState(!1),[j,$]=b.useState(!1),[Y,ie]=b.useState(0),[ee,le]=b.useState(null),he=()=>_(!1),pe=()=>{$(!1),ee&&(clearInterval(ee),le(null))},se=Ae=>{const xe=Math.floor(Ae/6e4),Te=Math.floor(Ae%6e4/1e3);return`${xe}:${Te<10?"0":""}${Te}`},me=()=>{if(R())_(!0);else{const Ae=x();ie(Ae),$(!0);const xe=setInterval(()=>{ie(Te=>{const _e=Math.max(0,Te-1e3);return _e<=0?(clearInterval(xe),$(!1),0):_e})},1e3);le(xe)}},ze=async(Ae,xe)=>{const Te=await r(Ae,xe);if(Te&&Te.error){const _e=Te.timeRemaining||x();ie(_e),$(!0),he();const W=setInterval(()=>{ie(ce=>{const re=Math.max(0,ce-1e3);return re<=0?(clearInterval(W),$(!1),0):re})},1e3);return le(W),!1}return he(),!0};return b.useEffect(()=>()=>{ee&&clearInterval(ee)},[ee]),m.jsxs("div",{className:`app ${d?"dark-mode":""}`,children:[m.jsx(Rg,{onLogout:h,isDarkMode:d,toggleDarkMode:p,notifications:w,onClearNotifications:E}),f&&m.jsx("div",{className:"connection-error",children:f}),m.jsxs(Hm,{children:[m.jsx(ga,{path:"/profile",element:m.jsx(Mr,{user:s,onlineUsers:a,isDarkMode:d,toggleDarkMode:p})}),m.jsx(ga,{path:"/profile/:username",element:m.jsx(Mr,{onlineUsers:a,isDarkMode:d,toggleDarkMode:p})}),m.jsx(ga,{path:"/auth",element:m.jsx(qm,{to:"/",replace:!0})}),m.jsx(ga,{path:"/",element:m.jsxs(m.Fragment,{children:[m.jsx("main",{className:`app-main ${d?"dark-mode":""}`,children:m.jsx("div",{className:`tab-content ${d?"dark-mode":""}`,children:m.jsx(Yu,{messages:l,currentUsername:s?s.username:null,onlineUsers:a,userLocation:y,isDarkMode:d,isLoading:M})})}),m.jsx(Vu,{onClick:me,isDarkMode:d}),m.jsx(Zu,{isOpen:T,onClose:he,onShareUpdate:ze,disabled:!c||!s,placeholder:"What's happening around?",isDarkMode:d}),j&&m.jsx("div",{className:"message-modal-overlay",onClick:pe,children:m.jsxs("div",{className:`message-modal ${d?"dark-mode":""}`,onClick:Ae=>Ae.stopPropagation(),children:[m.jsxs("div",{className:"message-modal-header",children:[m.jsx("h3",{children:"Please Wait"}),m.jsx("button",{className:"close-button",onClick:pe,children:""})]}),m.jsxs("div",{className:"message-modal-form",style:{padding:"20px",textAlign:"center"},children:[m.jsx("p",{children:"You can only share an update once every 30 minutes."}),m.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",margin:"20px 0",color:d?"var(--dark-text)":"var(--text-color)"},children:se(Y)}),m.jsx("p",{children:"Time remaining before you can share another update."})]}),m.jsx("div",{className:"message-modal-footer",children:m.jsx("button",{type:"button",className:"cancel-button",onClick:pe,style:{margin:"0 auto"},children:"Close"})})]})})]})})]})]})};Vg.propTypes={user:P.object,onlineUsers:P.object,messages:P.array,handleSocketMessage:P.func.isRequired,isConnected:P.bool,connectionError:P.string,handleLogout:P.func.isRequired,userLocation:P.object,isDarkMode:P.bool.isRequired,toggleDarkMode:P.func.isRequired,notifications:P.array,onClearNotifications:P.func,isLoading:P.bool,canUserSendMessage:P.func,getTimeRemainingBeforeNextMessage:P.func};const Zg="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3clinearGradient%20id='logoGradient'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%231da1f2'%20/%3e%3cstop%20offset='100%25'%20stop-color='%236c5ce7'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M16%202C10.48%202%206%206.48%206%2012C6%2019.5%2016%2030%2016%2030C16%2030%2026%2019.5%2026%2012C26%206.48%2021.52%202%2016%202ZM16%2016C13.79%2016%2012%2014.21%2012%2012C12%209.79%2013.79%208%2016%208C18.21%208%2020%209.79%2020%2012C20%2014.21%2018.21%2016%2016%2016Z'%20fill='url(%23logoGradient)'/%3e%3ccircle%20cx='16'%20cy='12'%20r='4'%20fill='%23FFFFFF'/%3e%3c/svg%3e",Qu=({onLoginSuccess:s,isDarkMode:a})=>{const[l,r]=b.useState(""),[c,f]=b.useState(""),[h,y]=b.useState(""),[d,p]=b.useState(!1),w=async E=>{if(E.preventDefault(),console.log("Login form submitted with username:",l),!l.trim()||!c.trim()){y("Please enter both username and password");return}p(!0),y("");try{console.log("Calling authService.login...");const M=await dt.login({credential:l,password:c});console.log("Login result:",M),M.success?(console.log("Login successful, calling onLoginSuccess with user:",M.data.user),s(M.data.user)):(console.error("Login failed:",M.message),y(M.message||"Login failed"))}catch(M){console.error("Error during login:",M),y(M.message||"An error occurred during login")}finally{p(!1)}};return m.jsxs("form",{className:`auth-form ${a?"dark-mode":""}`,onSubmit:w,children:[h&&m.jsx("div",{className:"form-error",children:h}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"username",children:"Username"}),m.jsx("input",{type:"text",id:"username",className:"form-control",value:l,onChange:E=>r(E.target.value),disabled:d,autoComplete:"username"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"password",children:"Password"}),m.jsx("input",{type:"password",id:"password",className:"form-control",value:c,onChange:E=>f(E.target.value),disabled:d,autoComplete:"current-password"})]}),m.jsx("button",{type:"submit",className:"auth-button",disabled:d,children:d?"Logging in...":"Login"})]})};Qu.propTypes={onLoginSuccess:P.func.isRequired,isDarkMode:P.bool};Qu.defaultProps={isDarkMode:!1};const Fu=({onRegisterSuccess:s,onCancel:a,isDarkMode:l})=>{const[r,c]=b.useState(""),[f,h]=b.useState(""),[y,d]=b.useState(""),[p,w]=b.useState(""),[E,M]=b.useState({}),[R,x]=b.useState(!1),[T,_]=b.useState(""),j=()=>{const Y={};return r.trim()?r.length<3&&(Y.username="Username must be at least 3 characters"):Y.username="Username is required",f.trim()?/\S+@\S+\.\S+/.test(f)||(Y.email="Email is invalid"):Y.email="Email is required",y?y.length<6&&(Y.password="Password must be at least 6 characters"):Y.password="Password is required",y!==p&&(Y.confirmPassword="Passwords do not match"),M(Y),Object.keys(Y).length===0},$=async Y=>{if(Y.preventDefault(),!!j()){x(!0),_("");try{const ie=await dt.register({username:r,email:f,password:y});ie.success?s():_(ie.message||"Registration failed")}catch(ie){_(ie.message||"An error occurred during registration")}finally{x(!1)}}};return m.jsxs("form",{className:`auth-form ${l?"dark-mode":""}`,onSubmit:$,children:[T&&m.jsx("div",{className:"form-error",children:T}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"username",children:"Username"}),m.jsx("input",{type:"text",id:"username",className:"form-control",value:r,onChange:Y=>c(Y.target.value),disabled:R}),E.username&&m.jsx("div",{className:"error-message",children:E.username})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{type:"email",id:"email",className:"form-control",value:f,onChange:Y=>h(Y.target.value),disabled:R}),E.email&&m.jsx("div",{className:"error-message",children:E.email})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"password",children:"Password"}),m.jsx("input",{type:"password",id:"password",className:"form-control",value:y,onChange:Y=>d(Y.target.value),disabled:R}),E.password&&m.jsx("div",{className:"error-message",children:E.password})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),m.jsx("input",{type:"password",id:"confirmPassword",className:"form-control",value:p,onChange:Y=>w(Y.target.value),disabled:R}),E.confirmPassword&&m.jsx("div",{className:"error-message",children:E.confirmPassword})]}),m.jsx("button",{type:"submit",className:"auth-button",disabled:R,children:R?"Registering...":"Register"})]})};Fu.propTypes={onRegisterSuccess:P.func.isRequired,onCancel:P.func.isRequired,isDarkMode:P.bool};Fu.defaultProps={isDarkMode:!1};const Tr=({onAuthSuccess:s,isDarkMode:a})=>{const[l,r]=b.useState("login"),[c,f]=b.useState(!1),h=Pa();return b.useEffect(()=>{new URLSearchParams(h.search).get("tab")==="register"&&r("register")},[h.search]),b.useEffect(()=>{const y=()=>{f(window.scrollY>20)};return window.addEventListener("scroll",y),y(),()=>window.removeEventListener("scroll",y)},[]),m.jsxs("div",{className:`auth-container ${a?"dark-mode":""}`,children:[m.jsx("div",{className:`auth-navbar ${c?"scrolled":""}`,children:m.jsxs("div",{className:"auth-navbar-content",children:[m.jsx(Yi,{to:"/",className:"back-to-home",children:" Home"}),m.jsxs("div",{className:"auth-logo",children:[m.jsx("img",{src:Zg,alt:"Gringo Logo"}),m.jsx("h1",{children:"Gringo"})]})]})}),m.jsxs("div",{className:"auth-content",children:[m.jsxs("div",{className:"auth-tabs",children:[m.jsx("button",{className:`auth-tab ${l==="login"?"active":""}`,onClick:()=>r("login"),children:"Login"}),m.jsx("button",{className:`auth-tab ${l==="register"?"active":""}`,onClick:()=>r("register"),children:"Register"})]}),l==="login"?m.jsx(Qu,{onLoginSuccess:s,isDarkMode:a}):m.jsx(Fu,{onRegisterSuccess:()=>r("login"),onCancel:()=>r("login"),isDarkMode:a})]})]})};Tr.propTypes={onAuthSuccess:P.func.isRequired,isDarkMode:P.bool};Tr.defaultProps={isDarkMode:!1};const XS=()=>{const[s,a]=b.useState(navigator.onLine);return b.useEffect(()=>{const l=()=>a(!0),r=()=>a(!1);return window.addEventListener("online",l),window.addEventListener("offline",r),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",r)}},[]),s?null:m.jsx("div",{className:"offline-fallback",children:m.jsxs("div",{className:"offline-content",children:[m.jsx("h2",{children:"You're offline"}),m.jsx("p",{children:"Please check your internet connection to continue using Gringo."}),m.jsx("div",{className:"offline-icon",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",fill:"currentColor",viewBox:"0 0 16 16",children:m.jsx("path",{d:"M10.706 3.294A12.545 12.545 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c.63 0 1.249.05 1.852.148l.854-.854zM8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065 8.448 8.448 0 0 1 4.577-1.336c.293 0 .582.014.866.042l.895-.895A7.444 7.444 0 0 0 8 6Zm-2.65 5.625a2.53 2.53 0 0 1 1.337-.694l1.313-1.313a2.52 2.52 0 0 0-.546-.06c-1.28 0-2.316.952-2.316 2.128a2.13 2.13 0 0 0 .212.939l.002-.002zM9 8.5a1.5 1.5 0 0 1 1.5-1.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1A1.5 1.5 0 0 1 9 8.5zm1.5-1.5A1.5 1.5 0 0 0 9 8.5v1A1.5 1.5 0 0 0 10.5 11h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H11zM5 0a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5A4.5 4.5 0 0 0 .5 5.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5A5.5 5.5 0 0 1 5 0z"})})})]})})},QS=()=>{const[s,a]=b.useState(null),[l,r]=b.useState(!1);b.useEffect(()=>{const h=d=>{d.preventDefault(),a(d),r(!0)};return window.matchMedia("(display-mode: standalone)").matches||window.addEventListener("beforeinstallprompt",h),()=>{window.removeEventListener("beforeinstallprompt",h)}},[]);const c=async()=>{if(!s)return;s.prompt();const{outcome:h}=await s.userChoice;console.log(`User response to the install prompt: ${h}`),a(null),r(!1)},f=()=>{r(!1)};return l?m.jsxs("div",{className:"pwa-install-prompt",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Install GringoX"}),m.jsx("p",{children:"Install this app on your device for the best experience"})]}),m.jsxs("div",{children:[m.jsx("button",{onClick:c,children:"Install"}),m.jsx("button",{className:"close-btn",onClick:f,children:""})]})]}):null},FS=()=>{const s=b.useRef(null);return b.useEffect(()=>{const a=s.current,l=a.getContext("2d");let r,c=[];const f=()=>{a.width=a.clientWidth,a.height=a.clientHeight,h()},h=()=>{const d=Math.floor(a.width*a.height/15e3);c=Array(d).fill().map(()=>({x:Math.random()*a.width,y:Math.random()*a.height,radius:3+Math.random()*3,color:`rgba(29, 161, 242, ${.3+Math.random()*.7})`,speedX:Math.random()*2-1,speedY:Math.random()*2-1,pulseSpeed:.02+Math.random()*.04,pulseDir:1,pulseSize:0}))},y=()=>{l.clearRect(0,0,a.width,a.height),l.fillStyle="rgba(29, 161, 242, 0.05)",l.fillRect(0,0,a.width,a.height),c.forEach(d=>{d.x+=d.speedX,d.y+=d.speedY,(d.x<0||d.x>a.width)&&(d.speedX*=-1),(d.y<0||d.y>a.height)&&(d.speedY*=-1),d.pulseSize+=d.pulseSpeed*d.pulseDir,d.pulseSize>1?d.pulseDir=-1:d.pulseSize<0&&(d.pulseDir=1),l.beginPath(),l.arc(d.x,d.y,d.radius*(1+d.pulseSize*.5),0,Math.PI*2),l.fillStyle=d.color,l.fill(),c.forEach(p=>{const w=d.x-p.x,E=d.y-p.y,M=Math.sqrt(w*w+E*E);M<100&&(l.beginPath(),l.moveTo(d.x,d.y),l.lineTo(p.x,p.y),l.strokeStyle=`rgba(29, 161, 242, ${.1*(1-M/100)})`,l.stroke())})}),r=requestAnimationFrame(y)};return window.addEventListener("resize",f),f(),y(),()=>{window.removeEventListener("resize",f),cancelAnimationFrame(r)}},[]),m.jsx("canvas",{ref:s,className:"animated-map"})},Za=({icon:s,title:a,description:l})=>m.jsxs("div",{className:"feature-item",children:[m.jsx("div",{className:"feature-icon",children:s}),m.jsx("h3",{children:a}),m.jsx("p",{children:l})]});Za.propTypes={icon:P.node.isRequired,title:P.string.isRequired,description:P.string.isRequired};const $u=({isDarkMode:s})=>{const[a,l]=b.useState(!1);return b.useEffect(()=>{const r=()=>{l(window.scrollY>20)};return window.addEventListener("scroll",r),r(),()=>window.removeEventListener("scroll",r)},[]),m.jsxs("div",{className:`landing-page ${s?"dark-mode":""}`,children:[m.jsxs("header",{className:`landing-header ${a?"scrolled":""}`,children:[m.jsxs("div",{className:"landing-logo",children:[m.jsx("img",{src:Zg,alt:"Gringo Logo"}),m.jsx("h1",{children:"Gringo"})]}),m.jsxs("nav",{className:"landing-nav",children:[m.jsx(Yi,{to:"/auth",className:"auth-button login-button",children:"Login"}),m.jsx(Yi,{to:"/auth?tab=register",className:"auth-button register-button",children:"Sign Up"})]})]}),m.jsxs("div",{className:"content-container",children:[m.jsxs("section",{className:"hero-section",children:[m.jsxs("div",{className:"hero-content",children:[m.jsx("h1",{children:"Discover what's happening around you, right now"}),m.jsx("p",{children:"Gringo connects you with real-time updates and experiences from people nearby. Share moments, discover local gems, and connect with your community."}),m.jsx(Yi,{to:"/auth?tab=register",className:"hero-button",children:"Get Started"})]}),m.jsx("div",{className:"hero-visual",children:m.jsx(FS,{})})]}),m.jsxs("section",{className:"features-section",children:[m.jsx("h2",{children:"Why Choose Gringo?"}),m.jsxs("div",{className:"features-grid",children:[m.jsx(Za,{icon:"",title:"Real-time Geolocation",description:"Discover what's happening near you right now with precise location tracking."}),m.jsx(Za,{icon:"",title:"Mobile-First Experience",description:"Designed for on-the-go usage with a responsive interface that works on any device."}),m.jsx(Za,{icon:"",title:"Instant Notifications",description:"Stay updated with real-time alerts about activity in your area."}),m.jsx(Za,{icon:"",title:"Connect Locally",description:"Build connections with people and places in your community."}),m.jsx(Za,{icon:"",title:"Rich Media Sharing",description:"Share photos and videos of what's happening around you."}),m.jsx(Za,{icon:"",title:"Privacy Controls",description:"Choose how and when to share your location with customizable privacy settings."})]})]}),m.jsx("section",{className:"cta-section",children:m.jsxs("div",{className:"cta-content",children:[m.jsx("h2",{children:"Ready to explore your world?"}),m.jsx("p",{children:"Join thousands of users already discovering and sharing exciting moments around them."}),m.jsx(Yi,{to:"/auth?tab=register",className:"cta-button",children:"Create Your Account"})]})}),m.jsx("footer",{className:"landing-footer",children:m.jsxs("div",{className:"footer-content",children:[m.jsxs("p",{children:[" ",new Date().getFullYear()," Gringo. All rights reserved."]}),m.jsxs("div",{className:"footer-links",children:[m.jsx("a",{href:"#",children:"Privacy Policy"}),m.jsx("a",{href:"#",children:"Terms of Service"}),m.jsx("a",{href:"#",children:"Contact Us"})]})]})})]})]})};$u.propTypes={isDarkMode:P.bool};$u.defaultProps={isDarkMode:!1};const $S=s=>{console.log("Creating fallback location from messages array");const a=s.filter(l=>l.location&&l.location.latitude&&l.location.longitude);if(a.length>0){console.log("Found location in existing messages");const l=a[a.length-1];return{latitude:l.location.latitude,longitude:l.location.longitude,fuzzyLocation:!0}}return console.log("No message locations found, using default location"),{latitude:40.7128,longitude:-74.006,fuzzyLocation:!0,error:!1}},KS=s=>{if(!s)return null;const a=(Math.random()-.5)*.003,l=(Math.random()-.5)*.003;return{latitude:s.latitude+a,longitude:s.longitude+l,fuzzyLocation:!0}},JS=(s,a=!0)=>{if(!s)return null;if(!a)return{latitude:s.latitude,longitude:s.longitude,fuzzyLocation:!1};const l=(Math.random()-.5)*.01,r=(Math.random()-.5)*.01;return{latitude:s.latitude+l,longitude:s.longitude+r,fuzzyLocation:!0}},PS=(s,a)=>{const l=s.filter(c=>new Date(c.timestamp)>=a),r=s.length-l.length;return r>0&&console.log(`Removed ${r} old messages`),l},WS=s=>s.sender==="System"||s.sender==="Server"?null:{id:Date.now(),sender:s.sender,preview:s.messagePreview,timestamp:s.timestamp||new Date,read:!1,type:"message",data:s};function IS(){const[s,a]=b.useState(null),[l,r]=b.useState(!1),[c,f]=b.useState([]),[h,y]=b.useState({}),[d,p]=b.useState(!1),[w,E]=b.useState(null),[M,R]=b.useState(null),[x,T]=b.useState(!1),[_,j]=b.useState([]),[$,Y]=b.useState(Date.now()),{isOffline:ie}=b.useContext(Xu),ee=b.useRef(c),le=b.useRef(h),he=b.useRef(s),pe=b.useRef(_),se=b.useCallback(()=>{Y(Date.now())},[]),me=b.useRef(null),ze=b.useRef(se);b.useEffect(()=>{ee.current=c,le.current=h,he.current=s,pe.current=_,ze.current=se},[c,h,s,_,se]);const Ae=b.useCallback(U=>{window.location.href=`/profile/${U}`},[]),xe=b.useCallback((U,H,L,ne=new Date,X=null,ae=null,fe=null)=>{if(U==="System"||U==="Server"){console.log(`System message: ${H}`);return}f(Nt=>{const At={sender:U,content:H,timestamp:ne,isReceived:L,location:X||null,dbId:ae||null,image:fe||null},dn=[...Nt,At].sort((_t,Vt)=>new Date(Vt.timestamp)-new Date(_t.timestamp)),et=new Date;return et.setDate(et.getDate()-1),PS(dn,et)})},[]),Te=b.useCallback(async()=>{if(!s)return;if(console.log(" Fetching messages from database - preserving map state"),!localStorage.getItem("token")){console.error("Authentication token missing, cannot fetch messages");return}r(!0);try{const H=await bt.getAllMessagesWithAutoPagination(null,s.username,30);if(r(!1),!H.success){console.error("Error fetching messages:",H.message||"Unknown error");return}if(!H.messages||!Array.isArray(H.messages)){console.error("Invalid response format when fetching messages:",H);return}console.log(`Fetched ${H.messages.length} messages within the last 30 minutes`);const L=H.messages.map(ne=>({sender:ne.senderUsername,content:ne.text,isReceived:!0,timestamp:new Date(ne.createdAt),location:ne.location,dbId:ne._id,likesCount:ne.likes?ne.likes.length:0,likedByCurrentUser:ne.likedByCurrentUser||!1,image:ne.image}));Q(L),f(ne=>{const X=new Map;ne.filter(Se=>Se.dbId).forEach(Se=>X.set(Se.dbId,Se));const ae=new Map;L.forEach(Se=>{Se.dbId&&ae.set(Se.dbId,Se)});const fe=ne.filter(Se=>!Se.dbId);return L.forEach(Se=>{fe.push(Se)}),console.log(`Updated messages: ${fe.length} total (${L.length} from server, ${fe.length-L.length} local)`),fe})}catch(H){console.error("Error fetching messages:",H),r(!1),H.response&&(H.response.status===401||H.response.status===403)&&(await dt.refreshToken()?Te():(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"))}},[s,Q]);b.useEffect(()=>{me.current=Te},[Te]),b.useEffect(()=>((async()=>{if(!s){console.log(" Socket: User not logged in, skipping server check");return}console.log(" Socket: Checking server status before connecting");try{const H={onConnect:()=>{console.log(" Socket: Connected successfully"),p(!0),E(null)},onConnectError:L=>{console.error(" Socket: Connection error:",L),p(!1),E("Could not connect to server. Retrying...")},onDisconnect:L=>{console.log(" Socket: Disconnected, reason:",L),p(!1)},onAuthenticated:L=>{console.log(" Socket: Authentication successful:",L),Te()},onAuthenticationFailed:L=>{console.error(" Socket: Authentication failed:",L),E("Authentication failed. Please log in again."),L&&L.error==="Invalid authentication token"&&W()},onWelcome:L=>{console.log(" Socket: Received welcome message:",L)},onNewMessage:L=>{console.log(" Socket: Received new message event:",L)},onRefreshMessages:()=>{console.log(" Socket: Processing refreshMessages signal - updating data"),me.current&&me.current()},onUserStatusChange:L=>{L&&L.username&&y(ne=>{const X={...ne};return X[L.username]=L.isOnline,X})},onMessageLiked:L=>{L&&L.messageId&&(f(ne=>ne.map(X=>X.dbId===L.messageId?{...X,likesCount:L.likesCount}:X)),s&&L.likedByUsername===s.username&&Y(Date.now()))},onMessageUnliked:L=>{L&&L.messageId&&(f(ne=>ne.map(X=>X.dbId===L.messageId?{...X,likesCount:L.likesCount}:X)),s&&L.unlikedByUsername===s.username&&Y(Date.now()))},onMessageDeleted:L=>{console.log(" Socket: Message deleted",L),L&&L.messageId&&(f(ne=>ne.filter(X=>X.dbId!==L.messageId)),Y(Date.now()))}};console.log(" Socket: Connecting to socket with username:",s.username),cn.connect(H,s.username),Te()}catch(H){console.error(" Socket: Error connecting to socket:",H),E("Error connecting to server. Please try again later."),p(!1)}})(),()=>{console.log(" Socket: Cleaning up socket connection"),cn.disconnect()}),[s,Ae]),b.useEffect(()=>{if(!s||!cn.isFallbackMode())return;console.log(" Socket: In fallback mode, setting up periodic server checks");const U=setInterval(async()=>{console.log(" Socket: Fallback mode - checking if server is back up");try{(await cn.checkServerStatus()).success?(console.log(" Socket: Server is now reachable, will exit fallback mode"),clearInterval(U),E(null),cn.disableFallbackMode()):console.log(" Socket: Server still unreachable, staying in fallback mode")}catch(H){console.error(" Socket: Error during fallback mode server check:",H)}},3e4);return()=>{clearInterval(U)}},[s,cn.isFallbackMode()]),b.useEffect(()=>{const U=async()=>{console.log(" checkAuth: Starting authentication check"),r(!0);try{console.log(" checkAuth: Calling authService.checkLoginStatus()");const L=await dt.checkLoginStatus();console.log(" checkAuth: Auth status result:",L?"User is logged in":"No user data"),L?(console.log(" checkAuth: About to call handleAuthSuccess with shouldRedirect=false"),_e(L,!1),console.log(" checkAuth: After handleAuthSuccess call")):(console.log(" checkAuth: Setting user to null - not authenticated"),a(null))}catch(L){console.error(" checkAuth: Error during authentication check:",L),a(null)}finally{r(!1)}};console.log(" App: Running initial authentication check"),U();const H=localStorage.getItem("darkMode");if(H!==null)T(H==="true");else{const L=window.matchMedia("(prefers-color-scheme: dark)").matches;T(L)}},[]),b.useEffect(()=>{const U=()=>{console.log(" App: Received fetchMessages request from MapView"),Te()};return window.addEventListener("map:fetchMessages",U),()=>{window.removeEventListener("map:fetchMessages",U)}},[]),b.useEffect(()=>{const U=()=>{if(console.log("Getting user location..."),!navigator.geolocation){console.log("Geolocation not supported by this browser"),R(()=>({latitude:40.7128,longitude:-74.006,fuzzyLocation:!0,error:"Geolocation not supported"}));return}const ne={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5};navigator.geolocation.getCurrentPosition(X=>{console.log("High accuracy position succeeded");const ae={latitude:X.coords.latitude,longitude:X.coords.longitude,fuzzyLocation:!1,error:null,accuracy:X.coords.accuracy,timestamp:X.timestamp};console.log("Setting user location:",ae),R(ae)},()=>{console.log("High accuracy position failed, trying low accuracy..."),navigator.geolocation.getCurrentPosition(X=>{console.log("Low accuracy position succeeded");const ae={latitude:X.coords.latitude,longitude:X.coords.longitude,fuzzyLocation:!1,error:null,accuracy:X.coords.accuracy,timestamp:X.timestamp};console.log("Setting user location:",ae),R(ae)},X=>{console.log("Geolocation error:",X.message),R({latitude:40.7128,longitude:-74.006,fuzzyLocation:!0,error:X.message})},{enableHighAccuracy:!1,timeout:1e4,maximumAge:6e5})},ne)};U();const H=setInterval(()=>{s&&U()},3e5),L=()=>{document.visibilityState==="visible"&&(console.log("App in foreground, requesting location"),U())};return document.addEventListener("visibilitychange",L),()=>{clearInterval(H),document.removeEventListener("visibilitychange",L)}},[s]);const _e=(U,H=!1)=>{console.log(" handleAuthSuccess: Called with userData:",U,"shouldRedirect:",H),a(U.user||U);const L=U.user||U;console.log(" handleAuthSuccess: Setting user state with:",L),L&&L.darkMode!==void 0&&T(L.darkMode),console.log(" handleAuthSuccess: Fetching messages after authentication"),setTimeout(()=>{Te()},500),H?(console.log(" handleAuthSuccess: shouldRedirect is true, navigating to homepage"),window.location.href="/"):console.log(" handleAuthSuccess: shouldRedirect is false, not redirecting")},W=()=>{cn.disconnect(),dt.logout(),a(null),f([]),y({}),localStorage.setItem("darkMode",x),window.location.href="/auth"},ce=()=>{const U=!x;T(U),localStorage.setItem("darkMode",U),s&&re(U)},re=async U=>{try{(await dt.updateProfile({darkMode:U})).success||console.error("Failed to update dark mode preference")}catch(H){console.error("Error updating dark mode preference:",H)}};b.useEffect(()=>{x?(document.documentElement.classList.add("dark-mode"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark-mode"),document.body.classList.remove("dark-mode")),localStorage.setItem("darkMode",x)},[x]);const V=()=>{j(U=>[])};b.useEffect(()=>{if(!s){console.log(" Periodic refresh: User not logged in, skipping message refresh setup");return}console.log(" Periodic refresh: Setting up periodic message refresh");const U=setInterval(()=>{console.log(" Periodic refresh: Refreshing messages"),Te()},6e4);return()=>{console.log(" Periodic refresh: Cleaning up message refresh interval"),clearInterval(U)}},[s]);const v=()=>{if(!s||!c||c.length===0)return!0;const U=c.filter(fe=>fe.sender===s.username);if(U.length===0)return!0;const H=U.reduce((fe,Se)=>new Date(fe.timestamp)>new Date(Se.timestamp)?fe:Se,U[0]),L=30*60*1e3,ne=new Date,X=new Date(H.timestamp);return ne-X>=L},O=()=>{if(!s||!c||c.length===0)return 0;const U=c.filter(fe=>fe.sender===s.username);if(U.length===0)return 0;const H=U.reduce((fe,Se)=>new Date(fe.timestamp)>new Date(Se.timestamp)?fe:Se,U[0]),L=30*60*1e3,ne=new Date,X=new Date(H.timestamp),ae=ne-X;return Math.max(0,L-ae)},K=b.useCallback(async(U,H=null)=>{if(!d)return console.error("Cannot send message while disconnected"),{error:"Cannot send message while disconnected"};if(!s)return console.error("Cannot send message while not logged in"),{error:"Cannot send message while not logged in"};if(!v())return console.log("User attempted to send message before 30-minute cooldown period"),{error:"You can only send a message every 30 minutes",timeRemaining:O()};const L=Date.now();let ne=!0;H&&H.get&&(ne=H.get("fuzzyLocation")==="true");let X=M;if(!X||X.error?(X=$S(c),console.log("Using fallback location:",X)):X.fuzzyLocation?(X=KS(X),console.log("Using varied location:",X)):(X=JS(X,ne),console.log(ne?"Using fuzzy location for privacy:":"Using exact location:",X)),H)try{console.log("Sending message with image via API");const ae=await bt.sendMessageWithImage(U,H,X);ae.success&&(console.log("Message with image sent successfully:",ae),ae.messageId&&ae.imageUrl&&xe(s.username,U,!1,L,X,ae.messageId,ae.imageUrl))}catch(ae){console.error("Error sending message with image:",ae),xe("Error","Failed to send your message with image. Please try again.",!0,L)}else try{console.log(" Sending text message via API as user:",s.username);const ae=await bt.sendMessage(U,s.username,X);ae.success?(console.log("Message sent successfully via API:",ae),xe(s.username,U,!1,L,X,ae.messageId)):(console.error("Failed to send message:",ae),xe("Error","Failed to send your message. Please try again.",!0,L))}catch(ae){console.error("Error sending text message:",ae),xe("Error","Failed to send your message. Please try again.",!0,L)}return{success:!0}},[d,M,c,s,xe,v,O]);b.useEffect(()=>{if(s&&cn.areNotificationsSupported()){const U=sessionStorage.getItem("notificationPermissionJustGranted");if(Notification.permission==="granted"&&U){const H=WS({sender:s.username,messagePreview:"Notifications enabled successfully!",timestamp:new Date});H&&j(L=>[...L,H]),sessionStorage.removeItem("notificationPermissionJustGranted")}else Notification.permission==="default"&&cn.requestNotificationPermission().then(H=>{}).catch(H=>{console.error("Error requesting notification permission:",H)})}},[s]);const Q=b.useCallback(U=>{if(!(!U||!Array.isArray(U)||U.length===0))try{const H=localStorage.getItem("cachedMessages");let L=[];H&&(L=JSON.parse(H));const ne=new Set(L.filter(Se=>Se.dbId||Se.id).map(Se=>Se.dbId||Se.id)),X=U.filter(Se=>{const Nt=Se.dbId||Se.id;return Nt&&!ne.has(Nt)});if(X.length===0)return;const fe=[...L,...X].slice(-100);localStorage.setItem("cachedMessages",JSON.stringify(fe)),console.log(`Cached ${X.length} new messages (total: ${fe.length})`)}catch(H){console.error("Error caching messages:",H)}},[]);return ie?m.jsx(XS,{messages:c,isDarkMode:x}):!s&&!l?(console.log(" Rendering Auth/Landing screen because user is null and not loading"),m.jsx(Yh,{children:m.jsxs("div",{className:`app ${x?"dark-mode":""}`,children:[m.jsx(QS,{isDarkMode:x}),m.jsxs(Hm,{children:[m.jsx(ga,{path:"/",element:m.jsx($u,{isDarkMode:x})}),m.jsx(ga,{path:"/auth/*",element:m.jsx(Tr,{onAuthSuccess:U=>{console.log(" Auth component calling handleAuthSuccess with shouldRedirect=true"),_e(U,!0)},isDarkMode:x})}),m.jsx(ga,{path:"*",element:m.jsx(qm,{to:"/auth"})})]})]})})):(console.log(" Rendering main AppContent because user exists:",s==null?void 0:s.username),m.jsx(Yh,{children:m.jsx("div",{className:`app-container ${x?"dark-mode":""}`,children:s?m.jsx(Vg,{user:s,onlineUsers:h,messages:c,handleSocketMessage:K,isConnected:d,connectionError:w,handleLogout:W,userLocation:M,isDarkMode:x,toggleDarkMode:ce,notifications:_,onClearNotifications:V,isLoading:l,canUserSendMessage:v,getTimeRemainingBeforeNextMessage:O}):m.jsx(Tr,{onAuthSuccess:_e,isDarkMode:x,toggleDarkMode:ce})})}))}function eb(s={}){const{immediate:a=!1,onNeedRefresh:l,onOfflineReady:r,onRegistered:c,onRegisteredSW:f,onRegisterError:h}=s;let y,d;const p=async(E=!0)=>{await d};async function w(){if("serviceWorker"in navigator){if(y=await Og(async()=>{const{Workbox:E}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:E}},[]).then(({Workbox:E})=>new E("/sw.js",{scope:"/",type:"classic"})).catch(E=>{h==null||h(E)}),!y)return;y.addEventListener("activated",E=>{(E.isUpdate||E.isExternal)&&window.location.reload()}),y.addEventListener("installed",E=>{E.isUpdate||r==null||r()}),y.register({immediate:a}).then(E=>{f?f("/sw.js",E):c==null||c(E)}).catch(E=>{h==null||h(E)})}}return d=w(),p}const tb=eb({onNeedRefresh(){confirm("New content available. Reload?")&&tb(!0)},onOfflineReady(){console.log("App ready to work offline")}});fy.createRoot(document.getElementById("root")).render(m.jsx(b.StrictMode,{children:m.jsx(Yg,{children:m.jsx(IS,{})})}));export{Nu as g};

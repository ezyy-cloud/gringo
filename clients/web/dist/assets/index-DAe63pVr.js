function ry(s,a){for(var l=0;l<a.length;l++){const o=a[l];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in s)){const f=Object.getOwnPropertyDescriptor(o,c);f&&Object.defineProperty(s,c,f.get?f:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function l(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(c){if(c.ep)return;c.ep=!0;const f=l(c);fetch(c.href,f)}})();function Ou(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pc={exports:{}},Hi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function cy(){if(kh)return Hi;kh=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(o,c,f){var d=null;if(f!==void 0&&(d=""+f),c.key!==void 0&&(d=""+c.key),"key"in c){f={};for(var p in c)p!=="key"&&(f[p]=c[p])}else f=c;return c=f.ref,{$$typeof:s,type:o,key:d,ref:c!==void 0?c:null,props:f}}return Hi.Fragment=a,Hi.jsx=l,Hi.jsxs=l,Hi}var Oh;function uy(){return Oh||(Oh=1,Pc.exports=cy()),Pc.exports}var h=uy(),Kc={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh;function fy(){if(jh)return je;jh=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=S&&T[S]||T["@@iterator"],typeof T=="function"?T:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function A(T,R,X){this.props=T,this.context=R,this.refs=M,this.updater=X||O}A.prototype.isReactComponent={},A.prototype.setState=function(T,R){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,R,"setState")},A.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function U(){}U.prototype=A.prototype;function H(T,R,X){this.props=T,this.context=R,this.refs=M,this.updater=X||O}var G=H.prototype=new U;G.constructor=H,C(G,A.prototype),G.isPureReactComponent=!0;var oe=Array.isArray,$={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function he(T,R,X,W,V,fe){return X=fe.ref,{$$typeof:s,type:T,key:R,ref:X!==void 0?X:null,props:fe}}function re(T,R){return he(T.type,R,void 0,void 0,void 0,T.props)}function ie(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function ue(T){var R={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return R[X]})}var Le=/\/+/g;function Be(T,R){return typeof T=="object"&&T!==null&&T.key!=null?ue(""+T.key):R.toString(36)}function Ae(){}function Te(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Ae,Ae):(T.status="pending",T.then(function(R){T.status==="pending"&&(T.status="fulfilled",T.value=R)},function(R){T.status==="pending"&&(T.status="rejected",T.reason=R)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Ce(T,R,X,W,V){var fe=typeof T;(fe==="undefined"||fe==="boolean")&&(T=null);var ae=!1;if(T===null)ae=!0;else switch(fe){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(T.$$typeof){case s:case a:ae=!0;break;case E:return ae=T._init,Ce(ae(T._payload),R,X,W,V)}}if(ae)return V=V(T),ae=W===""?"."+Be(T,0):W,oe(V)?(X="",ae!=null&&(X=ae.replace(Le,"$&/")+"/"),Ce(V,R,X,"",function(Z){return Z})):V!=null&&(ie(V)&&(V=re(V,X+(V.key==null||T&&T.key===V.key?"":(""+V.key).replace(Le,"$&/")+"/")+ae)),R.push(V)),1;ae=0;var Ee=W===""?".":W+":";if(oe(T))for(var ge=0;ge<T.length;ge++)W=T[ge],fe=Ee+Be(W,ge),ae+=Ce(W,R,X,fe,V);else if(ge=w(T),typeof ge=="function")for(T=ge.call(T),ge=0;!(W=T.next()).done;)W=W.value,fe=Ee+Be(W,ge++),ae+=Ce(W,R,X,fe,V);else if(fe==="object"){if(typeof T.then=="function")return Ce(Te(T),R,X,W,V);throw R=String(T),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return ae}function J(T,R,X){if(T==null)return T;var W=[],V=0;return Ce(T,W,"","",function(fe){return R.call(X,fe,V++)}),W}function ce(T){if(T._status===-1){var R=T._result;R=R(),R.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=R)}if(T._status===1)return T._result.default;throw T._result}var se=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function be(){}return je.Children={map:J,forEach:function(T,R,X){J(T,function(){R.apply(this,arguments)},X)},count:function(T){var R=0;return J(T,function(){R++}),R},toArray:function(T){return J(T,function(R){return R})||[]},only:function(T){if(!ie(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},je.Component=A,je.Fragment=l,je.Profiler=c,je.PureComponent=H,je.StrictMode=o,je.Suspense=m,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,je.act=function(){throw Error("act(...) is not supported in production builds of React.")},je.cache=function(T){return function(){return T.apply(null,arguments)}},je.cloneElement=function(T,R,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var W=C({},T.props),V=T.key,fe=void 0;if(R!=null)for(ae in R.ref!==void 0&&(fe=void 0),R.key!==void 0&&(V=""+R.key),R)!de.call(R,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&R.ref===void 0||(W[ae]=R[ae]);var ae=arguments.length-2;if(ae===1)W.children=X;else if(1<ae){for(var Ee=Array(ae),ge=0;ge<ae;ge++)Ee[ge]=arguments[ge+2];W.children=Ee}return he(T.type,V,void 0,void 0,fe,W)},je.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:f,_context:T},T},je.createElement=function(T,R,X){var W,V={},fe=null;if(R!=null)for(W in R.key!==void 0&&(fe=""+R.key),R)de.call(R,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(V[W]=R[W]);var ae=arguments.length-2;if(ae===1)V.children=X;else if(1<ae){for(var Ee=Array(ae),ge=0;ge<ae;ge++)Ee[ge]=arguments[ge+2];V.children=Ee}if(T&&T.defaultProps)for(W in ae=T.defaultProps,ae)V[W]===void 0&&(V[W]=ae[W]);return he(T,fe,void 0,void 0,null,V)},je.createRef=function(){return{current:null}},je.forwardRef=function(T){return{$$typeof:p,render:T}},je.isValidElement=ie,je.lazy=function(T){return{$$typeof:E,_payload:{_status:-1,_result:T},_init:ce}},je.memo=function(T,R){return{$$typeof:y,type:T,compare:R===void 0?null:R}},je.startTransition=function(T){var R=$.T,X={};$.T=X;try{var W=T(),V=$.S;V!==null&&V(X,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(be,se)}catch(fe){se(fe)}finally{$.T=R}},je.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},je.use=function(T){return $.H.use(T)},je.useActionState=function(T,R,X){return $.H.useActionState(T,R,X)},je.useCallback=function(T,R){return $.H.useCallback(T,R)},je.useContext=function(T){return $.H.useContext(T)},je.useDebugValue=function(){},je.useDeferredValue=function(T,R){return $.H.useDeferredValue(T,R)},je.useEffect=function(T,R){return $.H.useEffect(T,R)},je.useId=function(){return $.H.useId()},je.useImperativeHandle=function(T,R,X){return $.H.useImperativeHandle(T,R,X)},je.useInsertionEffect=function(T,R){return $.H.useInsertionEffect(T,R)},je.useLayoutEffect=function(T,R){return $.H.useLayoutEffect(T,R)},je.useMemo=function(T,R){return $.H.useMemo(T,R)},je.useOptimistic=function(T,R){return $.H.useOptimistic(T,R)},je.useReducer=function(T,R,X){return $.H.useReducer(T,R,X)},je.useRef=function(T){return $.H.useRef(T)},je.useState=function(T){return $.H.useState(T)},je.useSyncExternalStore=function(T,R,X){return $.H.useSyncExternalStore(T,R,X)},je.useTransition=function(){return $.H.useTransition()},je.version="19.0.0",je}var Dh;function Oo(){return Dh||(Dh=1,Kc.exports=fy()),Kc.exports}var b=Oo();const Fn=Ou(b),dy=ry({__proto__:null,default:Fn},[b]);var Jc={exports:{}},Gi={},Wc={exports:{}},Ic={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh;function hy(){return Uh||(Uh=1,function(s){function a(J,ce){var se=J.length;J.push(ce);e:for(;0<se;){var be=se-1>>>1,T=J[be];if(0<c(T,ce))J[be]=ce,J[se]=T,se=be;else break e}}function l(J){return J.length===0?null:J[0]}function o(J){if(J.length===0)return null;var ce=J[0],se=J.pop();if(se!==ce){J[0]=se;e:for(var be=0,T=J.length,R=T>>>1;be<R;){var X=2*(be+1)-1,W=J[X],V=X+1,fe=J[V];if(0>c(W,se))V<T&&0>c(fe,W)?(J[be]=fe,J[V]=se,be=V):(J[be]=W,J[X]=se,be=X);else if(V<T&&0>c(fe,se))J[be]=fe,J[V]=se,be=V;else break e}}return ce}function c(J,ce){var se=J.sortIndex-ce.sortIndex;return se!==0?se:J.id-ce.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var m=[],y=[],E=1,S=null,w=3,O=!1,C=!1,M=!1,A=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function G(J){for(var ce=l(y);ce!==null;){if(ce.callback===null)o(y);else if(ce.startTime<=J)o(y),ce.sortIndex=ce.expirationTime,a(m,ce);else break;ce=l(y)}}function oe(J){if(M=!1,G(J),!C)if(l(m)!==null)C=!0,Te();else{var ce=l(y);ce!==null&&Ce(oe,ce.startTime-J)}}var $=!1,de=-1,he=5,re=-1;function ie(){return!(s.unstable_now()-re<he)}function ue(){if($){var J=s.unstable_now();re=J;var ce=!0;try{e:{C=!1,M&&(M=!1,U(de),de=-1),O=!0;var se=w;try{t:{for(G(J),S=l(m);S!==null&&!(S.expirationTime>J&&ie());){var be=S.callback;if(typeof be=="function"){S.callback=null,w=S.priorityLevel;var T=be(S.expirationTime<=J);if(J=s.unstable_now(),typeof T=="function"){S.callback=T,G(J),ce=!0;break t}S===l(m)&&o(m),G(J)}else o(m);S=l(m)}if(S!==null)ce=!0;else{var R=l(y);R!==null&&Ce(oe,R.startTime-J),ce=!1}}break e}finally{S=null,w=se,O=!1}ce=void 0}}finally{ce?Le():$=!1}}}var Le;if(typeof H=="function")Le=function(){H(ue)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Ae=Be.port2;Be.port1.onmessage=ue,Le=function(){Ae.postMessage(null)}}else Le=function(){A(ue,0)};function Te(){$||($=!0,Le())}function Ce(J,ce){de=A(function(){J(s.unstable_now())},ce)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){C||O||(C=!0,Te())},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return l(m)},s.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var se=w;w=ce;try{return J()}finally{w=se}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var se=w;w=J;try{return ce()}finally{w=se}},s.unstable_scheduleCallback=function(J,ce,se){var be=s.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?be+se:be):se=be,J){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=se+T,J={id:E++,callback:ce,priorityLevel:J,startTime:se,expirationTime:T,sortIndex:-1},se>be?(J.sortIndex=se,a(y,J),l(m)===null&&J===l(y)&&(M?(U(de),de=-1):M=!0,Ce(oe,se-be))):(J.sortIndex=T,a(m,J),C||O||(C=!0,Te())),J},s.unstable_shouldYield=ie,s.unstable_wrapCallback=function(J){var ce=w;return function(){var se=w;w=ce;try{return J.apply(this,arguments)}finally{w=se}}}}(Ic)),Ic}var zh;function my(){return zh||(zh=1,Wc.exports=hy()),Wc.exports}var eu={exports:{}},Rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function gy(){if(Lh)return Rt;Lh=1;var s=Oo();function a(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(m,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:m,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Rt.createPortal=function(m,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return f(m,y,null,E)},Rt.flushSync=function(m){var y=d.T,E=o.p;try{if(d.T=null,o.p=2,m)return m()}finally{d.T=y,o.p=E,o.d.f()}},Rt.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,o.d.C(m,y))},Rt.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},Rt.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?o.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:O}):E==="script"&&o.d.X(m,{crossOrigin:S,integrity:w,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Rt.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);o.d.M(m,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&o.d.M(m)},Rt.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin);o.d.L(m,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Rt.preloadModule=function(m,y){if(typeof m=="string")if(y){var E=p(y.as,y.crossOrigin);o.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else o.d.m(m)},Rt.requestFormReset=function(m){o.d.r(m)},Rt.unstable_batchedUpdates=function(m,y){return m(y)},Rt.useFormState=function(m,y,E){return d.H.useFormState(m,y,E)},Rt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Rt.version="19.0.0",Rt}var Bh;function jm(){if(Bh)return eu.exports;Bh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),eu.exports=gy(),eu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function py(){if(qh)return Gi;qh=1;var s=my(),a=Oo(),l=jm();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var f=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),O=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var he=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===he?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case m:return"Fragment";case p:return"Portal";case E:return"Profiler";case y:return"StrictMode";case M:return"Suspense";case A:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case C:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return t=e.displayName||null,t!==null?t:re(e.type)||"Memo";case H:t=e._payload,e=e._init;try{return re(e(t))}catch{}}return null}var ie=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=Object.assign,Le,Be;function Ae(e){if(Le===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Le=t&&t[1]||"",Be=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+e+Be}var Te=!1;function Ce(e,t){if(!e||Te)return"";Te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var D=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){D=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){D=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&D&&typeof q.stack=="string")return[q.stack,D.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),g=u[0],v=u[1];if(g&&v){var x=g.split(`
`),_=v.split(`
`);for(r=i=0;i<x.length&&!x[i].includes("DetermineComponentFrameRoot");)i++;for(;r<_.length&&!_[r].includes("DetermineComponentFrameRoot");)r++;if(i===x.length||r===_.length)for(i=x.length-1,r=_.length-1;1<=i&&0<=r&&x[i]!==_[r];)r--;for(;1<=i&&0<=r;i--,r--)if(x[i]!==_[r]){if(i!==1||r!==1)do if(i--,r--,0>r||x[i]!==_[r]){var Y=`
`+x[i].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=i&&0<=r);break}}}finally{Te=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ae(n):""}function J(e){switch(e.tag){case 26:case 27:case 5:return Ae(e.type);case 16:return Ae("Lazy");case 13:return Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return e=Ce(e.type,!1),e;case 11:return e=Ce(e.type.render,!1),e;case 1:return e=Ce(e.type,!0),e;default:return""}}function ce(e){try{var t="";do t+=J(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function se(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function be(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T(e){if(se(e)!==e)throw Error(o(188))}function R(e){var t=e.alternate;if(!t){if(t=se(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var u=r.alternate;if(u===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===n)return T(r),e;if(u===i)return T(r),t;u=u.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=u;else{for(var g=!1,v=r.child;v;){if(v===n){g=!0,n=r,i=u;break}if(v===i){g=!0,i=r,n=u;break}v=v.sibling}if(!g){for(v=u.child;v;){if(v===n){g=!0,n=u,i=r;break}if(v===i){g=!0,i=u,n=r;break}v=v.sibling}if(!g)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function X(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=X(e),t!==null)return t;e=e.sibling}return null}var W=Array.isArray,V=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ae=[],Ee=-1;function ge(e){return{current:e}}function Z(e){0>Ee||(e.current=ae[Ee],ae[Ee]=null,Ee--)}function te(e,t){Ee++,ae[Ee]=e.current,e.current=t}var ye=ge(null),z=ge(null),B=ge(null),ee=ge(null);function ne(e,t){switch(te(B,t),te(z,e),te(ye,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?lh(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=lh(e),t=oh(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ye),te(ye,t)}function we(){Z(ye),Z(z),Z(B)}function me(e){e.memoizedState!==null&&te(ee,e);var t=ye.current,n=oh(t,e.type);t!==n&&(te(z,e),te(ye,n))}function Oe(e){z.current===e&&(Z(ye),Z(z)),ee.current===e&&(Z(ee),Ui._currentValue=fe)}var Ve=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,$e=s.unstable_cancelCallback,Ze=s.unstable_shouldYield,rt=s.unstable_requestPaint,ft=s.unstable_now,$n=s.unstable_getCurrentPriorityLevel,yn=s.unstable_ImmediatePriority,Ii=s.unstable_UserBlockingPriority,ns=s.unstable_NormalPriority,Vo=s.unstable_LowPriority,el=s.unstable_IdlePriority,Bt=s.log,Zo=s.unstable_setDisableYieldValue,xa=null,jt=null;function Q(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(xa,e,void 0,(e.current.flags&128)===128)}catch{}}function le(e){if(typeof Bt=="function"&&Zo(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(xa,e)}catch{}}var I=Math.clz32?Math.clz32:_e,Ne=Math.log,qe=Math.LN2;function _e(e){return e>>>=0,e===0?32:31-(Ne(e)/qe|0)|0}var tt=128,qt=4194304;function pt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qe(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,u=e.pingedLanes,g=e.warmLanes;e=e.finishedLanes!==0;var v=n&134217727;return v!==0?(n=v&~r,n!==0?i=pt(n):(u&=v,u!==0?i=pt(u):e||(g=v&~g,g!==0&&(i=pt(g))))):(v=n&~r,v!==0?i=pt(v):u!==0?i=pt(u):e||(g=n&~g,g!==0&&(i=pt(g)))),i===0?0:t!==0&&t!==i&&(t&r)===0&&(r=i&-i,g=t&-t,r>=g||r===32&&(g&4194176)!==0)?t:i}function vn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function as(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ca(){var e=tt;return tt<<=1,(tt&4194176)===0&&(tt=128),e}function An(){var e=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),e}function Sn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tl(e,t,n,i,r,u){var g=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,x=e.expirationTimes,_=e.hiddenUpdates;for(n=g&~n;0<n;){var Y=31-I(n),K=1<<Y;v[Y]=0,x[Y]=-1;var D=_[Y];if(D!==null)for(_[Y]=null,Y=0;Y<D.length;Y++){var q=D[Y];q!==null&&(q.lane&=-536870913)}n&=~K}i!==0&&nl(e,i,0),u!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=u&~(g&~t))}function nl(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-I(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194218}function ef(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-I(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function tf(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nf(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:Mh(e.type))}function Wg(e,t){var n=V.p;try{return V.p=e,t()}finally{V.p=n}}var Pn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Pn,Ht="__reactProps$"+Pn,ss="__reactContainer$"+Pn,Fo="__reactEvents$"+Pn,Ig="__reactListeners$"+Pn,ep="__reactHandles$"+Pn,af="__reactResources$"+Pn,$s="__reactMarker$"+Pn;function Xo(e){delete e[Nt],delete e[Ht],delete e[Fo],delete e[Ig],delete e[ep]}function Ma(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ss]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uh(e);e!==null;){if(n=e[Nt])return n;e=uh(e)}return t}e=n,n=e.parentNode}return null}function is(e){if(e=e[Nt]||e[ss]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Qs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function ls(e){var t=e[af];return t||(t=e[af]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[$s]=!0}var sf=new Set,lf={};function Ta(e,t){os(e,t),os(e+"Capture",t)}function os(e,t){for(lf[e]=t,e=0;e<t.length;e++)sf.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),of={},rf={};function np(e){return Ve.call(rf,e)?!0:Ve.call(of,e)?!1:tp.test(e)?rf[e]=!0:(of[e]=!0,!1)}function al(e,t,n){if(np(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function sl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function _n(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ap(e){var t=cf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(g){i=""+g,u.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function il(e){e._valueTracker||(e._valueTracker=ap(e))}function uf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=cf(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sp=/[\n"\\]/g;function Jt(e){return e.replace(sp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $o(e,t,n,i,r,u,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Qo(e,g,Kt(t)):n!=null?Qo(e,g,Kt(n)):i!=null&&e.removeAttribute("value"),r==null&&u!=null&&(e.defaultChecked=!!u),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Kt(v):e.removeAttribute("name")}function ff(e,t,n,i,r,u,g,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;n=n!=null?""+Kt(n):"",t=t!=null?""+Kt(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function Qo(e,t,n){t==="number"&&ll(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function rs(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Kt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function df(e,t,n){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Kt(n):""}function hf(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(o(92));if(W(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Kt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function cs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ip=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mf(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||ip.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function gf(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&mf(e,r,i)}else for(var u in t)t.hasOwnProperty(u)&&mf(e,u,t[u])}function Po(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),op=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ol(e){return op.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ko=null;function Jo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,fs=null;function pf(e){var t=is(e);if(t&&(e=t.stateNode)){var n=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if($o(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Jt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Ht]||null;if(!r)throw Error(o(90));$o(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&uf(i)}break e;case"textarea":df(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&rs(e,!!n.multiple,t,!1)}}}var Wo=!1;function yf(e,t,n){if(Wo)return e(t,n);Wo=!0;try{var i=e(t);return i}finally{if(Wo=!1,(us!==null||fs!==null)&&(Zl(),us&&(t=us,e=fs,fs=us=null,pf(t),e)))for(t=0;t<e.length;t++)pf(e[t])}}function Ps(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ht]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var Io=!1;if(Nn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Io=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Io=!1}var Kn=null,er=null,rl=null;function vf(){if(rl)return rl;var e,t=er,n=t.length,i,r="value"in Kn?Kn.value:Kn.textContent,u=r.length;for(e=0;e<n&&t[e]===r[e];e++);var g=n-e;for(i=1;i<=g&&t[n-i]===r[u-i];i++);return rl=r.slice(e,1<i?1-i:void 0)}function cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ul(){return!0}function Sf(){return!1}function Gt(e){function t(n,i,r,u,g){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=u,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ul:Sf,this.isPropagationStopped=Sf,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),t}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Gt(Aa),Js=ue({},Aa,{view:0,detail:0}),rp=Gt(Js),tr,nr,Ws,dl=ue({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ws&&(Ws&&e.type==="mousemove"?(tr=e.screenX-Ws.screenX,nr=e.screenY-Ws.screenY):nr=tr=0,Ws=e),tr)},movementY:function(e){return"movementY"in e?e.movementY:nr}}),bf=Gt(dl),cp=ue({},dl,{dataTransfer:0}),up=Gt(cp),fp=ue({},Js,{relatedTarget:0}),ar=Gt(fp),dp=ue({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),hp=Gt(dp),mp=ue({},Aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gp=Gt(mp),pp=ue({},Aa,{data:0}),Ef=Gt(pp),yp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sp[e])?!!t[e]:!1}function sr(){return bp}var Ep=ue({},Js,{key:function(e){if(e.key){var t=yp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(e){return e.type==="keypress"?cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wp=Gt(Ep),xp=ue({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wf=Gt(xp),Cp=ue({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),Mp=Gt(Cp),Tp=ue({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ap=Gt(Tp),Np=ue({},dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_p=Gt(Np),Rp=ue({},Aa,{newState:0,oldState:0}),kp=Gt(Rp),Op=[9,13,27,32],ir=Nn&&"CompositionEvent"in window,Is=null;Nn&&"documentMode"in document&&(Is=document.documentMode);var jp=Nn&&"TextEvent"in window&&!Is,xf=Nn&&(!ir||Is&&8<Is&&11>=Is),Cf=" ",Mf=!1;function Tf(e,t){switch(e){case"keyup":return Op.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Af(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ds=!1;function Dp(e,t){switch(e){case"compositionend":return Af(t);case"keypress":return t.which!==32?null:(Mf=!0,Cf);case"textInput":return e=t.data,e===Cf&&Mf?null:e;default:return null}}function Up(e,t){if(ds)return e==="compositionend"||!ir&&Tf(e,t)?(e=vf(),rl=er=Kn=null,ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xf&&t.locale!=="ko"?null:t.data;default:return null}}var zp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zp[e.type]:t==="textarea"}function _f(e,t,n,i){us?fs?fs.push(i):fs=[i]:us=i,t=Pl(t,"onChange"),0<t.length&&(n=new fl("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ei=null,ti=null;function Lp(e){th(e,0)}function hl(e){var t=Qs(e);if(uf(t))return e}function Rf(e,t){if(e==="change")return t}var kf=!1;if(Nn){var lr;if(Nn){var or="oninput"in document;if(!or){var Of=document.createElement("div");Of.setAttribute("oninput","return;"),or=typeof Of.oninput=="function"}lr=or}else lr=!1;kf=lr&&(!document.documentMode||9<document.documentMode)}function jf(){ei&&(ei.detachEvent("onpropertychange",Df),ti=ei=null)}function Df(e){if(e.propertyName==="value"&&hl(ti)){var t=[];_f(t,ti,e,Jo(e)),yf(Lp,t)}}function Bp(e,t,n){e==="focusin"?(jf(),ei=t,ti=n,ei.attachEvent("onpropertychange",Df)):e==="focusout"&&jf()}function qp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hl(ti)}function Hp(e,t){if(e==="click")return hl(t)}function Gp(e,t){if(e==="input"||e==="change")return hl(t)}function Yp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:Yp;function ni(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Ve.call(t,r)||!Zt(e[r],t[r]))return!1}return!0}function Uf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zf(e,t){var n=Uf(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uf(n)}}function Lf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ll(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ll(e.document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vp(e,t){var n=Bf(t);t=e.focusedElem;var i=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Lf(t.ownerDocument.documentElement,t)){if(i!==null&&rr(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,u=Math.min(i.start,r);i=i.end===void 0?u:Math.min(i.end,r),!n.extend&&u>i&&(r=i,i=u,u=r),r=zf(t,u);var g=zf(t,i);r&&g&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==g.node||n.focusOffset!==g.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),u>i?(n.addRange(e),n.extend(g.node,g.offset)):(e.setEnd(g.node,g.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Zp=Nn&&"documentMode"in document&&11>=document.documentMode,hs=null,cr=null,ai=null,ur=!1;function qf(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ur||hs==null||hs!==ll(i)||(i=hs,"selectionStart"in i&&rr(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ai&&ni(ai,i)||(ai=i,i=Pl(cr,"onSelect"),0<i.length&&(t=new fl("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=hs)))}function Na(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ms={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},fr={},Hf={};Nn&&(Hf=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function _a(e){if(fr[e])return fr[e];if(!ms[e])return e;var t=ms[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hf)return fr[e]=t[n];return e}var Gf=_a("animationend"),Yf=_a("animationiteration"),Vf=_a("animationstart"),Fp=_a("transitionrun"),Xp=_a("transitionstart"),$p=_a("transitioncancel"),Zf=_a("transitionend"),Ff=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function fn(e,t){Ff.set(e,t),Ta(t,[e])}var Wt=[],gs=0,dr=0;function ml(){for(var e=gs,t=dr=gs=0;t<e;){var n=Wt[t];Wt[t++]=null;var i=Wt[t];Wt[t++]=null;var r=Wt[t];Wt[t++]=null;var u=Wt[t];if(Wt[t++]=null,i!==null&&r!==null){var g=i.pending;g===null?r.next=r:(r.next=g.next,g.next=r),i.pending=r}u!==0&&$f(n,r,u)}}function gl(e,t,n,i){Wt[gs++]=e,Wt[gs++]=t,Wt[gs++]=n,Wt[gs++]=i,dr|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function hr(e,t,n,i){return gl(e,t,n,i),pl(e)}function Jn(e,t){return gl(e,null,null,t),pl(e)}function $f(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,u=e.return;u!==null;)u.childLanes|=n,i=u.alternate,i!==null&&(i.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(r=!0)),e=u,u=u.return;r&&t!==null&&e.tag===3&&(u=e.stateNode,r=31-I(n),u=u.hiddenUpdates,e=u[r],e===null?u[r]=[t]:e.push(t),t.lane=n|536870912)}function pl(e){if(50<Ni)throw Ni=0,Sc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ps={},Qf=new WeakMap;function It(e,t){if(typeof e=="object"&&e!==null){var n=Qf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ce(t)},Qf.set(e,t),t)}return{value:e,source:t,stack:ce(t)}}var ys=[],vs=0,yl=null,vl=0,en=[],tn=0,Ra=null,Rn=1,kn="";function ka(e,t){ys[vs++]=vl,ys[vs++]=yl,yl=e,vl=t}function Pf(e,t,n){en[tn++]=Rn,en[tn++]=kn,en[tn++]=Ra,Ra=e;var i=Rn;e=kn;var r=32-I(i)-1;i&=~(1<<r),n+=1;var u=32-I(t)+r;if(30<u){var g=r-r%5;u=(i&(1<<g)-1).toString(32),i>>=g,r-=g,Rn=1<<32-I(t)+r|n<<r|i,kn=u+e}else Rn=1<<u|n<<r|i,kn=e}function mr(e){e.return!==null&&(ka(e,1),Pf(e,1,0))}function gr(e){for(;e===yl;)yl=ys[--vs],ys[vs]=null,vl=ys[--vs],ys[vs]=null;for(;e===Ra;)Ra=en[--tn],en[tn]=null,kn=en[--tn],en[tn]=null,Rn=en[--tn],en[tn]=null}var Dt=null,xt=null,Fe=!1,dn=null,bn=!1,pr=Error(o(519));function Oa(e){var t=Error(o(418,""));throw li(It(t,e)),pr}function Kf(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Nt]=e,t[Ht]=i,n){case"dialog":He("cancel",t),He("close",t);break;case"iframe":case"object":case"embed":He("load",t);break;case"video":case"audio":for(n=0;n<Ri.length;n++)He(Ri[n],t);break;case"source":He("error",t);break;case"img":case"image":case"link":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"input":He("invalid",t),ff(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),il(t);break;case"select":He("invalid",t);break;case"textarea":He("invalid",t),hf(t,i.value,i.defaultValue,i.children),il(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||ih(t.textContent,n)?(i.popover!=null&&(He("beforetoggle",t),He("toggle",t)),i.onScroll!=null&&He("scroll",t),i.onScrollEnd!=null&&He("scrollend",t),i.onClick!=null&&(t.onclick=Kl),t=!0):t=!1,t||Oa(e)}function Jf(e){for(Dt=e.return;Dt;)switch(Dt.tag){case 3:case 27:bn=!0;return;case 5:case 13:bn=!1;return;default:Dt=Dt.return}}function si(e){if(e!==Dt)return!1;if(!Fe)return Jf(e),Fe=!0,!1;var t=!1,n;if((n=e.tag!==3&&e.tag!==27)&&((n=e.tag===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||zc(e.type,e.memoizedProps)),n=!n),n&&(t=!0),t&&xt&&Oa(e),Jf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){xt=mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}xt=null}}else xt=Dt?mn(e.stateNode.nextSibling):null;return!0}function ii(){xt=Dt=null,Fe=!1}function li(e){dn===null?dn=[e]:dn.push(e)}var oi=Error(o(460)),Wf=Error(o(474)),yr={then:function(){}};function If(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sl(){}function ed(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Sl,Sl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===oi?Error(o(483)):e;default:if(typeof t.status=="string")t.then(Sl,Sl);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===oi?Error(o(483)):e}throw ri=t,oi}}var ri=null;function td(){if(ri===null)throw Error(o(459));var e=ri;return ri=null,e}var Ss=null,ci=0;function bl(e){var t=ci;return ci+=1,Ss===null&&(Ss=[]),ed(Ss,e,t)}function ui(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function El(e,t){throw t.$$typeof===f?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function nd(e){var t=e._init;return t(e._payload)}function ad(e){function t(k,N){if(e){var j=k.deletions;j===null?(k.deletions=[N],k.flags|=16):j.push(N)}}function n(k,N){if(!e)return null;for(;N!==null;)t(k,N),N=N.sibling;return null}function i(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function r(k,N){return k=ca(k,N),k.index=0,k.sibling=null,k}function u(k,N,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<N?(k.flags|=33554434,N):j):(k.flags|=33554434,N)):(k.flags|=1048576,N)}function g(k){return e&&k.alternate===null&&(k.flags|=33554434),k}function v(k,N,j,F){return N===null||N.tag!==6?(N=fc(j,k.mode,F),N.return=k,N):(N=r(N,j),N.return=k,N)}function x(k,N,j,F){var pe=j.type;return pe===m?Y(k,N,j.props.children,F,j.key):N!==null&&(N.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===H&&nd(pe)===N.type)?(N=r(N,j.props),ui(N,j),N.return=k,N):(N=ql(j.type,j.key,j.props,null,k.mode,F),ui(N,j),N.return=k,N)}function _(k,N,j,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=dc(j,k.mode,F),N.return=k,N):(N=r(N,j.children||[]),N.return=k,N)}function Y(k,N,j,F,pe){return N===null||N.tag!==7?(N=Ya(j,k.mode,F,pe),N.return=k,N):(N=r(N,j),N.return=k,N)}function K(k,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=fc(""+N,k.mode,j),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case d:return j=ql(N.type,N.key,N.props,null,k.mode,j),ui(j,N),j.return=k,j;case p:return N=dc(N,k.mode,j),N.return=k,N;case H:var F=N._init;return N=F(N._payload),K(k,N,j)}if(W(N)||de(N))return N=Ya(N,k.mode,j,null),N.return=k,N;if(typeof N.then=="function")return K(k,bl(N),j);if(N.$$typeof===O)return K(k,zl(k,N),j);El(k,N)}return null}function D(k,N,j,F){var pe=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return pe!==null?null:v(k,N,""+j,F);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case d:return j.key===pe?x(k,N,j,F):null;case p:return j.key===pe?_(k,N,j,F):null;case H:return pe=j._init,j=pe(j._payload),D(k,N,j,F)}if(W(j)||de(j))return pe!==null?null:Y(k,N,j,F,null);if(typeof j.then=="function")return D(k,N,bl(j),F);if(j.$$typeof===O)return D(k,N,zl(k,j),F);El(k,j)}return null}function q(k,N,j,F,pe){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return k=k.get(j)||null,v(N,k,""+F,pe);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case d:return k=k.get(F.key===null?j:F.key)||null,x(N,k,F,pe);case p:return k=k.get(F.key===null?j:F.key)||null,_(N,k,F,pe);case H:var Ue=F._init;return F=Ue(F._payload),q(k,N,j,F,pe)}if(W(F)||de(F))return k=k.get(j)||null,Y(N,k,F,pe,null);if(typeof F.then=="function")return q(k,N,j,bl(F),pe);if(F.$$typeof===O)return q(k,N,j,zl(N,F),pe);El(N,F)}return null}function ve(k,N,j,F){for(var pe=null,Ue=null,Se=N,Me=N=0,wt=null;Se!==null&&Me<j.length;Me++){Se.index>Me?(wt=Se,Se=null):wt=Se.sibling;var Xe=D(k,Se,j[Me],F);if(Xe===null){Se===null&&(Se=wt);break}e&&Se&&Xe.alternate===null&&t(k,Se),N=u(Xe,N,Me),Ue===null?pe=Xe:Ue.sibling=Xe,Ue=Xe,Se=wt}if(Me===j.length)return n(k,Se),Fe&&ka(k,Me),pe;if(Se===null){for(;Me<j.length;Me++)Se=K(k,j[Me],F),Se!==null&&(N=u(Se,N,Me),Ue===null?pe=Se:Ue.sibling=Se,Ue=Se);return Fe&&ka(k,Me),pe}for(Se=i(Se);Me<j.length;Me++)wt=q(Se,k,Me,j[Me],F),wt!==null&&(e&&wt.alternate!==null&&Se.delete(wt.key===null?Me:wt.key),N=u(wt,N,Me),Ue===null?pe=wt:Ue.sibling=wt,Ue=wt);return e&&Se.forEach(function(pa){return t(k,pa)}),Fe&&ka(k,Me),pe}function Re(k,N,j,F){if(j==null)throw Error(o(151));for(var pe=null,Ue=null,Se=N,Me=N=0,wt=null,Xe=j.next();Se!==null&&!Xe.done;Me++,Xe=j.next()){Se.index>Me?(wt=Se,Se=null):wt=Se.sibling;var pa=D(k,Se,Xe.value,F);if(pa===null){Se===null&&(Se=wt);break}e&&Se&&pa.alternate===null&&t(k,Se),N=u(pa,N,Me),Ue===null?pe=pa:Ue.sibling=pa,Ue=pa,Se=wt}if(Xe.done)return n(k,Se),Fe&&ka(k,Me),pe;if(Se===null){for(;!Xe.done;Me++,Xe=j.next())Xe=K(k,Xe.value,F),Xe!==null&&(N=u(Xe,N,Me),Ue===null?pe=Xe:Ue.sibling=Xe,Ue=Xe);return Fe&&ka(k,Me),pe}for(Se=i(Se);!Xe.done;Me++,Xe=j.next())Xe=q(Se,k,Me,Xe.value,F),Xe!==null&&(e&&Xe.alternate!==null&&Se.delete(Xe.key===null?Me:Xe.key),N=u(Xe,N,Me),Ue===null?pe=Xe:Ue.sibling=Xe,Ue=Xe);return e&&Se.forEach(function(oy){return t(k,oy)}),Fe&&ka(k,Me),pe}function ot(k,N,j,F){if(typeof j=="object"&&j!==null&&j.type===m&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case d:e:{for(var pe=j.key;N!==null;){if(N.key===pe){if(pe=j.type,pe===m){if(N.tag===7){n(k,N.sibling),F=r(N,j.props.children),F.return=k,k=F;break e}}else if(N.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===H&&nd(pe)===N.type){n(k,N.sibling),F=r(N,j.props),ui(F,j),F.return=k,k=F;break e}n(k,N);break}else t(k,N);N=N.sibling}j.type===m?(F=Ya(j.props.children,k.mode,F,j.key),F.return=k,k=F):(F=ql(j.type,j.key,j.props,null,k.mode,F),ui(F,j),F.return=k,k=F)}return g(k);case p:e:{for(pe=j.key;N!==null;){if(N.key===pe)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){n(k,N.sibling),F=r(N,j.children||[]),F.return=k,k=F;break e}else{n(k,N);break}else t(k,N);N=N.sibling}F=dc(j,k.mode,F),F.return=k,k=F}return g(k);case H:return pe=j._init,j=pe(j._payload),ot(k,N,j,F)}if(W(j))return ve(k,N,j,F);if(de(j)){if(pe=de(j),typeof pe!="function")throw Error(o(150));return j=pe.call(j),Re(k,N,j,F)}if(typeof j.then=="function")return ot(k,N,bl(j),F);if(j.$$typeof===O)return ot(k,N,zl(k,j),F);El(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,N!==null&&N.tag===6?(n(k,N.sibling),F=r(N,j),F.return=k,k=F):(n(k,N),F=fc(j,k.mode,F),F.return=k,k=F),g(k)):n(k,N)}return function(k,N,j,F){try{ci=0;var pe=ot(k,N,j,F);return Ss=null,pe}catch(Se){if(Se===oi)throw Se;var Ue=ln(29,Se,null,k.mode);return Ue.lanes=F,Ue.return=k,Ue}finally{}}}var ja=ad(!0),sd=ad(!1),bs=ge(null),wl=ge(0);function id(e,t){e=Yn,te(wl,e),te(bs,t),Yn=e|t.baseLanes}function vr(){te(wl,Yn),te(bs,bs.current)}function Sr(){Yn=wl.current,Z(bs),Z(wl)}var nn=ge(null),En=null;function Wn(e){var t=e.alternate;te(yt,yt.current&1),te(nn,e),En===null&&(t===null||bs.current!==null||t.memoizedState!==null)&&(En=e)}function ld(e){if(e.tag===22){if(te(yt,yt.current),te(nn,e),En===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(En=e)}}else In()}function In(){te(yt,yt.current),te(nn,nn.current)}function On(e){Z(nn),En===e&&(En=null),Z(yt)}var yt=ge(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Pp=s.unstable_scheduleCallback,Kp=s.unstable_NormalPriority,vt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function br(){return{controller:new Qp,data:new Map,refCount:0}}function fi(e){e.refCount--,e.refCount===0&&Pp(Kp,function(){e.controller.abort()})}var di=null,Er=0,Es=0,ws=null;function Jp(e,t){if(di===null){var n=di=[];Er=0,Es=Ac(),ws={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Er++,t.then(od,od),t}function od(){if(--Er===0&&di!==null){ws!==null&&(ws.status="fulfilled");var e=di;di=null,Es=0,ws=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wp(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var rd=ie.S;ie.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Jp(e,t),rd!==null&&rd(e,t)};var Da=ge(null);function wr(){var e=Da.current;return e!==null?e:Ie.pooledCache}function Cl(e,t){t===null?te(Da,Da.current):te(Da,t.pool)}function cd(){var e=wr();return e===null?null:{parent:vt._currentValue,pool:e}}var ea=0,De=null,Pe=null,dt=null,Ml=!1,xs=!1,Ua=!1,Tl=0,hi=0,Cs=null,Ip=0;function ct(){throw Error(o(321))}function xr(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function Cr(e,t,n,i,r,u){return ea=u,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ie.H=e===null||e.memoizedState===null?za:ta,Ua=!1,u=n(i,r),Ua=!1,xs&&(u=fd(t,n,i,r)),ud(e),u}function ud(e){ie.H=wn;var t=Pe!==null&&Pe.next!==null;if(ea=0,dt=Pe=De=null,Ml=!1,hi=0,Cs=null,t)throw Error(o(300));e===null||bt||(e=e.dependencies,e!==null&&Ul(e)&&(bt=!0))}function fd(e,t,n,i){De=e;var r=0;do{if(xs&&(Cs=null),hi=0,xs=!1,25<=r)throw Error(o(301));if(r+=1,dt=Pe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}ie.H=La,u=t(n,i)}while(xs);return u}function e1(){var e=ie.H,t=e.useState()[0];return t=typeof t.then=="function"?mi(t):t,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(De.flags|=1024),t}function Mr(){var e=Tl!==0;return Tl=0,e}function Tr(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ar(e){if(Ml){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ml=!1}ea=0,dt=Pe=De=null,xs=!1,hi=Tl=0,Cs=null}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?De.memoizedState=dt=e:dt=dt.next=e,dt}function ht(){if(Pe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=dt===null?De.memoizedState:dt.next;if(t!==null)dt=t,Pe=e;else{if(e===null)throw De.alternate===null?Error(o(467)):Error(o(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},dt===null?De.memoizedState=dt=e:dt=dt.next=e}return dt}var Al;Al=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function mi(e){var t=hi;return hi+=1,Cs===null&&(Cs=[]),e=ed(Cs,e,t),t=De,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,ie.H=t===null||t.memoizedState===null?za:ta),e}function Nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return mi(e);if(e.$$typeof===O)return _t(e)}throw Error(o(438,String(e)))}function Nr(e){var t=null,n=De.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=De.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Al(),De.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=oe;return t.index++,n}function jn(e,t){return typeof t=="function"?t(e):t}function _l(e){var t=ht();return _r(t,Pe,e)}function _r(e,t,n){var i=e.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=n;var r=e.baseQueue,u=i.pending;if(u!==null){if(r!==null){var g=r.next;r.next=u.next,u.next=g}t.baseQueue=r=u,i.pending=null}if(u=e.baseState,r===null)e.memoizedState=u;else{t=r.next;var v=g=null,x=null,_=t,Y=!1;do{var K=_.lane&-536870913;if(K!==_.lane?(Ye&K)===K:(ea&K)===K){var D=_.revertLane;if(D===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),K===Es&&(Y=!0);else if((ea&D)===D){_=_.next,D===Es&&(Y=!0);continue}else K={lane:0,revertLane:_.revertLane,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},x===null?(v=x=K,g=u):x=x.next=K,De.lanes|=D,ua|=D;K=_.action,Ua&&n(u,K),u=_.hasEagerState?_.eagerState:n(u,K)}else D={lane:K,revertLane:_.revertLane,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},x===null?(v=x=D,g=u):x=x.next=D,De.lanes|=K,ua|=K;_=_.next}while(_!==null&&_!==t);if(x===null?g=u:x.next=v,!Zt(u,e.memoizedState)&&(bt=!0,Y&&(n=ws,n!==null)))throw n;e.memoizedState=u,e.baseState=g,e.baseQueue=x,i.lastRenderedState=u}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Rr(e){var t=ht(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,u=t.memoizedState;if(r!==null){n.pending=null;var g=r=r.next;do u=e(u,g.action),g=g.next;while(g!==r);Zt(u,t.memoizedState)||(bt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,i]}function dd(e,t,n){var i=De,r=ht(),u=Fe;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=t();var g=!Zt((Pe||r).memoizedState,n);if(g&&(r.memoizedState=n,bt=!0),r=r.queue,jr(gd.bind(null,i,r,e),[e]),r.getSnapshot!==t||g||dt!==null&&dt.memoizedState.tag&1){if(i.flags|=2048,Ms(9,md.bind(null,i,r,n,t),{destroy:void 0},null),Ie===null)throw Error(o(349));u||(ea&60)!==0||hd(i,t,n)}return n}function hd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t=Al(),De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function md(e,t,n,i){t.value=n,t.getSnapshot=i,pd(t)&&yd(e)}function gd(e,t,n){return n(function(){pd(t)&&yd(e)})}function pd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zt(e,n)}catch{return!0}}function yd(e){var t=Jn(e,2);t!==null&&Ut(t,e,2)}function kr(e){var t=Yt();if(typeof e=="function"){var n=e;if(e=n(),Ua){le(!0);try{n()}finally{le(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:e},t}function vd(e,t,n,i){return e.baseState=n,_r(e,Pe,typeof i=="function"?i:jn)}function t1(e,t,n,i,r){if(Ol(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){u.listeners.push(g)}};ie.T!==null?n(!0):u.isTransition=!1,i(u),n=t.pending,n===null?(u.next=t.pending=u,Sd(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Sd(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var u=ie.T,g={};ie.T=g;try{var v=n(r,i),x=ie.S;x!==null&&x(g,v),bd(e,t,v)}catch(_){Or(e,t,_)}finally{ie.T=u}}else try{u=n(r,i),bd(e,t,u)}catch(_){Or(e,t,_)}}function bd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Ed(e,t,i)},function(i){return Or(e,t,i)}):Ed(e,t,n)}function Ed(e,t,n){t.status="fulfilled",t.value=n,wd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Sd(e,n)))}function Or(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,wd(t),t=t.next;while(t!==i)}e.action=null}function wd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function xd(e,t){return t}function Cd(e,t){if(Fe){var n=Ie.formState;if(n!==null){e:{var i=De;if(Fe){if(xt){t:{for(var r=xt,u=bn;r.nodeType!==8;){if(!u){r=null;break t}if(r=mn(r.nextSibling),r===null){r=null;break t}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){xt=mn(r.nextSibling),i=r.data==="F!";break e}}Oa(i)}i=!1}i&&(t=n[0])}}return n=Yt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:t},n.queue=i,n=Yd.bind(null,De,i),i.dispatch=n,i=kr(!1),u=Br.bind(null,De,!1,i.queue),i=Yt(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=t1.bind(null,De,r,u,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Md(e){var t=ht();return Td(t,Pe,e)}function Td(e,t,n){t=_r(e,t,xd)[0],e=_l(jn)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?mi(t):t;var i=ht(),r=i.queue,u=r.dispatch;return n!==i.memoizedState&&(De.flags|=2048,Ms(9,n1.bind(null,r,n),{destroy:void 0},null)),[t,u,e]}function n1(e,t){e.action=t}function Ad(e){var t=ht(),n=Pe;if(n!==null)return Td(t,n,e);ht(),t=t.memoizedState,n=ht();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ms(e,t,n,i){return e={tag:e,create:t,inst:n,deps:i,next:null},t=De.updateQueue,t===null&&(t=Al(),De.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Nd(){return ht().memoizedState}function Rl(e,t,n,i){var r=Yt();De.flags|=e,r.memoizedState=Ms(1|t,n,{destroy:void 0},i===void 0?null:i)}function kl(e,t,n,i){var r=ht();i=i===void 0?null:i;var u=r.memoizedState.inst;Pe!==null&&i!==null&&xr(i,Pe.memoizedState.deps)?r.memoizedState=Ms(t,n,u,i):(De.flags|=e,r.memoizedState=Ms(1|t,n,u,i))}function _d(e,t){Rl(8390656,8,e,t)}function jr(e,t){kl(2048,8,e,t)}function Rd(e,t){return kl(4,2,e,t)}function kd(e,t){return kl(4,4,e,t)}function Od(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,n){n=n!=null?n.concat([e]):null,kl(4,4,Od.bind(null,t,e),n)}function Dr(){}function Dd(e,t){var n=ht();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&xr(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ud(e,t){var n=ht();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&xr(t,i[1]))return i[0];if(i=e(),Ua){le(!0);try{e()}finally{le(!1)}}return n.memoizedState=[i,t],i}function Ur(e,t,n){return n===void 0||(ea&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=L0(),De.lanes|=e,ua|=e,n)}function zd(e,t,n,i){return Zt(n,t)?n:bs.current!==null?(e=Ur(e,n,i),Zt(e,t)||(bt=!0),e):(ea&42)===0?(bt=!0,e.memoizedState=n):(e=L0(),De.lanes|=e,ua|=e,t)}function Ld(e,t,n,i,r){var u=V.p;V.p=u!==0&&8>u?u:8;var g=ie.T,v={};ie.T=v,Br(e,!1,t,n);try{var x=r(),_=ie.S;if(_!==null&&_(v,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Y=Wp(x,i);gi(e,t,Y,Qt(e))}else gi(e,t,i,Qt(e))}catch(K){gi(e,t,{then:function(){},status:"rejected",reason:K},Qt())}finally{V.p=u,ie.T=g}}function a1(){}function zr(e,t,n,i){if(e.tag!==5)throw Error(o(476));var r=Bd(e).queue;Ld(e,r,t,fe,n===null?a1:function(){return qd(e),n(i)})}function Bd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:fe},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qd(e){var t=Bd(e).next.queue;gi(e,t,{},Qt())}function Lr(){return _t(Ui)}function Hd(){return ht().memoizedState}function Gd(){return ht().memoizedState}function s1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Qt();e=sa(n);var i=ia(t,e,n);i!==null&&(Ut(i,t,n),vi(i,t,n)),t={cache:br()},e.payload=t;return}t=t.return}}function i1(e,t,n){var i=Qt();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ol(e)?Vd(t,n):(n=hr(e,t,n,i),n!==null&&(Ut(n,e,i),Zd(n,t,i)))}function Yd(e,t,n){var i=Qt();gi(e,t,n,i)}function gi(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ol(e))Vd(t,r);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var g=t.lastRenderedState,v=u(g,n);if(r.hasEagerState=!0,r.eagerState=v,Zt(v,g))return gl(e,t,r,0),Ie===null&&ml(),!1}catch{}finally{}if(n=hr(e,t,r,i),n!==null)return Ut(n,e,i),Zd(n,t,i),!0}return!1}function Br(e,t,n,i){if(i={lane:2,revertLane:Ac(),action:i,hasEagerState:!1,eagerState:null,next:null},Ol(e)){if(t)throw Error(o(479))}else t=hr(e,n,i,2),t!==null&&Ut(t,e,2)}function Ol(e){var t=e.alternate;return e===De||t!==null&&t===De}function Vd(e,t){xs=Ml=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zd(e,t,n){if((n&4194176)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ef(e,n)}}var wn={readContext:_t,use:Nl,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct};wn.useCacheRefresh=ct,wn.useMemoCache=ct,wn.useHostTransitionStatus=ct,wn.useFormState=ct,wn.useActionState=ct,wn.useOptimistic=ct;var za={readContext:_t,use:Nl,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:_d,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Rl(4194308,4,Od.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rl(4194308,4,e,t)},useInsertionEffect:function(e,t){Rl(4,2,e,t)},useMemo:function(e,t){var n=Yt();t=t===void 0?null:t;var i=e();if(Ua){le(!0);try{e()}finally{le(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Yt();if(n!==void 0){var r=n(t);if(Ua){le(!0);try{n(t)}finally{le(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=i1.bind(null,De,e),[i.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:function(e){e=kr(e);var t=e.queue,n=Yd.bind(null,De,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Dr,useDeferredValue:function(e,t){var n=Yt();return Ur(n,e,t)},useTransition:function(){var e=kr(!1);return e=Ld.bind(null,De,e.queue,!0,!1),Yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=De,r=Yt();if(Fe){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Ie===null)throw Error(o(349));(Ye&60)!==0||hd(i,t,n)}r.memoizedState=n;var u={value:n,getSnapshot:t};return r.queue=u,_d(gd.bind(null,i,u,e),[e]),i.flags|=2048,Ms(9,md.bind(null,i,u,n,t),{destroy:void 0},null),n},useId:function(){var e=Yt(),t=Ie.identifierPrefix;if(Fe){var n=kn,i=Rn;n=(i&~(1<<32-I(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Tl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ip++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Yt().memoizedState=s1.bind(null,De)}};za.useMemoCache=Nr,za.useHostTransitionStatus=Lr,za.useFormState=Cd,za.useActionState=Cd,za.useOptimistic=function(e){var t=Yt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Br.bind(null,De,!0,n),n.dispatch=t,[e,t]};var ta={readContext:_t,use:Nl,useCallback:Dd,useContext:_t,useEffect:jr,useImperativeHandle:jd,useInsertionEffect:Rd,useLayoutEffect:kd,useMemo:Ud,useReducer:_l,useRef:Nd,useState:function(){return _l(jn)},useDebugValue:Dr,useDeferredValue:function(e,t){var n=ht();return zd(n,Pe.memoizedState,e,t)},useTransition:function(){var e=_l(jn)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:mi(e),t]},useSyncExternalStore:dd,useId:Hd};ta.useCacheRefresh=Gd,ta.useMemoCache=Nr,ta.useHostTransitionStatus=Lr,ta.useFormState=Md,ta.useActionState=Md,ta.useOptimistic=function(e,t){var n=ht();return vd(n,Pe,e,t)};var La={readContext:_t,use:Nl,useCallback:Dd,useContext:_t,useEffect:jr,useImperativeHandle:jd,useInsertionEffect:Rd,useLayoutEffect:kd,useMemo:Ud,useReducer:Rr,useRef:Nd,useState:function(){return Rr(jn)},useDebugValue:Dr,useDeferredValue:function(e,t){var n=ht();return Pe===null?Ur(n,e,t):zd(n,Pe.memoizedState,e,t)},useTransition:function(){var e=Rr(jn)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:mi(e),t]},useSyncExternalStore:dd,useId:Hd};La.useCacheRefresh=Gd,La.useMemoCache=Nr,La.useHostTransitionStatus=Lr,La.useFormState=Ad,La.useActionState=Ad,La.useOptimistic=function(e,t){var n=ht();return Pe!==null?vd(n,Pe,e,t):(n.baseState=e,[e,n.queue.dispatch])};function qr(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hr={isMounted:function(e){return(e=e._reactInternals)?se(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Qt(),r=sa(i);r.payload=t,n!=null&&(r.callback=n),t=ia(e,r,i),t!==null&&(Ut(t,e,i),vi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Qt(),r=sa(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=ia(e,r,i),t!==null&&(Ut(t,e,i),vi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qt(),i=sa(n);i.tag=2,t!=null&&(i.callback=t),t=ia(e,i,n),t!==null&&(Ut(t,e,n),vi(t,e,n))}};function Fd(e,t,n,i,r,u,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,g):t.prototype&&t.prototype.isPureReactComponent?!ni(n,i)||!ni(r,u):!0}function Xd(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Hr.enqueueReplaceState(t,t.state,null)}function Ba(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ue({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var jl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function $d(e){jl(e)}function Qd(e){console.error(e)}function Pd(e){jl(e)}function Dl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Kd(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Gr(e,t,n){return n=sa(n),n.tag=3,n.payload={element:null},n.callback=function(){Dl(e,t)},n}function Jd(e){return e=sa(e),e.tag=3,e}function Wd(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var u=i.value;e.payload=function(){return r(u)},e.callback=function(){Kd(t,n,i)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Kd(t,n,i),typeof r!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function l1(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&yi(t,n,r,!0),n=nn.current,n!==null){switch(n.tag){case 13:return En===null?wc():n.alternate===null&&lt===0&&(lt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===yr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Cc(e,i,r)),!1;case 22:return n.flags|=65536,i===yr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Cc(e,i,r)),!1}throw Error(o(435,n.tag))}return Cc(e,i,r),wc(),!1}if(Fe)return t=nn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==pr&&(e=Error(o(422),{cause:i}),li(It(e,n)))):(i!==pr&&(t=Error(o(423),{cause:i}),li(It(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=It(i,n),r=Gr(e.stateNode,i,r),nc(e,r),lt!==4&&(lt=2)),!1;var u=Error(o(520),{cause:i});if(u=It(u,n),Ti===null?Ti=[u]:Ti.push(u),lt!==4&&(lt=2),t===null)return!0;i=It(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Gr(n.stateNode,i,e),nc(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(fa===null||!fa.has(u))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Jd(r),Wd(r,e,n,i),nc(n,r),!1}n=n.return}while(n!==null);return!1}var Id=Error(o(461)),bt=!1;function Ct(e,t,n,i){t.child=e===null?sd(t,null,n,i):ja(t,e.child,n,i)}function e0(e,t,n,i,r){n=n.render;var u=t.ref;if("ref"in i){var g={};for(var v in i)v!=="ref"&&(g[v]=i[v])}else g=i;return Ha(t),i=Cr(e,t,n,g,u,r),v=Mr(),e!==null&&!bt?(Tr(e,t,r),Dn(e,t,r)):(Fe&&v&&mr(t),t.flags|=1,Ct(e,t,i,r),t.child)}function t0(e,t,n,i,r){if(e===null){var u=n.type;return typeof u=="function"&&!uc(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,n0(e,t,u,i,r)):(e=ql(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Kr(e,r)){var g=u.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(g,i)&&e.ref===t.ref)return Dn(e,t,r)}return t.flags|=1,e=ca(u,i),e.ref=t.ref,e.return=t,t.child=e}function n0(e,t,n,i,r){if(e!==null){var u=e.memoizedProps;if(ni(u,i)&&e.ref===t.ref)if(bt=!1,t.pendingProps=i=u,Kr(e,r))(e.flags&131072)!==0&&(bt=!0);else return t.lanes=e.lanes,Dn(e,t,r)}return Yr(e,t,n,i,r)}function a0(e,t,n){var i=t.pendingProps,r=i.children,u=(t.stateNode._pendingVisibility&2)!==0,g=e!==null?e.memoizedState:null;if(pi(e,t),i.mode==="hidden"||u){if((t.flags&128)!==0){if(i=g!==null?g.baseLanes|n:n,e!==null){for(r=t.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;t.childLanes=u&~i}else t.childLanes=0,t.child=null;return s0(e,t,i,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cl(t,g!==null?g.cachePool:null),g!==null?id(t,g):vr(),ld(t);else return t.lanes=t.childLanes=536870912,s0(e,t,g!==null?g.baseLanes|n:n,n)}else g!==null?(Cl(t,g.cachePool),id(t,g),In(),t.memoizedState=null):(e!==null&&Cl(t,null),vr(),In());return Ct(e,t,r,n),t.child}function s0(e,t,n,i){var r=wr();return r=r===null?null:{parent:vt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Cl(t,null),vr(),ld(t),e!==null&&yi(e,t,i,!0),null}function pi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=2097664)}}function Yr(e,t,n,i,r){return Ha(t),n=Cr(e,t,n,i,void 0,r),i=Mr(),e!==null&&!bt?(Tr(e,t,r),Dn(e,t,r)):(Fe&&i&&mr(t),t.flags|=1,Ct(e,t,n,r),t.child)}function i0(e,t,n,i,r,u){return Ha(t),t.updateQueue=null,n=fd(t,i,n,r),ud(e),i=Mr(),e!==null&&!bt?(Tr(e,t,u),Dn(e,t,u)):(Fe&&i&&mr(t),t.flags|=1,Ct(e,t,n,u),t.child)}function l0(e,t,n,i,r){if(Ha(t),t.stateNode===null){var u=ps,g=n.contextType;typeof g=="object"&&g!==null&&(u=_t(g)),u=new n(i,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Hr,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=i,u.state=t.memoizedState,u.refs={},ec(t),g=n.contextType,u.context=typeof g=="object"&&g!==null?_t(g):ps,u.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(qr(t,n,g,i),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(g=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),g!==u.state&&Hr.enqueueReplaceState(u,u.state,null),bi(t,i,u,r),Si(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,x=Ba(n,v);u.props=x;var _=u.context,Y=n.contextType;g=ps,typeof Y=="object"&&Y!==null&&(g=_t(Y));var K=n.getDerivedStateFromProps;Y=typeof K=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,Y||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||_!==g)&&Xd(t,u,i,g),aa=!1;var D=t.memoizedState;u.state=D,bi(t,i,u,r),Si(),_=t.memoizedState,v||D!==_||aa?(typeof K=="function"&&(qr(t,n,K,i),_=t.memoizedState),(x=aa||Fd(t,n,x,i,D,_,g))?(Y||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=_),u.props=i,u.state=_,u.context=g,i=x):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,tc(e,t),g=t.memoizedProps,Y=Ba(n,g),u.props=Y,K=t.pendingProps,D=u.context,_=n.contextType,x=ps,typeof _=="object"&&_!==null&&(x=_t(_)),v=n.getDerivedStateFromProps,(_=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g!==K||D!==x)&&Xd(t,u,i,x),aa=!1,D=t.memoizedState,u.state=D,bi(t,i,u,r),Si();var q=t.memoizedState;g!==K||D!==q||aa||e!==null&&e.dependencies!==null&&Ul(e.dependencies)?(typeof v=="function"&&(qr(t,n,v,i),q=t.memoizedState),(Y=aa||Fd(t,n,Y,i,D,q,x)||e!==null&&e.dependencies!==null&&Ul(e.dependencies))?(_||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,q,x),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,q,x)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=q),u.props=i,u.state=q,u.context=x,i=Y):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),i=!1)}return u=i,pi(e,t),i=(t.flags&128)!==0,u||i?(u=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&i?(t.child=ja(t,e.child,null,r),t.child=ja(t,null,n,r)):Ct(e,t,n,r),t.memoizedState=u.state,e=t.child):e=Dn(e,t,r),e}function o0(e,t,n,i){return ii(),t.flags|=256,Ct(e,t,n,i),t.child}var Vr={dehydrated:null,treeContext:null,retryLane:0};function Zr(e){return{baseLanes:e,cachePool:cd()}}function Fr(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=on),e}function r0(e,t,n){var i=t.pendingProps,r=!1,u=(t.flags&128)!==0,g;if((g=u)||(g=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),g&&(r=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Fe){if(r?Wn(t):In(),Fe){var v=xt,x;if(x=v){e:{for(x=v,v=bn;x.nodeType!==8;){if(!v){v=null;break e}if(x=mn(x.nextSibling),x===null){v=null;break e}}v=x}v!==null?(t.memoizedState={dehydrated:v,treeContext:Ra!==null?{id:Rn,overflow:kn}:null,retryLane:536870912},x=ln(18,null,null,0),x.stateNode=v,x.return=t,t.child=x,Dt=t,xt=null,x=!0):x=!1}x||Oa(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return v.data==="$!"?t.lanes=16:t.lanes=536870912,null;On(t)}return v=i.children,i=i.fallback,r?(In(),r=t.mode,v=$r({mode:"hidden",children:v},r),i=Ya(i,r,n,null),v.return=t,i.return=t,v.sibling=i,t.child=v,r=t.child,r.memoizedState=Zr(n),r.childLanes=Fr(e,g,n),t.memoizedState=Vr,i):(Wn(t),Xr(t,v))}if(x=e.memoizedState,x!==null&&(v=x.dehydrated,v!==null)){if(u)t.flags&256?(Wn(t),t.flags&=-257,t=Qr(e,t,n)):t.memoizedState!==null?(In(),t.child=e.child,t.flags|=128,t=null):(In(),r=i.fallback,v=t.mode,i=$r({mode:"visible",children:i.children},v),r=Ya(r,v,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,ja(t,e.child,null,n),i=t.child,i.memoizedState=Zr(n),i.childLanes=Fr(e,g,n),t.memoizedState=Vr,t=r);else if(Wn(t),v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var _=g.dgst;g=_,i=Error(o(419)),i.stack="",i.digest=g,li({value:i,source:null,stack:null}),t=Qr(e,t,n)}else if(bt||yi(e,t,n,!1),g=(n&e.childLanes)!==0,bt||g){if(g=Ie,g!==null){if(i=n&-n,(i&42)!==0)i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(i=(i&(g.suspendedLanes|n))!==0?0:i,i!==0&&i!==x.retryLane)throw x.retryLane=i,Jn(e,i),Ut(g,e,i),Id}v.data==="$?"||wc(),t=Qr(e,t,n)}else v.data==="$?"?(t.flags|=128,t.child=e.child,t=E1.bind(null,e),v._reactRetry=t,t=null):(e=x.treeContext,xt=mn(v.nextSibling),Dt=t,Fe=!0,dn=null,bn=!1,e!==null&&(en[tn++]=Rn,en[tn++]=kn,en[tn++]=Ra,Rn=e.id,kn=e.overflow,Ra=t),t=Xr(t,i.children),t.flags|=4096);return t}return r?(In(),r=i.fallback,v=t.mode,x=e.child,_=x.sibling,i=ca(x,{mode:"hidden",children:i.children}),i.subtreeFlags=x.subtreeFlags&31457280,_!==null?r=ca(_,r):(r=Ya(r,v,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,v=e.child.memoizedState,v===null?v=Zr(n):(x=v.cachePool,x!==null?(_=vt._currentValue,x=x.parent!==_?{parent:_,pool:_}:x):x=cd(),v={baseLanes:v.baseLanes|n,cachePool:x}),r.memoizedState=v,r.childLanes=Fr(e,g,n),t.memoizedState=Vr,i):(Wn(t),n=e.child,e=n.sibling,n=ca(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=n,t.memoizedState=null,n)}function Xr(e,t){return t=$r({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $r(e,t){return D0(e,t,0,null)}function Qr(e,t,n){return ja(t,e.child,null,n),e=Xr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function c0(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Wr(e.return,t,n)}function Pr(e,t,n,i,r){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=n,u.tailMode=r)}function u0(e,t,n){var i=t.pendingProps,r=i.revealOrder,u=i.tail;if(Ct(e,t,i.children,n),i=yt.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&c0(e,n,t);else if(e.tag===19)c0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(te(yt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&xl(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Pr(t,!1,r,n,u);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&xl(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Pr(t,!0,n,null,u);break;case"together":Pr(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ua|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(yi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=ca(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ca(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ul(e)))}function o1(e,t,n){switch(t.tag){case 3:ne(t,t.stateNode.containerInfo),na(t,vt,e.memoizedState.cache),ii();break;case 27:case 5:me(t);break;case 4:ne(t,t.stateNode.containerInfo);break;case 10:na(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Wn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?r0(e,t,n):(Wn(t),e=Dn(e,t,n),e!==null?e.sibling:null);Wn(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(yi(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return u0(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),te(yt,yt.current),i)break;return null;case 22:case 23:return t.lanes=0,a0(e,t,n);case 24:na(t,vt,e.memoizedState.cache)}return Dn(e,t,n)}function f0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)bt=!0;else{if(!Kr(e,n)&&(t.flags&128)===0)return bt=!1,o1(e,t,n);bt=(e.flags&131072)!==0}else bt=!1,Fe&&(t.flags&1048576)!==0&&Pf(t,vl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")uc(i)?(e=Ba(i,e),t.tag=1,t=l0(null,t,i,e,n)):(t.tag=0,t=Yr(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===C){t.tag=11,t=e0(null,t,i,e,n);break e}else if(r===U){t.tag=14,t=t0(null,t,i,e,n);break e}}throw t=re(i)||i,Error(o(306,t,""))}}return t;case 0:return Yr(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Ba(i,t.pendingProps),l0(e,t,i,r,n);case 3:e:{if(ne(t,t.stateNode.containerInfo),e===null)throw Error(o(387));var u=t.pendingProps;r=t.memoizedState,i=r.element,tc(e,t),bi(t,u,null,n);var g=t.memoizedState;if(u=g.cache,na(t,vt,u),u!==r.cache&&Ir(t,[vt],n,!0),Si(),u=g.element,r.isDehydrated)if(r={element:u,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=o0(e,t,u,n);break e}else if(u!==i){i=It(Error(o(424)),t),li(i),t=o0(e,t,u,n);break e}else for(xt=mn(t.stateNode.containerInfo.firstChild),Dt=t,Fe=!0,dn=null,bn=!0,n=sd(t,null,u,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ii(),u===i){t=Dn(e,t,n);break e}Ct(e,t,u,n)}t=t.child}return t;case 26:return pi(e,t),e===null?(n=mh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Fe||(n=t.type,e=t.pendingProps,i=Jl(B.current).createElement(n),i[Nt]=t,i[Ht]=e,Mt(i,n,e),St(i),t.stateNode=i):t.memoizedState=mh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return me(t),e===null&&Fe&&(i=t.stateNode=fh(t.type,t.pendingProps,B.current),Dt=t,bn=!0,xt=mn(i.firstChild)),i=t.pendingProps.children,e!==null||Fe?Ct(e,t,i,n):t.child=ja(t,null,i,n),pi(e,t),t.child;case 5:return e===null&&Fe&&((r=i=xt)&&(i=L1(i,t.type,t.pendingProps,bn),i!==null?(t.stateNode=i,Dt=t,xt=mn(i.firstChild),bn=!1,r=!0):r=!1),r||Oa(t)),me(t),r=t.type,u=t.pendingProps,g=e!==null?e.memoizedProps:null,i=u.children,zc(r,u)?i=null:g!==null&&zc(r,g)&&(t.flags|=32),t.memoizedState!==null&&(r=Cr(e,t,e1,null,null,n),Ui._currentValue=r),pi(e,t),Ct(e,t,i,n),t.child;case 6:return e===null&&Fe&&((e=n=xt)&&(n=B1(n,t.pendingProps,bn),n!==null?(t.stateNode=n,Dt=t,xt=null,e=!0):e=!1),e||Oa(t)),null;case 13:return r0(e,t,n);case 4:return ne(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ja(t,null,i,n):Ct(e,t,i,n),t.child;case 11:return e0(e,t,t.type,t.pendingProps,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,na(t,t.type,i.value),Ct(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Ha(t),r=_t(r),i=i(r),t.flags|=1,Ct(e,t,i,n),t.child;case 14:return t0(e,t,t.type,t.pendingProps,n);case 15:return n0(e,t,t.type,t.pendingProps,n);case 19:return u0(e,t,n);case 22:return a0(e,t,n);case 24:return Ha(t),i=_t(vt),e===null?(r=wr(),r===null&&(r=Ie,u=br(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=n),r=u),t.memoizedState={parent:i,cache:r},ec(t),na(t,vt,r)):((e.lanes&n)!==0&&(tc(e,t),bi(t,null,null,n),Si()),r=e.memoizedState,u=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),na(t,vt,i)):(i=u.cache,na(t,vt,i),i!==r.cache&&Ir(t,[vt],n,!0))),Ct(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}var Jr=ge(null),qa=null,Un=null;function na(e,t,n){te(Jr,t._currentValue),t._currentValue=n}function zn(e){e._currentValue=Jr.current,Z(Jr)}function Wr(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ir(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){var g=r.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=r;for(var x=0;x<t.length;x++)if(v.context===t[x]){u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),Wr(u.return,n,e),i||(g=null);break e}u=v.next}}else if(r.tag===18){if(g=r.return,g===null)throw Error(o(341));g.lanes|=n,u=g.alternate,u!==null&&(u.lanes|=n),Wr(g,n,e),g=null}else g=r.child;if(g!==null)g.return=r;else for(g=r;g!==null;){if(g===e){g=null;break}if(r=g.sibling,r!==null){r.return=g.return,g=r;break}g=g.return}r=g}}function yi(e,t,n,i){e=null;for(var r=t,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var g=r.alternate;if(g===null)throw Error(o(387));if(g=g.memoizedProps,g!==null){var v=r.type;Zt(r.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(r===ee.current){if(g=r.alternate,g===null)throw Error(o(387));g.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Ui):e=[Ui])}r=r.return}e!==null&&Ir(t,e,n,i),t.flags|=262144}function Ul(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ha(e){qa=e,Un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return d0(qa,e)}function zl(e,t){return qa===null&&Ha(e),d0(e,t)}function d0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Un===null){if(e===null)throw Error(o(308));Un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Un=Un.next=t;return n}var aa=!1;function ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ia(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(at&2)!==0){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=pl(e),$f(e,null,n),t}return gl(e,i,t,n),pl(e)}function vi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194176)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ef(e,n)}}function nc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?r=u=g:u=u.next=g,n=n.next}while(n!==null);u===null?r=u=t:u=u.next=t}else r=u=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ac=!1;function Si(){if(ac){var e=ws;if(e!==null)throw e}}function bi(e,t,n,i){ac=!1;var r=e.updateQueue;aa=!1;var u=r.firstBaseUpdate,g=r.lastBaseUpdate,v=r.shared.pending;if(v!==null){r.shared.pending=null;var x=v,_=x.next;x.next=null,g===null?u=_:g.next=_,g=x;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,v=Y.lastBaseUpdate,v!==g&&(v===null?Y.firstBaseUpdate=_:v.next=_,Y.lastBaseUpdate=x))}if(u!==null){var K=r.baseState;g=0,Y=_=x=null,v=u;do{var D=v.lane&-536870913,q=D!==v.lane;if(q?(Ye&D)===D:(i&D)===D){D!==0&&D===Es&&(ac=!0),Y!==null&&(Y=Y.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ve=e,Re=v;D=t;var ot=n;switch(Re.tag){case 1:if(ve=Re.payload,typeof ve=="function"){K=ve.call(ot,K,D);break e}K=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Re.payload,D=typeof ve=="function"?ve.call(ot,K,D):ve,D==null)break e;K=ue({},K,D);break e;case 2:aa=!0}}D=v.callback,D!==null&&(e.flags|=64,q&&(e.flags|=8192),q=r.callbacks,q===null?r.callbacks=[D]:q.push(D))}else q={lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},Y===null?(_=Y=q,x=K):Y=Y.next=q,g|=D;if(v=v.next,v===null){if(v=r.shared.pending,v===null)break;q=v,v=q.next,q.next=null,r.lastBaseUpdate=q,r.shared.pending=null}}while(!0);Y===null&&(x=K),r.baseState=x,r.firstBaseUpdate=_,r.lastBaseUpdate=Y,u===null&&(r.shared.lanes=0),ua|=g,e.lanes=g,e.memoizedState=K}}function h0(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function m0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)h0(n[e],t)}function Ei(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var u=n.create,g=n.inst;i=u(),g.destroy=i}n=n.next}while(n!==r)}}catch(v){We(t,t.return,v)}}function la(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var u=r.next;i=u;do{if((i.tag&e)===e){var g=i.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,r=t;var x=n;try{v()}catch(_){We(r,x,_)}}}i=i.next}while(i!==u)}}catch(_){We(t,t.return,_)}}function g0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{m0(t,n)}catch(i){We(e,e.return,i)}}}function p0(e,t,n){n.props=Ba(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){We(e,t,i)}}function Ga(e,t){try{var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 26:case 27:case 5:var r=i;break;default:r=i}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(u){We(e,t,u)}}function Ft(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){We(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){We(e,t,r)}else n.current=null}function y0(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){We(e,e.return,r)}}function v0(e,t,n){try{var i=e.stateNode;O1(i,e.type,n,t),i[Ht]=t}catch(r){We(e,e.return,r)}}function S0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function sc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||S0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ic(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kl));else if(i!==4&&i!==27&&(e=e.child,e!==null))for(ic(e,t,n),e=e.sibling;e!==null;)ic(e,t,n),e=e.sibling}function Ll(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&i!==27&&(e=e.child,e!==null))for(Ll(e,t,n),e=e.sibling;e!==null;)Ll(e,t,n),e=e.sibling}var Ln=!1,it=!1,lc=!1,b0=typeof WeakSet=="function"?WeakSet:Set,Et=null,E0=!1;function r1(e,t){if(e=e.containerInfo,Dc=ao,e=Bf(e),rr(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var g=0,v=-1,x=-1,_=0,Y=0,K=e,D=null;t:for(;;){for(var q;K!==n||r!==0&&K.nodeType!==3||(v=g+r),K!==u||i!==0&&K.nodeType!==3||(x=g+i),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)D=K,K=q;for(;;){if(K===e)break t;if(D===n&&++_===r&&(v=g),D===u&&++Y===i&&(x=g),(q=K.nextSibling)!==null)break;K=D,D=K.parentNode}K=q}n=v===-1||x===-1?null:{start:v,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uc={focusedElem:e,selectionRange:n},ao=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,r=u.memoizedProps,u=u.memoizedState,i=n.stateNode;try{var ve=Ba(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(ve,u),i.__reactInternalSnapshotBeforeUpdate=e}catch(Re){We(n,n.return,Re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)qc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}return ve=E0,E0=!1,ve}function w0(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:qn(e,n),i&4&&Ei(5,n);break;case 1:if(qn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(v){We(n,n.return,v)}else{var r=Ba(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){We(n,n.return,v)}}i&64&&g0(n),i&512&&Ga(n,n.return);break;case 3:if(qn(e,n),i&64&&(i=n.updateQueue,i!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{m0(i,e)}catch(v){We(n,n.return,v)}}break;case 26:qn(e,n),i&512&&Ga(n,n.return);break;case 27:case 5:qn(e,n),t===null&&i&4&&y0(n),i&512&&Ga(n,n.return);break;case 12:qn(e,n);break;case 13:qn(e,n),i&4&&M0(e,n);break;case 22:if(r=n.memoizedState!==null||Ln,!r){t=t!==null&&t.memoizedState!==null||it;var u=Ln,g=it;Ln=r,(it=t)&&!g?oa(e,n,(n.subtreeFlags&8772)!==0):qn(e,n),Ln=u,it=g}i&512&&(n.memoizedProps.mode==="manual"?Ga(n,n.return):Ft(n,n.return));break;default:qn(e,n)}}function x0(e){var t=e.alternate;t!==null&&(e.alternate=null,x0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mt=null,Xt=!1;function Bn(e,t,n){for(n=n.child;n!==null;)C0(e,t,n),n=n.sibling}function C0(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(xa,n)}catch{}switch(n.tag){case 26:it||Ft(n,t),Bn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:it||Ft(n,t);var i=mt,r=Xt;for(mt=n.stateNode,Bn(e,t,n),n=n.stateNode,t=n.attributes;t.length;)n.removeAttributeNode(t[0]);Xo(n),mt=i,Xt=r;break;case 5:it||Ft(n,t);case 6:r=mt;var u=Xt;if(mt=null,Bn(e,t,n),mt=r,Xt=u,mt!==null)if(Xt)try{e=mt,i=n.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)}catch(g){We(n,t,g)}else try{mt.removeChild(n.stateNode)}catch(g){We(n,t,g)}break;case 18:mt!==null&&(Xt?(t=mt,n=n.stateNode,t.nodeType===8?Bc(t.parentNode,n):t.nodeType===1&&Bc(t,n),qi(t)):Bc(mt,n.stateNode));break;case 4:i=mt,r=Xt,mt=n.stateNode.containerInfo,Xt=!0,Bn(e,t,n),mt=i,Xt=r;break;case 0:case 11:case 14:case 15:it||la(2,n,t),it||la(4,n,t),Bn(e,t,n);break;case 1:it||(Ft(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&p0(n,t,i)),Bn(e,t,n);break;case 21:Bn(e,t,n);break;case 22:it||Ft(n,t),it=(i=it)||n.memoizedState!==null,Bn(e,t,n),it=i;break;default:Bn(e,t,n)}}function M0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qi(e)}catch(n){We(t,t.return,n)}}function c1(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new b0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new b0),t;default:throw Error(o(435,e.tag))}}function oc(e,t){var n=c1(e);t.forEach(function(i){var r=w1.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function an(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],u=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 27:case 5:mt=v.stateNode,Xt=!1;break e;case 3:mt=v.stateNode.containerInfo,Xt=!0;break e;case 4:mt=v.stateNode.containerInfo,Xt=!0;break e}v=v.return}if(mt===null)throw Error(o(160));C0(u,g,r),mt=null,Xt=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)T0(t,e),t=t.sibling}var hn=null;function T0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(t,e),sn(e),i&4&&(la(3,e,e.return),Ei(3,e),la(5,e,e.return));break;case 1:an(t,e),sn(e),i&512&&(it||n===null||Ft(n,n.return)),i&64&&Ln&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=hn;if(an(t,e),sn(e),i&512&&(it||n===null||Ft(n,n.return)),i&4){var u=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":u=r.getElementsByTagName("title")[0],(!u||u[$s]||u[Nt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(i),r.head.insertBefore(u,r.querySelector("head > title"))),Mt(u,i,n),u[Nt]=e,St(u),i=u;break e;case"link":var g=yh("link","href",r).get(i+(n.href||""));if(g){for(var v=0;v<g.length;v++)if(u=g[v],u.getAttribute("href")===(n.href==null?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(v,1);break t}}u=r.createElement(i),Mt(u,i,n),r.head.appendChild(u);break;case"meta":if(g=yh("meta","content",r).get(i+(n.content||""))){for(v=0;v<g.length;v++)if(u=g[v],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(v,1);break t}}u=r.createElement(i),Mt(u,i,n),r.head.appendChild(u);break;default:throw Error(o(468,i))}u[Nt]=e,St(u),i=u}e.stateNode=i}else vh(r,e.type,e.stateNode);else e.stateNode=ph(r,i,e.memoizedProps);else u!==i?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,i===null?vh(r,e.type,e.stateNode):ph(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&v0(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(i&4&&e.alternate===null){r=e.stateNode,u=e.memoizedProps;try{for(var x=r.firstChild;x;){var _=x.nextSibling,Y=x.nodeName;x[$s]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&x.rel.toLowerCase()==="stylesheet"||r.removeChild(x),x=_}for(var K=e.type,D=r.attributes;D.length;)r.removeAttributeNode(D[0]);Mt(r,K,u),r[Nt]=e,r[Ht]=u}catch(ve){We(e,e.return,ve)}}case 5:if(an(t,e),sn(e),i&512&&(it||n===null||Ft(n,n.return)),e.flags&32){r=e.stateNode;try{cs(r,"")}catch(ve){We(e,e.return,ve)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,v0(e,r,n!==null?n.memoizedProps:r)),i&1024&&(lc=!0);break;case 6:if(an(t,e),sn(e),i&4){if(e.stateNode===null)throw Error(o(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(ve){We(e,e.return,ve)}}break;case 3:if(eo=null,r=hn,hn=Wl(t.containerInfo),an(t,e),hn=r,sn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{qi(t.containerInfo)}catch(ve){We(e,e.return,ve)}lc&&(lc=!1,A0(e));break;case 4:i=hn,hn=Wl(e.stateNode.containerInfo),an(t,e),sn(e),hn=i;break;case 12:an(t,e),sn(e);break;case 13:an(t,e),sn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(pc=ft()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,oc(e,i)));break;case 22:if(i&512&&(it||n===null||Ft(n,n.return)),x=e.memoizedState!==null,_=n!==null&&n.memoizedState!==null,Y=Ln,K=it,Ln=Y||x,it=K||_,an(t,e),it=K,Ln=Y,sn(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,i&8192&&(t._visibility=x?t._visibility&-2:t._visibility|1,x&&(t=Ln||it,n===null||_||t||Ts(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(n=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(n===null){_=n=t;try{if(r=_.stateNode,x)u=r.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{g=_.stateNode,v=_.memoizedProps.style;var q=v!=null&&v.hasOwnProperty("display")?v.display:null;g.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ve){We(_,_.return,ve)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=x?"":_.memoizedProps}catch(ve){We(_,_.return,ve)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,oc(e,n))));break;case 19:an(t,e),sn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,oc(e,i)));break;case 21:break;default:an(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var n=e.return;n!==null;){if(S0(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 27:var r=i.stateNode,u=sc(e);Ll(e,u,r);break;case 5:var g=i.stateNode;i.flags&32&&(cs(g,""),i.flags&=-33);var v=sc(e);Ll(e,v,g);break;case 3:case 4:var x=i.stateNode.containerInfo,_=sc(e);ic(e,_,x);break;default:throw Error(o(161))}}}catch(Y){We(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function A0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;A0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function qn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)w0(e,t.alternate,t),t=t.sibling}function Ts(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:la(4,t,t.return),Ts(t);break;case 1:Ft(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&p0(t,t.return,n),Ts(t);break;case 26:case 27:case 5:Ft(t,t.return),Ts(t);break;case 22:Ft(t,t.return),t.memoizedState===null&&Ts(t);break;default:Ts(t)}e=e.sibling}}function oa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,u=t,g=u.flags;switch(u.tag){case 0:case 11:case 15:oa(r,u,n),Ei(4,u);break;case 1:if(oa(r,u,n),i=u,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(_){We(i,i.return,_)}if(i=u,r=i.updateQueue,r!==null){var v=i.stateNode;try{var x=r.shared.hiddenCallbacks;if(x!==null)for(r.shared.hiddenCallbacks=null,r=0;r<x.length;r++)h0(x[r],v)}catch(_){We(i,i.return,_)}}n&&g&64&&g0(u),Ga(u,u.return);break;case 26:case 27:case 5:oa(r,u,n),n&&i===null&&g&4&&y0(u),Ga(u,u.return);break;case 12:oa(r,u,n);break;case 13:oa(r,u,n),n&&g&4&&M0(r,u);break;case 22:u.memoizedState===null&&oa(r,u,n),Ga(u,u.return);break;default:oa(r,u,n)}t=t.sibling}}function rc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&fi(n))}function cc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fi(e))}function ra(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)N0(e,t,n,i),t=t.sibling}function N0(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:ra(e,t,n,i),r&2048&&Ei(9,t);break;case 3:ra(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fi(e)));break;case 12:if(r&2048){ra(e,t,n,i),e=t.stateNode;try{var u=t.memoizedProps,g=u.id,v=u.onPostCommit;typeof v=="function"&&v(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){We(t,t.return,x)}}else ra(e,t,n,i);break;case 23:break;case 22:u=t.stateNode,t.memoizedState!==null?u._visibility&4?ra(e,t,n,i):wi(e,t):u._visibility&4?ra(e,t,n,i):(u._visibility|=4,As(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&rc(t.alternate,t);break;case 24:ra(e,t,n,i),r&2048&&cc(t.alternate,t);break;default:ra(e,t,n,i)}}function As(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,g=t,v=n,x=i,_=g.flags;switch(g.tag){case 0:case 11:case 15:As(u,g,v,x,r),Ei(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&4?As(u,g,v,x,r):wi(u,g):(Y._visibility|=4,As(u,g,v,x,r)),r&&_&2048&&rc(g.alternate,g);break;case 24:As(u,g,v,x,r),r&&_&2048&&cc(g.alternate,g);break;default:As(u,g,v,x,r)}t=t.sibling}}function wi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:wi(n,i),r&2048&&rc(i.alternate,i);break;case 24:wi(n,i),r&2048&&cc(i.alternate,i);break;default:wi(n,i)}t=t.sibling}}var xi=8192;function Ns(e){if(e.subtreeFlags&xi)for(e=e.child;e!==null;)_0(e),e=e.sibling}function _0(e){switch(e.tag){case 26:Ns(e),e.flags&xi&&e.memoizedState!==null&&J1(hn,e.memoizedState,e.memoizedProps);break;case 5:Ns(e);break;case 3:case 4:var t=hn;hn=Wl(e.stateNode.containerInfo),Ns(e),hn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=xi,xi=16777216,Ns(e),xi=t):Ns(e));break;default:Ns(e)}}function R0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ci(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Et=i,O0(i,e)}R0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)k0(e),e=e.sibling}function k0(e){switch(e.tag){case 0:case 11:case 15:Ci(e),e.flags&2048&&la(9,e,e.return);break;case 3:Ci(e);break;case 12:Ci(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,Bl(e)):Ci(e);break;default:Ci(e)}}function Bl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Et=i,O0(i,e)}R0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:la(8,t,t.return),Bl(t);break;case 22:n=t.stateNode,n._visibility&4&&(n._visibility&=-5,Bl(t));break;default:Bl(t)}e=e.sibling}}function O0(e,t){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:la(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:fi(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Et=i;else e:for(n=e;Et!==null;){i=Et;var r=i.sibling,u=i.return;if(x0(i),i===n){Et=null;break e}if(r!==null){r.return=u,Et=r;break e}Et=u}}}function u1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,n,i){return new u1(e,t,n,i)}function uc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ca(e,t){var n=e.alternate;return n===null?(n=ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&31457280,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function j0(e,t){e.flags&=31457282;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ql(e,t,n,i,r,u){var g=0;if(i=e,typeof e=="function")uc(e)&&(g=1);else if(typeof e=="string")g=P1(e,n,ye.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case m:return Ya(n.children,r,u,t);case y:g=8,r|=24;break;case E:return e=ln(12,n,t,r|2),e.elementType=E,e.lanes=u,e;case M:return e=ln(13,n,t,r),e.elementType=M,e.lanes=u,e;case A:return e=ln(19,n,t,r),e.elementType=A,e.lanes=u,e;case G:return D0(n,r,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:case O:g=10;break e;case w:g=9;break e;case C:g=11;break e;case U:g=14;break e;case H:g=16,i=null;break e}g=29,n=Error(o(130,e===null?"null":typeof e,"")),i=null}return t=ln(g,n,t,r),t.elementType=e,t.type=i,t.lanes=u,t}function Ya(e,t,n,i){return e=ln(7,e,i,t),e.lanes=n,e}function D0(e,t,n,i){e=ln(22,e,i,t),e.elementType=G,e.lanes=n;var r={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var u=r._current;if(u===null)throw Error(o(456));if((r._pendingVisibility&2)===0){var g=Jn(u,2);g!==null&&(r._pendingVisibility|=2,Ut(g,u,2))}},attach:function(){var u=r._current;if(u===null)throw Error(o(456));if((r._pendingVisibility&2)!==0){var g=Jn(u,2);g!==null&&(r._pendingVisibility&=-3,Ut(g,u,2))}}};return e.stateNode=r,e}function fc(e,t,n){return e=ln(6,e,null,t),e.lanes=n,e}function dc(e,t,n){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hn(e){e.flags|=4}function U0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Sh(t)){if(t=nn.current,t!==null&&((Ye&4194176)===Ye?En!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||t!==En))throw ri=yr,Wf;e.flags|=8192}}function Hl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?An():536870912,e.lanes|=t,Rs|=t)}function Mi(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&31457280,i|=r.flags&31457280,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function f1(e,t,n){var i=t.pendingProps;switch(gr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return nt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),zn(vt),we(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(si(t)?Hn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,dn!==null&&(bc(dn),dn=null))),nt(t),null;case 26:return n=t.memoizedState,e===null?(Hn(t),n!==null?(nt(t),U0(t,n)):(nt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Hn(t),nt(t),U0(t,n)):(nt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Hn(t),nt(t),t.flags&=-16777217),null;case 27:Oe(t),n=B.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Hn(t);else{if(!i){if(t.stateNode===null)throw Error(o(166));return nt(t),null}e=ye.current,si(t)?Kf(t):(e=fh(r,i,n),t.stateNode=e,Hn(t))}return nt(t),null;case 5:if(Oe(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Hn(t);else{if(!i){if(t.stateNode===null)throw Error(o(166));return nt(t),null}if(e=ye.current,si(t))Kf(t);else{switch(r=Jl(B.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Nt]=t,e[Ht]=i;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(Mt(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Hn(t)}}return nt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Hn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(o(166));if(e=B.current,si(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Dt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Nt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||ih(e.nodeValue,n)),e||Oa(t)}else e=Jl(e).createTextNode(i),e[Nt]=t,t.stateNode=e}return nt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=si(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(o(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(317));r[Nt]=t}else ii(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),r=!1}else dn!==null&&(bc(dn),dn=null),r=!0;if(!r)return t.flags&256?(On(t),t):(On(t),null)}if(On(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var u=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Hl(t,t.updateQueue),nt(t),null;case 4:return we(),e===null&&kc(t.stateNode.containerInfo),nt(t),null;case 10:return zn(t.type),nt(t),null;case 19:if(Z(yt),r=t.memoizedState,r===null)return nt(t),null;if(i=(t.flags&128)!==0,u=r.rendering,u===null)if(i)Mi(r,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=xl(e),u!==null){for(t.flags|=128,Mi(r,!1),e=u.updateQueue,t.updateQueue=e,Hl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)j0(n,e),n=n.sibling;return te(yt,yt.current&1|2),t.child}e=e.sibling}r.tail!==null&&ft()>Gl&&(t.flags|=128,i=!0,Mi(r,!1),t.lanes=4194304)}else{if(!i)if(e=xl(u),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Hl(t,e),Mi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!Fe)return nt(t),null}else 2*ft()-r.renderingStartTime>Gl&&n!==536870912&&(t.flags|=128,i=!0,Mi(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ft(),t.sibling=null,e=yt.current,te(yt,i?e&1|2:e&1),t):(nt(t),null);case 22:case 23:return On(t),Sr(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),n=t.updateQueue,n!==null&&Hl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Z(Da),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),zn(vt),nt(t),null;case 25:return null}throw Error(o(156,t.tag))}function d1(e,t){switch(gr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zn(vt),we(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Oe(t),null;case 13:if(On(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(yt),null;case 4:return we(),null;case 10:return zn(t.type),null;case 22:case 23:return On(t),Sr(),e!==null&&Z(Da),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return zn(vt),null;case 25:return null;default:return null}}function z0(e,t){switch(gr(t),t.tag){case 3:zn(vt),we();break;case 26:case 27:case 5:Oe(t);break;case 4:we();break;case 13:On(t);break;case 19:Z(yt);break;case 10:zn(t.type);break;case 22:case 23:On(t),Sr(),e!==null&&Z(Da);break;case 24:zn(vt)}}var h1={getCacheForType:function(e){var t=_t(vt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},m1=typeof WeakMap=="function"?WeakMap:Map,at=0,Ie=null,ze=null,Ye=0,et=0,$t=null,Gn=!1,_s=!1,hc=!1,Yn=0,lt=0,ua=0,Va=0,mc=0,on=0,Rs=0,Ti=null,xn=null,gc=!1,pc=0,Gl=1/0,Yl=null,fa=null,Vl=!1,Za=null,Ai=0,yc=0,vc=null,Ni=0,Sc=null;function Qt(){if((at&2)!==0&&Ye!==0)return Ye&-Ye;if(ie.T!==null){var e=Es;return e!==0?e:Ac()}return nf()}function L0(){on===0&&(on=(Ye&536870912)===0||Fe?Ca():536870912);var e=nn.current;return e!==null&&(e.flags|=32),on}function Ut(e,t,n){(e===Ie&&et===2||e.cancelPendingCommit!==null)&&(ks(e,0),Vn(e,Ye,on,!1)),Qn(e,n),((at&2)===0||e!==Ie)&&(e===Ie&&((at&2)===0&&(Va|=n),lt===4&&Vn(e,Ye,on,!1)),Cn(e))}function B0(e,t,n){if((at&6)!==0)throw Error(o(327));var i=!n&&(t&60)===0&&(t&e.expiredLanes)===0||vn(e,t),r=i?y1(e,t):xc(e,t,!0),u=i;do{if(r===0){_s&&!i&&Vn(e,t,0,!1);break}else if(r===6)Vn(e,t,0,!Gn);else{if(n=e.current.alternate,u&&!g1(n)){r=xc(e,t,!1),u=!1;continue}if(r===2){if(u=t,e.errorRecoveryDisabledLanes&u)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var v=e;r=Ti;var x=v.current.memoizedState.isDehydrated;if(x&&(ks(v,g).flags|=256),g=xc(v,g,!1),g!==2){if(hc&&!x){v.errorRecoveryDisabledLanes|=u,Va|=u,r=4;break e}u=xn,xn=r,u!==null&&bc(u)}r=g}if(u=!1,r!==2)continue}}if(r===1){ks(e,0),Vn(e,t,0,!0);break}e:{switch(i=e,r){case 0:case 1:throw Error(o(345));case 4:if((t&4194176)===t){Vn(i,t,on,!Gn);break e}break;case 2:xn=null;break;case 3:case 5:break;default:throw Error(o(329))}if(i.finishedWork=n,i.finishedLanes=t,(t&62914560)===t&&(u=pc+300-ft(),10<u)){if(Vn(i,t,on,!Gn),Qe(i,0)!==0)break e;i.timeoutHandle=rh(q0.bind(null,i,n,xn,Yl,gc,t,on,Va,Rs,Gn,2,-0,0),u);break e}q0(i,n,xn,Yl,gc,t,on,Va,Rs,Gn,0,-0,0)}}break}while(!0);Cn(e)}function bc(e){xn===null?xn=e:xn.push.apply(xn,e)}function q0(e,t,n,i,r,u,g,v,x,_,Y,K,D){var q=t.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(Di={stylesheets:null,count:0,unsuspend:K1},_0(t),t=W1(),t!==null)){e.cancelPendingCommit=t(X0.bind(null,e,n,i,r,g,v,x,1,K,D)),Vn(e,u,g,!_);return}X0(e,n,i,r,g,v,x,Y,K,D)}function g1(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],u=r.getSnapshot;r=r.value;try{if(!Zt(u(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vn(e,t,n,i){t&=~mc,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var u=31-I(r),g=1<<u;i[u]=-1,r&=~g}n!==0&&nl(e,n,t)}function Zl(){return(at&6)===0?(_i(0),!1):!0}function Ec(){if(ze!==null){if(et===0)var e=ze.return;else e=ze,Un=qa=null,Ar(e),Ss=null,ci=0,e=ze;for(;e!==null;)z0(e.alternate,e),e=e.return;ze=null}}function ks(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,D1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ec(),Ie=e,ze=n=ca(e.current,null),Ye=t,et=0,$t=null,Gn=!1,_s=vn(e,t),hc=!1,Rs=on=mc=Va=ua=lt=0,xn=Ti=null,gc=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-I(i),u=1<<r;t|=e[r],i&=~u}return Yn=t,ml(),n}function H0(e,t){De=null,ie.H=wn,t===oi?(t=td(),et=3):t===Wf?(t=td(),et=4):et=t===Id?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,$t=t,ze===null&&(lt=1,Dl(e,It(t,e.current)))}function G0(){var e=ie.H;return ie.H=wn,e===null?wn:e}function Y0(){var e=ie.A;return ie.A=h1,e}function wc(){lt=4,Gn||(Ye&4194176)!==Ye&&nn.current!==null||(_s=!0),(ua&134217727)===0&&(Va&134217727)===0||Ie===null||Vn(Ie,Ye,on,!1)}function xc(e,t,n){var i=at;at|=2;var r=G0(),u=Y0();(Ie!==e||Ye!==t)&&(Yl=null,ks(e,t)),t=!1;var g=lt;e:do try{if(et!==0&&ze!==null){var v=ze,x=$t;switch(et){case 8:Ec(),g=6;break e;case 3:case 2:case 6:nn.current===null&&(t=!0);var _=et;if(et=0,$t=null,Os(e,v,x,_),n&&_s){g=0;break e}break;default:_=et,et=0,$t=null,Os(e,v,x,_)}}p1(),g=lt;break}catch(Y){H0(e,Y)}while(!0);return t&&e.shellSuspendCounter++,Un=qa=null,at=i,ie.H=r,ie.A=u,ze===null&&(Ie=null,Ye=0,ml()),g}function p1(){for(;ze!==null;)V0(ze)}function y1(e,t){var n=at;at|=2;var i=G0(),r=Y0();Ie!==e||Ye!==t?(Yl=null,Gl=ft()+500,ks(e,t)):_s=vn(e,t);e:do try{if(et!==0&&ze!==null){t=ze;var u=$t;t:switch(et){case 1:et=0,$t=null,Os(e,t,u,1);break;case 2:if(If(u)){et=0,$t=null,Z0(t);break}t=function(){et===2&&Ie===e&&(et=7),Cn(e)},u.then(t,t);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:If(u)?(et=0,$t=null,Z0(t)):(et=0,$t=null,Os(e,t,u,7));break;case 5:var g=null;switch(ze.tag){case 26:g=ze.memoizedState;case 5:case 27:var v=ze;if(!g||Sh(g)){et=0,$t=null;var x=v.sibling;if(x!==null)ze=x;else{var _=v.return;_!==null?(ze=_,Fl(_)):ze=null}break t}}et=0,$t=null,Os(e,t,u,5);break;case 6:et=0,$t=null,Os(e,t,u,6);break;case 8:Ec(),lt=6;break e;default:throw Error(o(462))}}v1();break}catch(Y){H0(e,Y)}while(!0);return Un=qa=null,ie.H=i,ie.A=r,at=n,ze!==null?0:(Ie=null,Ye=0,ml(),lt)}function v1(){for(;ze!==null&&!Ze();)V0(ze)}function V0(e){var t=f0(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?Fl(e):ze=t}function Z0(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=i0(n,t,t.pendingProps,t.type,void 0,Ye);break;case 11:t=i0(n,t,t.pendingProps,t.type.render,t.ref,Ye);break;case 5:Ar(t);default:z0(n,t),t=ze=j0(t,Yn),t=f0(n,t,Yn)}e.memoizedProps=e.pendingProps,t===null?Fl(e):ze=t}function Os(e,t,n,i){Un=qa=null,Ar(t),Ss=null,ci=0;var r=t.return;try{if(l1(e,r,t,n,Ye)){lt=1,Dl(e,It(n,e.current)),ze=null;return}}catch(u){if(r!==null)throw ze=r,u;lt=1,Dl(e,It(n,e.current)),ze=null;return}t.flags&32768?(Fe||i===1?e=!0:_s||(Ye&536870912)!==0?e=!1:(Gn=e=!0,(i===2||i===3||i===6)&&(i=nn.current,i!==null&&i.tag===13&&(i.flags|=16384))),F0(t,e)):Fl(t)}function Fl(e){var t=e;do{if((t.flags&32768)!==0){F0(t,Gn);return}e=t.return;var n=f1(t.alternate,t,Yn);if(n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);lt===0&&(lt=5)}function F0(e,t){do{var n=d1(e.alternate,e);if(n!==null){n.flags&=32767,ze=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ze=e;return}ze=e=n}while(e!==null);lt=6,ze=null}function X0(e,t,n,i,r,u,g,v,x,_){var Y=ie.T,K=V.p;try{V.p=2,ie.T=null,S1(e,t,n,i,K,r,u,g,v,x,_)}finally{ie.T=Y,V.p=K}}function S1(e,t,n,i,r,u,g,v){do js();while(Za!==null);if((at&6)!==0)throw Error(o(327));var x=e.finishedWork;if(i=e.finishedLanes,x===null)return null;if(e.finishedWork=null,e.finishedLanes=0,x===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var _=x.lanes|x.childLanes;if(_|=dr,tl(e,i,_,u,g,v),e===Ie&&(ze=Ie=null,Ye=0),(x.subtreeFlags&10256)===0&&(x.flags&10256)===0||Vl||(Vl=!0,yc=_,vc=n,x1(ns,function(){return js(),null})),n=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||n?(n=ie.T,ie.T=null,u=V.p,V.p=2,g=at,at|=4,r1(e,x),T0(x,e),Vp(Uc,e.containerInfo),ao=!!Dc,Uc=Dc=null,e.current=x,w0(e,x.alternate,x),rt(),at=g,V.p=u,ie.T=n):e.current=x,Vl?(Vl=!1,Za=e,Ai=i):$0(e,_),_=e.pendingLanes,_===0&&(fa=null),Q(x.stateNode),Cn(e),t!==null)for(r=e.onRecoverableError,x=0;x<t.length;x++)_=t[x],r(_.value,{componentStack:_.stack});return(Ai&3)!==0&&js(),_=e.pendingLanes,(i&4194218)!==0&&(_&42)!==0?e===Sc?Ni++:(Ni=0,Sc=e):Ni=0,_i(0),null}function $0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fi(t)))}function js(){if(Za!==null){var e=Za,t=yc;yc=0;var n=tf(Ai),i=ie.T,r=V.p;try{if(V.p=32>n?32:n,ie.T=null,Za===null)var u=!1;else{n=vc,vc=null;var g=Za,v=Ai;if(Za=null,Ai=0,(at&6)!==0)throw Error(o(331));var x=at;if(at|=4,k0(g.current),N0(g,g.current,v,n),at=x,_i(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(xa,g)}catch{}u=!0}return u}finally{V.p=r,ie.T=i,$0(e,t)}}return!1}function Q0(e,t,n){t=It(n,t),t=Gr(e.stateNode,t,2),e=ia(e,t,2),e!==null&&(Qn(e,2),Cn(e))}function We(e,t,n){if(e.tag===3)Q0(e,e,n);else for(;t!==null;){if(t.tag===3){Q0(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(fa===null||!fa.has(i))){e=It(n,e),n=Jd(2),i=ia(t,n,2),i!==null&&(Wd(n,i,t,e),Qn(i,2),Cn(i));break}}t=t.return}}function Cc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new m1;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(hc=!0,r.add(n),e=b1.bind(null,e,t,n),t.then(e,e))}function b1(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ie===e&&(Ye&n)===n&&(lt===4||lt===3&&(Ye&62914560)===Ye&&300>ft()-pc?(at&2)===0&&ks(e,0):mc|=n,Rs===Ye&&(Rs=0)),Cn(e)}function P0(e,t){t===0&&(t=An()),e=Jn(e,t),e!==null&&(Qn(e,t),Cn(e))}function E1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),P0(e,n)}function w1(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(t),P0(e,n)}function x1(e,t){return xe(e,t)}var Xl=null,Ds=null,Mc=!1,$l=!1,Tc=!1,Fa=0;function Cn(e){e!==Ds&&e.next===null&&(Ds===null?Xl=Ds=e:Ds=Ds.next=e),$l=!0,Mc||(Mc=!0,M1(C1))}function _i(e,t){if(!Tc&&$l){Tc=!0;do for(var n=!1,i=Xl;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var u=0;else{var g=i.suspendedLanes,v=i.pingedLanes;u=(1<<31-I(42|e)+1)-1,u&=r&~(g&~v),u=u&201326677?u&201326677|1:u?u|2:0}u!==0&&(n=!0,W0(i,u))}else u=Ye,u=Qe(i,i===Ie?u:0),(u&3)===0||vn(i,u)||(n=!0,W0(i,u));i=i.next}while(n);Tc=!1}}function C1(){$l=Mc=!1;var e=0;Fa!==0&&(j1()&&(e=Fa),Fa=0);for(var t=ft(),n=null,i=Xl;i!==null;){var r=i.next,u=K0(i,t);u===0?(i.next=null,n===null?Xl=r:n.next=r,r===null&&(Ds=n)):(n=i,(e!==0||(u&3)!==0)&&($l=!0)),i=r}_i(e)}function K0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var g=31-I(u),v=1<<g,x=r[g];x===-1?((v&n)===0||(v&i)!==0)&&(r[g]=as(v,t)):x<=t&&(e.expiredLanes|=v),u&=~v}if(t=Ie,n=Ye,n=Qe(e,e===t?n:0),i=e.callbackNode,n===0||e===t&&et===2||e.cancelPendingCommit!==null)return i!==null&&i!==null&&$e(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||vn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&$e(i),tf(n)){case 2:case 8:n=Ii;break;case 32:n=ns;break;case 268435456:n=el;break;default:n=ns}return i=J0.bind(null,e),n=xe(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&$e(i),e.callbackPriority=2,e.callbackNode=null,2}function J0(e,t){var n=e.callbackNode;if(js()&&e.callbackNode!==n)return null;var i=Ye;return i=Qe(e,e===Ie?i:0),i===0?null:(B0(e,i,t),K0(e,ft()),e.callbackNode!=null&&e.callbackNode===n?J0.bind(null,e):null)}function W0(e,t){if(js())return null;B0(e,t,!0)}function M1(e){U1(function(){(at&6)!==0?xe(yn,e):e()})}function Ac(){return Fa===0&&(Fa=Ca()),Fa}function I0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ol(""+e)}function eh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function T1(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var u=I0((r[Ht]||null).action),g=i.submitter;g&&(t=(t=g[Ht]||null)?I0(t.formAction):g.getAttribute("formAction"),t!==null&&(u=t,g=null));var v=new fl("action","action",null,i,r);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Fa!==0){var x=g?eh(r,g):new FormData(r);zr(n,{pending:!0,data:x,method:r.method,action:u},null,x)}}else typeof u=="function"&&(v.preventDefault(),x=g?eh(r,g):new FormData(r),zr(n,{pending:!0,data:x,method:r.method,action:u},u,x))},currentTarget:r}]})}}for(var Nc=0;Nc<Xf.length;Nc++){var _c=Xf[Nc],A1=_c.toLowerCase(),N1=_c[0].toUpperCase()+_c.slice(1);fn(A1,"on"+N1)}fn(Gf,"onAnimationEnd"),fn(Yf,"onAnimationIteration"),fn(Vf,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(Fp,"onTransitionRun"),fn(Xp,"onTransitionStart"),fn($p,"onTransitionCancel"),fn(Zf,"onTransitionEnd"),os("onMouseEnter",["mouseout","mouseover"]),os("onMouseLeave",["mouseout","mouseover"]),os("onPointerEnter",["pointerout","pointerover"]),os("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ri));function th(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var g=i.length-1;0<=g;g--){var v=i[g],x=v.instance,_=v.currentTarget;if(v=v.listener,x!==u&&r.isPropagationStopped())break e;u=v,r.currentTarget=_;try{u(r)}catch(Y){jl(Y)}r.currentTarget=null,u=x}else for(g=0;g<i.length;g++){if(v=i[g],x=v.instance,_=v.currentTarget,v=v.listener,x!==u&&r.isPropagationStopped())break e;u=v,r.currentTarget=_;try{u(r)}catch(Y){jl(Y)}r.currentTarget=null,u=x}}}}function He(e,t){var n=t[Fo];n===void 0&&(n=t[Fo]=new Set);var i=e+"__bubble";n.has(i)||(nh(t,e,2,!1),n.add(i))}function Rc(e,t,n){var i=0;t&&(i|=4),nh(n,e,i,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function kc(e){if(!e[Ql]){e[Ql]=!0,sf.forEach(function(n){n!=="selectionchange"&&(_1.has(n)||Rc(n,!1,e),Rc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,Rc("selectionchange",!1,t))}}function nh(e,t,n,i){switch(Mh(t)){case 2:var r=ty;break;case 8:r=ny;break;default:r=Zc}n=r.bind(null,t,n,e),r=void 0,!Io||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Oc(e,t,n,i,r){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var v=i.stateNode.containerInfo;if(v===r||v.nodeType===8&&v.parentNode===r)break;if(g===4)for(g=i.return;g!==null;){var x=g.tag;if((x===3||x===4)&&(x=g.stateNode.containerInfo,x===r||x.nodeType===8&&x.parentNode===r))return;g=g.return}for(;v!==null;){if(g=Ma(v),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){i=u=g;continue e}v=v.parentNode}}i=i.return}yf(function(){var _=u,Y=Jo(n),K=[];e:{var D=Ff.get(e);if(D!==void 0){var q=fl,ve=e;switch(e){case"keypress":if(cl(n)===0)break e;case"keydown":case"keyup":q=wp;break;case"focusin":ve="focus",q=ar;break;case"focusout":ve="blur",q=ar;break;case"beforeblur":case"afterblur":q=ar;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Mp;break;case Gf:case Yf:case Vf:q=hp;break;case Zf:q=Ap;break;case"scroll":case"scrollend":q=rp;break;case"wheel":q=_p;break;case"copy":case"cut":case"paste":q=gp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=wf;break;case"toggle":case"beforetoggle":q=kp}var Re=(t&4)!==0,ot=!Re&&(e==="scroll"||e==="scrollend"),k=Re?D!==null?D+"Capture":null:D;Re=[];for(var N=_,j;N!==null;){var F=N;if(j=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||j===null||k===null||(F=Ps(N,k),F!=null&&Re.push(ki(N,F,j))),ot)break;N=N.return}0<Re.length&&(D=new q(D,ve,null,n,Y),K.push({event:D,listeners:Re}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",D&&n!==Ko&&(ve=n.relatedTarget||n.fromElement)&&(Ma(ve)||ve[ss]))break e;if((q||D)&&(D=Y.window===Y?Y:(D=Y.ownerDocument)?D.defaultView||D.parentWindow:window,q?(ve=n.relatedTarget||n.toElement,q=_,ve=ve?Ma(ve):null,ve!==null&&(ot=se(ve),Re=ve.tag,ve!==ot||Re!==5&&Re!==27&&Re!==6)&&(ve=null)):(q=null,ve=_),q!==ve)){if(Re=bf,F="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Re=wf,F="onPointerLeave",k="onPointerEnter",N="pointer"),ot=q==null?D:Qs(q),j=ve==null?D:Qs(ve),D=new Re(F,N+"leave",q,n,Y),D.target=ot,D.relatedTarget=j,F=null,Ma(Y)===_&&(Re=new Re(k,N+"enter",ve,n,Y),Re.target=j,Re.relatedTarget=ot,F=Re),ot=F,q&&ve)t:{for(Re=q,k=ve,N=0,j=Re;j;j=Us(j))N++;for(j=0,F=k;F;F=Us(F))j++;for(;0<N-j;)Re=Us(Re),N--;for(;0<j-N;)k=Us(k),j--;for(;N--;){if(Re===k||k!==null&&Re===k.alternate)break t;Re=Us(Re),k=Us(k)}Re=null}else Re=null;q!==null&&ah(K,D,q,Re,!1),ve!==null&&ot!==null&&ah(K,ot,ve,Re,!0)}}e:{if(D=_?Qs(_):window,q=D.nodeName&&D.nodeName.toLowerCase(),q==="select"||q==="input"&&D.type==="file")var pe=Rf;else if(Nf(D))if(kf)pe=Gp;else{pe=qp;var Ue=Bp}else q=D.nodeName,!q||q.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?_&&Po(_.elementType)&&(pe=Rf):pe=Hp;if(pe&&(pe=pe(e,_))){_f(K,pe,n,Y);break e}Ue&&Ue(e,D,_),e==="focusout"&&_&&D.type==="number"&&_.memoizedProps.value!=null&&Qo(D,"number",D.value)}switch(Ue=_?Qs(_):window,e){case"focusin":(Nf(Ue)||Ue.contentEditable==="true")&&(hs=Ue,cr=_,ai=null);break;case"focusout":ai=cr=hs=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,qf(K,n,Y);break;case"selectionchange":if(Zp)break;case"keydown":case"keyup":qf(K,n,Y)}var Se;if(ir)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else ds?Tf(e,n)&&(Me="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Me="onCompositionStart");Me&&(xf&&n.locale!=="ko"&&(ds||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&ds&&(Se=vf()):(Kn=Y,er="value"in Kn?Kn.value:Kn.textContent,ds=!0)),Ue=Pl(_,Me),0<Ue.length&&(Me=new Ef(Me,e,null,n,Y),K.push({event:Me,listeners:Ue}),Se?Me.data=Se:(Se=Af(n),Se!==null&&(Me.data=Se)))),(Se=jp?Dp(e,n):Up(e,n))&&(Me=Pl(_,"onBeforeInput"),0<Me.length&&(Ue=new Ef("onBeforeInput","beforeinput",null,n,Y),K.push({event:Ue,listeners:Me}),Ue.data=Se)),T1(K,e,_,n,Y)}th(K,t)})}function ki(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pl(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,u=r.stateNode;r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=Ps(e,n),r!=null&&i.unshift(ki(e,r,u)),r=Ps(e,t),r!=null&&i.push(ki(e,r,u))),e=e.return}return i}function Us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ah(e,t,n,i,r){for(var u=t._reactName,g=[];n!==null&&n!==i;){var v=n,x=v.alternate,_=v.stateNode;if(v=v.tag,x!==null&&x===i)break;v!==5&&v!==26&&v!==27||_===null||(x=_,r?(_=Ps(n,u),_!=null&&g.unshift(ki(n,_,x))):r||(_=Ps(n,u),_!=null&&g.push(ki(n,_,x)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var R1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function sh(e){return(typeof e=="string"?e:""+e).replace(R1,`
`).replace(k1,"")}function ih(e,t){return t=sh(t),sh(e)===t}function Kl(){}function Ke(e,t,n,i,r,u){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||cs(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&cs(e,""+i);break;case"className":sl(e,"class",i);break;case"tabIndex":sl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":sl(e,n,i);break;case"style":gf(e,i,u);break;case"data":if(t!=="object"){sl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ol(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Ke(e,t,"name",r.name,r,null),Ke(e,t,"formEncType",r.formEncType,r,null),Ke(e,t,"formMethod",r.formMethod,r,null),Ke(e,t,"formTarget",r.formTarget,r,null)):(Ke(e,t,"encType",r.encType,r,null),Ke(e,t,"method",r.method,r,null),Ke(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ol(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Kl);break;case"onScroll":i!=null&&He("scroll",e);break;case"onScrollEnd":i!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=ol(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":He("beforetoggle",e),He("toggle",e),al(e,"popover",i);break;case"xlinkActuate":_n(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":_n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":_n(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":_n(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":_n(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":_n(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":_n(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":_n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":_n(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":al(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=lp.get(n)||n,al(e,n,i))}}function jc(e,t,n,i,r,u){switch(n){case"style":gf(e,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof i=="string"?cs(e,i):(typeof i=="number"||typeof i=="bigint")&&cs(e,""+i);break;case"onScroll":i!=null&&He("scroll",e);break;case"onScrollEnd":i!=null&&He("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Kl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),u=e[Ht]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,r),typeof i=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):al(e,n,i)}}}function Mt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var i=!1,r=!1,u;for(u in n)if(n.hasOwnProperty(u)){var g=n[u];if(g!=null)switch(u){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ke(e,t,u,g,n,null)}}r&&Ke(e,t,"srcSet",n.srcSet,n,null),i&&Ke(e,t,"src",n.src,n,null);return;case"input":He("invalid",e);var v=u=g=r=null,x=null,_=null;for(i in n)if(n.hasOwnProperty(i)){var Y=n[i];if(Y!=null)switch(i){case"name":r=Y;break;case"type":g=Y;break;case"checked":x=Y;break;case"defaultChecked":_=Y;break;case"value":u=Y;break;case"defaultValue":v=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,t));break;default:Ke(e,t,i,Y,n,null)}}ff(e,u,v,x,_,g,r,!1),il(e);return;case"select":He("invalid",e),i=g=u=null;for(r in n)if(n.hasOwnProperty(r)&&(v=n[r],v!=null))switch(r){case"value":u=v;break;case"defaultValue":g=v;break;case"multiple":i=v;default:Ke(e,t,r,v,n,null)}t=u,n=g,e.multiple=!!i,t!=null?rs(e,!!i,t,!1):n!=null&&rs(e,!!i,n,!0);return;case"textarea":He("invalid",e),u=r=i=null;for(g in n)if(n.hasOwnProperty(g)&&(v=n[g],v!=null))switch(g){case"value":i=v;break;case"defaultValue":r=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:Ke(e,t,g,v,n,null)}hf(e,i,r,u),il(e);return;case"option":for(x in n)if(n.hasOwnProperty(x)&&(i=n[x],i!=null))switch(x){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ke(e,t,x,i,n,null)}return;case"dialog":He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(i=0;i<Ri.length;i++)He(Ri[i],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in n)if(n.hasOwnProperty(_)&&(i=n[_],i!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ke(e,t,_,i,n,null)}return;default:if(Po(t)){for(Y in n)n.hasOwnProperty(Y)&&(i=n[Y],i!==void 0&&jc(e,t,Y,i,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(i=n[v],i!=null&&Ke(e,t,v,i,n,null))}function O1(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,g=null,v=null,x=null,_=null,Y=null;for(q in n){var K=n[q];if(n.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=K;default:i.hasOwnProperty(q)||Ke(e,t,q,null,i,K)}}for(var D in i){var q=i[D];if(K=n[D],i.hasOwnProperty(D)&&(q!=null||K!=null))switch(D){case"type":u=q;break;case"name":r=q;break;case"checked":_=q;break;case"defaultChecked":Y=q;break;case"value":g=q;break;case"defaultValue":v=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,t));break;default:q!==K&&Ke(e,t,D,q,i,K)}}$o(e,g,v,x,_,Y,u,r);return;case"select":q=g=v=D=null;for(u in n)if(x=n[u],n.hasOwnProperty(u)&&x!=null)switch(u){case"value":break;case"multiple":q=x;default:i.hasOwnProperty(u)||Ke(e,t,u,null,i,x)}for(r in i)if(u=i[r],x=n[r],i.hasOwnProperty(r)&&(u!=null||x!=null))switch(r){case"value":D=u;break;case"defaultValue":v=u;break;case"multiple":g=u;default:u!==x&&Ke(e,t,r,u,i,x)}t=v,n=g,i=q,D!=null?rs(e,!!n,D,!1):!!i!=!!n&&(t!=null?rs(e,!!n,t,!0):rs(e,!!n,n?[]:"",!1));return;case"textarea":q=D=null;for(v in n)if(r=n[v],n.hasOwnProperty(v)&&r!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ke(e,t,v,null,i,r)}for(g in i)if(r=i[g],u=n[g],i.hasOwnProperty(g)&&(r!=null||u!=null))switch(g){case"value":D=r;break;case"defaultValue":q=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(o(91));break;default:r!==u&&Ke(e,t,g,r,i,u)}df(e,D,q);return;case"option":for(var ve in n)if(D=n[ve],n.hasOwnProperty(ve)&&D!=null&&!i.hasOwnProperty(ve))switch(ve){case"selected":e.selected=!1;break;default:Ke(e,t,ve,null,i,D)}for(x in i)if(D=i[x],q=n[x],i.hasOwnProperty(x)&&D!==q&&(D!=null||q!=null))switch(x){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ke(e,t,x,D,i,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in n)D=n[Re],n.hasOwnProperty(Re)&&D!=null&&!i.hasOwnProperty(Re)&&Ke(e,t,Re,null,i,D);for(_ in i)if(D=i[_],q=n[_],i.hasOwnProperty(_)&&D!==q&&(D!=null||q!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(o(137,t));break;default:Ke(e,t,_,D,i,q)}return;default:if(Po(t)){for(var ot in n)D=n[ot],n.hasOwnProperty(ot)&&D!==void 0&&!i.hasOwnProperty(ot)&&jc(e,t,ot,void 0,i,D);for(Y in i)D=i[Y],q=n[Y],!i.hasOwnProperty(Y)||D===q||D===void 0&&q===void 0||jc(e,t,Y,D,i,q);return}}for(var k in n)D=n[k],n.hasOwnProperty(k)&&D!=null&&!i.hasOwnProperty(k)&&Ke(e,t,k,null,i,D);for(K in i)D=i[K],q=n[K],!i.hasOwnProperty(K)||D===q||D==null&&q==null||Ke(e,t,K,D,i,q)}var Dc=null,Uc=null;function Jl(e){return e.nodeType===9?e:e.ownerDocument}function lh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function zc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lc=null;function j1(){var e=window.event;return e&&e.type==="popstate"?e===Lc?!1:(Lc=e,!0):(Lc=null,!1)}var rh=typeof setTimeout=="function"?setTimeout:void 0,D1=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,U1=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(e){return ch.resolve(null).then(e).catch(z1)}:rh;function z1(e){setTimeout(function(){throw e})}function Bc(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),qi(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);qi(t)}function qc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":qc(n),Xo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function L1(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[$s])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==r.rel||e.getAttribute("href")!==(r.href==null?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=mn(e.nextSibling),e===null)break}return null}function B1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=mn(e.nextSibling),e===null))return null;return e}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function uh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function fh(e,t,n){switch(t=Jl(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}var rn=new Map,dh=new Set;function Wl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Zn=V.d;V.d={f:q1,r:H1,D:G1,C:Y1,L:V1,m:Z1,X:X1,S:F1,M:$1};function q1(){var e=Zn.f(),t=Zl();return e||t}function H1(e){var t=is(e);t!==null&&t.tag===5&&t.type==="form"?qd(t):Zn.r(e)}var zs=typeof document>"u"?null:document;function hh(e,t,n){var i=zs;if(i&&typeof t=="string"&&t){var r=Jt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),dh.has(r)||(dh.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),Mt(t,"link",e),St(t),i.head.appendChild(t)))}}function G1(e){Zn.D(e),hh("dns-prefetch",e,null)}function Y1(e,t){Zn.C(e,t),hh("preconnect",e,t)}function V1(e,t,n){Zn.L(e,t,n);var i=zs;if(i&&e&&t){var r='link[rel="preload"][as="'+Jt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Jt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Jt(n.imageSizes)+'"]')):r+='[href="'+Jt(e)+'"]';var u=r;switch(t){case"style":u=Ls(e);break;case"script":u=Bs(e)}rn.has(u)||(e=ue({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),rn.set(u,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Oi(u))||t==="script"&&i.querySelector(ji(u))||(t=i.createElement("link"),Mt(t,"link",e),St(t),i.head.appendChild(t)))}}function Z1(e,t){Zn.m(e,t);var n=zs;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Jt(i)+'"][href="'+Jt(e)+'"]',u=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Bs(e)}if(!rn.has(u)&&(e=ue({rel:"modulepreload",href:e},t),rn.set(u,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ji(u)))return}i=n.createElement("link"),Mt(i,"link",e),St(i),n.head.appendChild(i)}}}function F1(e,t,n){Zn.S(e,t,n);var i=zs;if(i&&e){var r=ls(i).hoistableStyles,u=Ls(e);t=t||"default";var g=r.get(u);if(!g){var v={loading:0,preload:null};if(g=i.querySelector(Oi(u)))v.loading=5;else{e=ue({rel:"stylesheet",href:e,"data-precedence":t},n),(n=rn.get(u))&&Hc(e,n);var x=g=i.createElement("link");St(x),Mt(x,"link",e),x._p=new Promise(function(_,Y){x.onload=_,x.onerror=Y}),x.addEventListener("load",function(){v.loading|=1}),x.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Il(g,t,i)}g={type:"stylesheet",instance:g,count:1,state:v},r.set(u,g)}}}function X1(e,t){Zn.X(e,t);var n=zs;if(n&&e){var i=ls(n).hoistableScripts,r=Bs(e),u=i.get(r);u||(u=n.querySelector(ji(r)),u||(e=ue({src:e,async:!0},t),(t=rn.get(r))&&Gc(e,t),u=n.createElement("script"),St(u),Mt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(r,u))}}function $1(e,t){Zn.M(e,t);var n=zs;if(n&&e){var i=ls(n).hoistableScripts,r=Bs(e),u=i.get(r);u||(u=n.querySelector(ji(r)),u||(e=ue({src:e,async:!0,type:"module"},t),(t=rn.get(r))&&Gc(e,t),u=n.createElement("script"),St(u),Mt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(r,u))}}function mh(e,t,n,i){var r=(r=B.current)?Wl(r):null;if(!r)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ls(n.href),n=ls(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ls(n.href);var u=ls(r).hoistableStyles,g=u.get(e);if(g||(r=r.ownerDocument||r,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,g),(u=r.querySelector(Oi(e)))&&!u._p&&(g.instance=u,g.state.loading=5),rn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},rn.set(e,n),u||Q1(r,e,n,g.state))),t&&i===null)throw Error(o(528,""));return g}if(t&&i!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Bs(n),n=ls(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ls(e){return'href="'+Jt(e)+'"'}function Oi(e){return'link[rel="stylesheet"]['+e+"]"}function gh(e){return ue({},e,{"data-precedence":e.precedence,precedence:null})}function Q1(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Mt(t,"link",n),St(t),e.head.appendChild(t))}function Bs(e){return'[src="'+Jt(e)+'"]'}function ji(e){return"script[async]"+e}function ph(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Jt(n.href)+'"]');if(i)return t.instance=i,St(i),i;var r=ue({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),St(i),Mt(i,"style",r),Il(i,n.precedence,e),t.instance=i;case"stylesheet":r=Ls(n.href);var u=e.querySelector(Oi(r));if(u)return t.state.loading|=4,t.instance=u,St(u),u;i=gh(n),(r=rn.get(r))&&Hc(i,r),u=(e.ownerDocument||e).createElement("link"),St(u);var g=u;return g._p=new Promise(function(v,x){g.onload=v,g.onerror=x}),Mt(u,"link",i),t.state.loading|=4,Il(u,n.precedence,e),t.instance=u;case"script":return u=Bs(n.src),(r=e.querySelector(ji(u)))?(t.instance=r,St(r),r):(i=n,(r=rn.get(u))&&(i=ue({},n),Gc(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),St(r),Mt(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Il(i,n.precedence,e));return t.instance}function Il(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,u=r,g=0;g<i.length;g++){var v=i[g];if(v.dataset.precedence===t)u=v;else if(u!==r)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Hc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Gc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var eo=null;function yh(e,t,n){if(eo===null){var i=new Map,r=eo=new Map;r.set(n,i)}else r=eo,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var u=n[r];if(!(u[$s]||u[Nt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var g=u.getAttribute(t)||"";g=e+g;var v=i.get(g);v?v.push(u):i.set(g,[u])}}return i}function vh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function P1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Sh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Di=null;function K1(){}function J1(e,t,n){if(Di===null)throw Error(o(475));var i=Di;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var r=Ls(n.href),u=e.querySelector(Oi(r));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=to.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=u,St(u);return}u=e.ownerDocument||e,n=gh(n),(r=rn.get(r))&&Hc(n,r),u=u.createElement("link"),St(u);var g=u;g._p=new Promise(function(v,x){g.onload=v,g.onerror=x}),Mt(u,"link",n),t.instance=u}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=to.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function W1(){if(Di===null)throw Error(o(475));var e=Di;return e.stylesheets&&e.count===0&&Yc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Yc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function to(){if(this.count--,this.count===0){if(this.stylesheets)Yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var no=null;function Yc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,no=new Map,t.forEach(I1,e),no=null,to.call(e))}function I1(e,t){if(!(t.state.loading&4)){var n=no.get(e);if(n)var i=n.get(null);else{n=new Map,no.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var g=r[u];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),i=g)}i&&n.set(null,i)}r=t.instance,g=r.getAttribute("data-precedence"),u=n.get(g)||i,u===i&&n.set(null,r),n.set(g,r),this.count++,i=to.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),u?u.parentNode.insertBefore(r,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Ui={$$typeof:O,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function ey(e,t,n,i,r,u,g,v){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sn(0),this.hiddenUpdates=Sn(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function bh(e,t,n,i,r,u,g,v,x,_,Y,K){return e=new ey(e,t,n,g,v,x,_,K),t=1,u===!0&&(t|=24),u=ln(3,null,null,t),e.current=u,u.stateNode=e,t=br(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:i,isDehydrated:n,cache:t},ec(u),e}function Eh(e){return e?(e=ps,e):ps}function wh(e,t,n,i,r,u){r=Eh(r),i.context===null?i.context=r:i.pendingContext=r,i=sa(t),i.payload={element:n},u=u===void 0?null:u,u!==null&&(i.callback=u),n=ia(e,i,t),n!==null&&(Ut(n,e,t),vi(n,e,t))}function xh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vc(e,t){xh(e,t),(e=e.alternate)&&xh(e,t)}function Ch(e){if(e.tag===13){var t=Jn(e,67108864);t!==null&&Ut(t,e,67108864),Vc(e,67108864)}}var ao=!0;function ty(e,t,n,i){var r=ie.T;ie.T=null;var u=V.p;try{V.p=2,Zc(e,t,n,i)}finally{V.p=u,ie.T=r}}function ny(e,t,n,i){var r=ie.T;ie.T=null;var u=V.p;try{V.p=8,Zc(e,t,n,i)}finally{V.p=u,ie.T=r}}function Zc(e,t,n,i){if(ao){var r=Fc(i);if(r===null)Oc(e,t,i,so,n),Th(e,i);else if(sy(r,e,t,n,i))i.stopPropagation();else if(Th(e,i),t&4&&-1<ay.indexOf(e)){for(;r!==null;){var u=is(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var g=pt(u.pendingLanes);if(g!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var x=1<<31-I(g);v.entanglements[1]|=x,g&=~x}Cn(u),(at&6)===0&&(Gl=ft()+500,_i(0))}}break;case 13:v=Jn(u,2),v!==null&&Ut(v,u,2),Zl(),Vc(u,2)}if(u=Fc(i),u===null&&Oc(e,t,i,so,n),u===r)break;r=u}r!==null&&i.stopPropagation()}else Oc(e,t,i,null,n)}}function Fc(e){return e=Jo(e),Xc(e)}var so=null;function Xc(e){if(so=null,e=Ma(e),e!==null){var t=se(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=be(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return so=e,null}function Mh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($n()){case yn:return 2;case Ii:return 8;case ns:case Vo:return 32;case el:return 268435456;default:return 32}default:return 32}}var $c=!1,da=null,ha=null,ma=null,zi=new Map,Li=new Map,ga=[],ay="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Th(e,t){switch(e){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":zi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function Bi(e,t,n,i,r,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:u,targetContainers:[r]},t!==null&&(t=is(t),t!==null&&Ch(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function sy(e,t,n,i,r){switch(t){case"focusin":return da=Bi(da,e,t,n,i,r),!0;case"dragenter":return ha=Bi(ha,e,t,n,i,r),!0;case"mouseover":return ma=Bi(ma,e,t,n,i,r),!0;case"pointerover":var u=r.pointerId;return zi.set(u,Bi(zi.get(u)||null,e,t,n,i,r)),!0;case"gotpointercapture":return u=r.pointerId,Li.set(u,Bi(Li.get(u)||null,e,t,n,i,r)),!0}return!1}function Ah(e){var t=Ma(e.target);if(t!==null){var n=se(t);if(n!==null){if(t=n.tag,t===13){if(t=be(n),t!==null){e.blockedOn=t,Wg(e.priority,function(){if(n.tag===13){var i=Qt(),r=Jn(n,i);r!==null&&Ut(r,n,i),Vc(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fc(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Ko=i,n.target.dispatchEvent(i),Ko=null}else return t=is(n),t!==null&&Ch(t),e.blockedOn=n,!1;t.shift()}return!0}function Nh(e,t,n){io(e)&&n.delete(t)}function iy(){$c=!1,da!==null&&io(da)&&(da=null),ha!==null&&io(ha)&&(ha=null),ma!==null&&io(ma)&&(ma=null),zi.forEach(Nh),Li.forEach(Nh)}function lo(e,t){e.blockedOn===t&&(e.blockedOn=null,$c||($c=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,iy)))}var oo=null;function _h(e){oo!==e&&(oo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){oo===e&&(oo=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Xc(i||n)===null)continue;break}var u=is(n);u!==null&&(e.splice(t,3),t-=3,zr(u,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function qi(e){function t(x){return lo(x,e)}da!==null&&lo(da,e),ha!==null&&lo(ha,e),ma!==null&&lo(ma,e),zi.forEach(t),Li.forEach(t);for(var n=0;n<ga.length;n++){var i=ga[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ga.length&&(n=ga[0],n.blockedOn===null);)Ah(n),n.blockedOn===null&&ga.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],u=n[i+1],g=r[Ht]||null;if(typeof u=="function")g||_h(n);else if(g){var v=null;if(u&&u.hasAttribute("formAction")){if(r=u,g=u[Ht]||null)v=g.formAction;else if(Xc(r)!==null)continue}else v=g.action;typeof v=="function"?n[i+1]=v:(n.splice(i,3),i-=3),_h(n)}}}function Qc(e){this._internalRoot=e}ro.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,i=Qt();wh(n,i,e,t,null,null)},ro.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&js(),wh(e.current,2,null,e,null,null),Zl(),t[ss]=null}};function ro(e){this._internalRoot=e}ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=nf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ga.length&&t!==0&&t<ga[n].priority;n++);ga.splice(n,0,e),n===0&&Ah(e)}};var Rh=a.version;if(Rh!=="19.0.0")throw Error(o(527,Rh,"19.0.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=R(t),e=e!==null?X(e):null,e=e===null?null:e.stateNode,e};var ly={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,findFiberByHostInstance:Ma,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{xa=co.inject(ly),jt=co}catch{}}return Gi.createRoot=function(e,t){if(!c(e))throw Error(o(299));var n=!1,i="",r=$d,u=Qd,g=Pd,v=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=bh(e,1,!1,null,null,n,i,r,u,g,v,null),e[ss]=t.current,kc(e.nodeType===8?e.parentNode:e),new Qc(t)},Gi.hydrateRoot=function(e,t,n){if(!c(e))throw Error(o(299));var i=!1,r="",u=$d,g=Qd,v=Pd,x=null,_=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(x=n.unstable_transitionCallbacks),n.formState!==void 0&&(_=n.formState)),t=bh(e,1,!0,t,n??null,i,r,u,g,v,x,_),t.context=Eh(null),n=t.current,i=Qt(),r=sa(i),r.callback=null,ia(n,r,i),t.current.lanes=i,Qn(t,i),Cn(t),e[ss]=t.current,kc(e),new ro(t)},Gi.version="19.0.0",Gi}var Hh;function yy(){if(Hh)return Jc.exports;Hh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Jc.exports=py(),Jc.exports}var vy=yy(),Dm=jm();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $i(){return $i=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(s[o]=l[o])}return s},$i.apply(this,arguments)}var va;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(va||(va={}));const Gh="popstate";function Sy(s){s===void 0&&(s={});function a(o,c){let{pathname:f,search:d,hash:p}=o.location;return mu("",{pathname:f,search:d,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function l(o,c){return typeof c=="string"?c:Mo(c)}return Ey(a,l,null,s)}function ut(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Um(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function by(){return Math.random().toString(36).substr(2,8)}function Yh(s,a){return{usr:s.state,key:s.key,idx:a}}function mu(s,a,l,o){return l===void 0&&(l=null),$i({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof a=="string"?Gs(a):a,{state:l,key:a&&a.key||o||by()})}function Mo(s){let{pathname:a="/",search:l="",hash:o=""}=s;return l&&l!=="?"&&(a+=l.charAt(0)==="?"?l:"?"+l),o&&o!=="#"&&(a+=o.charAt(0)==="#"?o:"#"+o),a}function Gs(s){let a={};if(s){let l=s.indexOf("#");l>=0&&(a.hash=s.substr(l),s=s.substr(0,l));let o=s.indexOf("?");o>=0&&(a.search=s.substr(o),s=s.substr(0,o)),s&&(a.pathname=s)}return a}function Ey(s,a,l,o){o===void 0&&(o={});let{window:c=document.defaultView,v5Compat:f=!1}=o,d=c.history,p=va.Pop,m=null,y=E();y==null&&(y=0,d.replaceState($i({},d.state,{idx:y}),""));function E(){return(d.state||{idx:null}).idx}function S(){p=va.Pop;let A=E(),U=A==null?null:A-y;y=A,m&&m({action:p,location:M.location,delta:U})}function w(A,U){p=va.Push;let H=mu(M.location,A,U);y=E()+1;let G=Yh(H,y),oe=M.createHref(H);try{d.pushState(G,"",oe)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;c.location.assign(oe)}f&&m&&m({action:p,location:M.location,delta:1})}function O(A,U){p=va.Replace;let H=mu(M.location,A,U);y=E();let G=Yh(H,y),oe=M.createHref(H);d.replaceState(G,"",oe),f&&m&&m({action:p,location:M.location,delta:0})}function C(A){let U=c.location.origin!=="null"?c.location.origin:c.location.href,H=typeof A=="string"?A:Mo(A);return H=H.replace(/ $/,"%20"),ut(U,"No window.location.(origin|href) available to create URL for href: "+H),new URL(H,U)}let M={get action(){return p},get location(){return s(c,d)},listen(A){if(m)throw new Error("A history only accepts one active listener");return c.addEventListener(Gh,S),m=A,()=>{c.removeEventListener(Gh,S),m=null}},createHref(A){return a(c,A)},createURL:C,encodeLocation(A){let U=C(A);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:w,replace:O,go(A){return d.go(A)}};return M}var Vh;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Vh||(Vh={}));function wy(s,a,l){return l===void 0&&(l="/"),xy(s,a,l)}function xy(s,a,l,o){let c=typeof a=="string"?Gs(a):a,f=ju(c.pathname||"/",l);if(f==null)return null;let d=zm(s);Cy(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let y=zy(f);p=jy(d[m],y)}return p}function zm(s,a,l,o){a===void 0&&(a=[]),l===void 0&&(l=[]),o===void 0&&(o="");let c=(f,d,p)=>{let m={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:d,route:f};m.relativePath.startsWith("/")&&(ut(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let y=ba([o,m.relativePath]),E=l.concat(m);f.children&&f.children.length>0&&(ut(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),zm(f.children,a,E,y)),!(f.path==null&&!f.index)&&a.push({path:y,score:ky(y,f.index),routesMeta:E})};return s.forEach((f,d)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))c(f,d);else for(let m of Lm(f.path))c(f,d,m)}),a}function Lm(s){let a=s.split("/");if(a.length===0)return[];let[l,...o]=a,c=l.endsWith("?"),f=l.replace(/\?$/,"");if(o.length===0)return c?[f,""]:[f];let d=Lm(o.join("/")),p=[];return p.push(...d.map(m=>m===""?f:[f,m].join("/"))),c&&p.push(...d),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function Cy(s){s.sort((a,l)=>a.score!==l.score?l.score-a.score:Oy(a.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}const My=/^:[\w-]+$/,Ty=3,Ay=2,Ny=1,_y=10,Ry=-2,Zh=s=>s==="*";function ky(s,a){let l=s.split("/"),o=l.length;return l.some(Zh)&&(o+=Ry),a&&(o+=Ay),l.filter(c=>!Zh(c)).reduce((c,f)=>c+(My.test(f)?Ty:f===""?Ny:_y),o)}function Oy(s,a){return s.length===a.length&&s.slice(0,-1).every((o,c)=>o===a[c])?s[s.length-1]-a[a.length-1]:0}function jy(s,a,l){let{routesMeta:o}=s,c={},f="/",d=[];for(let p=0;p<o.length;++p){let m=o[p],y=p===o.length-1,E=f==="/"?a:a.slice(f.length)||"/",S=Dy({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},E),w=m.route;if(!S)return null;Object.assign(c,S.params),d.push({params:c,pathname:ba([f,S.pathname]),pathnameBase:Hy(ba([f,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(f=ba([f,S.pathnameBase]))}return d}function Dy(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[l,o]=Uy(s.path,s.caseSensitive,s.end),c=a.match(l);if(!c)return null;let f=c[0],d=f.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:o.reduce((y,E,S)=>{let{paramName:w,isOptional:O}=E;if(w==="*"){let M=p[S]||"";d=f.slice(0,f.length-M.length).replace(/(.)\/+$/,"$1")}const C=p[S];return O&&!C?y[w]=void 0:y[w]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:f,pathnameBase:d,pattern:s}}function Uy(s,a,l){a===void 0&&(a=!1),l===void 0&&(l=!0),Um(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let o=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(o.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),o]}function zy(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Um(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),s}}function ju(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,o=s.charAt(l);return o&&o!=="/"?null:s.slice(l)||"/"}function Ly(s,a){a===void 0&&(a="/");let{pathname:l,search:o="",hash:c=""}=typeof s=="string"?Gs(s):s;return{pathname:l?l.startsWith("/")?l:By(l,a):a,search:Gy(o),hash:Yy(c)}}function By(s,a){let l=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?l.length>1&&l.pop():c!=="."&&l.push(c)}),l.length>1?l.join("/"):"/"}function tu(s,a,l,o){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+l+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qy(s){return s.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function Du(s,a){let l=qy(s);return a?l.map((o,c)=>c===l.length-1?o.pathname:o.pathnameBase):l.map(o=>o.pathnameBase)}function Uu(s,a,l,o){o===void 0&&(o=!1);let c;typeof s=="string"?c=Gs(s):(c=$i({},s),ut(!c.pathname||!c.pathname.includes("?"),tu("?","pathname","search",c)),ut(!c.pathname||!c.pathname.includes("#"),tu("#","pathname","hash",c)),ut(!c.search||!c.search.includes("#"),tu("#","search","hash",c)));let f=s===""||c.pathname==="",d=f?"/":c.pathname,p;if(d==null)p=l;else{let S=a.length-1;if(!o&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),S-=1;c.pathname=w.join("/")}p=S>=0?a[S]:"/"}let m=Ly(c,p),y=d&&d!=="/"&&d.endsWith("/"),E=(f||d===".")&&l.endsWith("/");return!m.pathname.endsWith("/")&&(y||E)&&(m.pathname+="/"),m}const ba=s=>s.join("/").replace(/\/\/+/g,"/"),Hy=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Gy=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Yy=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Vy(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Bm=["post","put","patch","delete"];new Set(Bm);const Zy=["get",...Bm];new Set(Zy);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qi(){return Qi=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(s[o]=l[o])}return s},Qi.apply(this,arguments)}const zu=b.createContext(null),Fy=b.createContext(null),wa=b.createContext(null),jo=b.createContext(null),Xn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),qm=b.createContext(null);function Xy(s,a){let{relative:l}=a===void 0?{}:a;Ys()||ut(!1);let{basename:o,navigator:c}=b.useContext(wa),{hash:f,pathname:d,search:p}=Gm(s,{relative:l}),m=d;return o!=="/"&&(m=d==="/"?o:ba([o,d])),c.createHref({pathname:m,search:p,hash:f})}function Ys(){return b.useContext(jo)!=null}function es(){return Ys()||ut(!1),b.useContext(jo).location}function Hm(s){b.useContext(wa).static||b.useLayoutEffect(s)}function Vs(){let{isDataRoute:s}=b.useContext(Xn);return s?l2():$y()}function $y(){Ys()||ut(!1);let s=b.useContext(zu),{basename:a,future:l,navigator:o}=b.useContext(wa),{matches:c}=b.useContext(Xn),{pathname:f}=es(),d=JSON.stringify(Du(c,l.v7_relativeSplatPath)),p=b.useRef(!1);return Hm(()=>{p.current=!0}),b.useCallback(function(y,E){if(E===void 0&&(E={}),!p.current)return;if(typeof y=="number"){o.go(y);return}let S=Uu(y,JSON.parse(d),f,E.relative==="path");s==null&&a!=="/"&&(S.pathname=S.pathname==="/"?a:ba([a,S.pathname])),(E.replace?o.replace:o.push)(S,E.state,E)},[a,o,d,f,s])}function Qy(){let{matches:s}=b.useContext(Xn),a=s[s.length-1];return a?a.params:{}}function Gm(s,a){let{relative:l}=a===void 0?{}:a,{future:o}=b.useContext(wa),{matches:c}=b.useContext(Xn),{pathname:f}=es(),d=JSON.stringify(Du(c,o.v7_relativeSplatPath));return b.useMemo(()=>Uu(s,JSON.parse(d),f,l==="path"),[s,d,f,l])}function Py(s,a){return Ky(s,a)}function Ky(s,a,l,o){Ys()||ut(!1);let{navigator:c,static:f}=b.useContext(wa),{matches:d}=b.useContext(Xn),p=d[d.length-1],m=p?p.params:{};p&&p.pathname;let y=p?p.pathnameBase:"/";p&&p.route;let E=es(),S;if(a){var w;let U=typeof a=="string"?Gs(a):a;y==="/"||(w=U.pathname)!=null&&w.startsWith(y)||ut(!1),S=U}else S=E;let O=S.pathname||"/",C=O;if(y!=="/"){let U=y.replace(/^\//,"").split("/");C="/"+O.replace(/^\//,"").split("/").slice(U.length).join("/")}let M=wy(s,{pathname:C}),A=t2(M&&M.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:ba([y,c.encodeLocation?c.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:ba([y,c.encodeLocation?c.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),d,l,o);return a&&A?b.createElement(jo.Provider,{value:{location:Qi({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:va.Pop}},A):A}function Jy(){let s=i2(),a=Vy(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),l=s instanceof Error?s.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},a),l?b.createElement("pre",{style:c},l):null,null)}const Wy=b.createElement(Jy,null);class Iy extends b.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,l){return l.location!==a.location||l.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:l.error,location:l.location,revalidation:a.revalidation||l.revalidation}}componentDidCatch(a,l){console.error("React Router caught the following error during render",a,l)}render(){return this.state.error!==void 0?b.createElement(Xn.Provider,{value:this.props.routeContext},b.createElement(qm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function e2(s){let{routeContext:a,match:l,children:o}=s,c=b.useContext(zu);return c&&c.static&&c.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=l.route.id),b.createElement(Xn.Provider,{value:a},o)}function t2(s,a,l,o){var c;if(a===void 0&&(a=[]),l===void 0&&(l=null),o===void 0&&(o=null),s==null){var f;if(!l)return null;if(l.errors)s=l.matches;else if((f=o)!=null&&f.v7_partialHydration&&a.length===0&&!l.initialized&&l.matches.length>0)s=l.matches;else return null}let d=s,p=(c=l)==null?void 0:c.errors;if(p!=null){let E=d.findIndex(S=>S.route.id&&(p==null?void 0:p[S.route.id])!==void 0);E>=0||ut(!1),d=d.slice(0,Math.min(d.length,E+1))}let m=!1,y=-1;if(l&&o&&o.v7_partialHydration)for(let E=0;E<d.length;E++){let S=d[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=E),S.route.id){let{loaderData:w,errors:O}=l,C=S.route.loader&&w[S.route.id]===void 0&&(!O||O[S.route.id]===void 0);if(S.route.lazy||C){m=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}return d.reduceRight((E,S,w)=>{let O,C=!1,M=null,A=null;l&&(O=p&&S.route.id?p[S.route.id]:void 0,M=S.route.errorElement||Wy,m&&(y<0&&w===0?(o2("route-fallback"),C=!0,A=null):y===w&&(C=!0,A=S.route.hydrateFallbackElement||null)));let U=a.concat(d.slice(0,w+1)),H=()=>{let G;return O?G=M:C?G=A:S.route.Component?G=b.createElement(S.route.Component,null):S.route.element?G=S.route.element:G=E,b.createElement(e2,{match:S,routeContext:{outlet:E,matches:U,isDataRoute:l!=null},children:G})};return l&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?b.createElement(Iy,{location:l.location,revalidation:l.revalidation,component:M,error:O,children:H(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):H()},null)}var Ym=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(Ym||{}),Vm=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(Vm||{});function n2(s){let a=b.useContext(zu);return a||ut(!1),a}function a2(s){let a=b.useContext(Fy);return a||ut(!1),a}function s2(s){let a=b.useContext(Xn);return a||ut(!1),a}function Zm(s){let a=s2(),l=a.matches[a.matches.length-1];return l.route.id||ut(!1),l.route.id}function i2(){var s;let a=b.useContext(qm),l=a2(),o=Zm();return a!==void 0?a:(s=l.errors)==null?void 0:s[o]}function l2(){let{router:s}=n2(Ym.UseNavigateStable),a=Zm(Vm.UseNavigateStable),l=b.useRef(!1);return Hm(()=>{l.current=!0}),b.useCallback(function(c,f){f===void 0&&(f={}),l.current&&(typeof c=="number"?s.navigate(c):s.navigate(c,Qi({fromRouteId:a},f)))},[s,a])}const Fh={};function o2(s,a,l){Fh[s]||(Fh[s]=!0)}function r2(s,a){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function Fm(s){let{to:a,replace:l,state:o,relative:c}=s;Ys()||ut(!1);let{future:f,static:d}=b.useContext(wa),{matches:p}=b.useContext(Xn),{pathname:m}=es(),y=Vs(),E=Uu(a,Du(p,f.v7_relativeSplatPath),m,c==="path"),S=JSON.stringify(E);return b.useEffect(()=>y(JSON.parse(S),{replace:l,state:o,relative:c}),[y,S,c,l,o]),null}function Sa(s){ut(!1)}function c2(s){let{basename:a="/",children:l=null,location:o,navigationType:c=va.Pop,navigator:f,static:d=!1,future:p}=s;Ys()&&ut(!1);let m=a.replace(/^\/*/,"/"),y=b.useMemo(()=>({basename:m,navigator:f,static:d,future:Qi({v7_relativeSplatPath:!1},p)}),[m,p,f,d]);typeof o=="string"&&(o=Gs(o));let{pathname:E="/",search:S="",hash:w="",state:O=null,key:C="default"}=o,M=b.useMemo(()=>{let A=ju(E,m);return A==null?null:{location:{pathname:A,search:S,hash:w,state:O,key:C},navigationType:c}},[m,E,S,w,O,C,c]);return M==null?null:b.createElement(wa.Provider,{value:y},b.createElement(jo.Provider,{children:l,value:M}))}function Xm(s){let{children:a,location:l}=s;return Py(gu(a),l)}new Promise(()=>{});function gu(s,a){a===void 0&&(a=[]);let l=[];return b.Children.forEach(s,(o,c)=>{if(!b.isValidElement(o))return;let f=[...a,c];if(o.type===b.Fragment){l.push.apply(l,gu(o.props.children,f));return}o.type!==Sa&&ut(!1),!o.props.index||!o.props.children||ut(!1);let d={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=gu(o.props.children,f)),l.push(d)}),l}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(s[o]=l[o])}return s},pu.apply(this,arguments)}function u2(s,a){if(s==null)return{};var l={},o=Object.keys(s),c,f;for(f=0;f<o.length;f++)c=o[f],!(a.indexOf(c)>=0)&&(l[c]=s[c]);return l}function f2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function d2(s,a){return s.button===0&&(!a||a==="_self")&&!f2(s)}const h2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m2="6";try{window.__reactRouterVersion=m2}catch{}const g2="startTransition",Xh=dy[g2];function $h(s){let{basename:a,children:l,future:o,window:c}=s,f=b.useRef();f.current==null&&(f.current=Sy({window:c,v5Compat:!0}));let d=f.current,[p,m]=b.useState({action:d.action,location:d.location}),{v7_startTransition:y}=o||{},E=b.useCallback(S=>{y&&Xh?Xh(()=>m(S)):m(S)},[m,y]);return b.useLayoutEffect(()=>d.listen(E),[d,E]),b.useEffect(()=>r2(o),[o]),b.createElement(c2,{basename:a,children:l,location:p.location,navigationType:p.action,navigator:d,future:o})}const p2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fi=b.forwardRef(function(a,l){let{onClick:o,relative:c,reloadDocument:f,replace:d,state:p,target:m,to:y,preventScrollReset:E,viewTransition:S}=a,w=u2(a,h2),{basename:O}=b.useContext(wa),C,M=!1;if(typeof y=="string"&&y2.test(y)&&(C=y,p2))try{let G=new URL(window.location.href),oe=y.startsWith("//")?new URL(G.protocol+y):new URL(y),$=ju(oe.pathname,O);oe.origin===G.origin&&$!=null?y=$+oe.search+oe.hash:M=!0}catch{}let A=Xy(y,{relative:c}),U=v2(y,{replace:d,state:p,target:m,preventScrollReset:E,relative:c,viewTransition:S});function H(G){o&&o(G),G.defaultPrevented||U(G)}return b.createElement("a",pu({},w,{href:C||A,onClick:M||f?o:H,ref:l,target:m}))});var Qh;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Qh||(Qh={}));var Ph;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Ph||(Ph={}));function v2(s,a){let{target:l,replace:o,state:c,preventScrollReset:f,relative:d,viewTransition:p}=a===void 0?{}:a,m=Vs(),y=es(),E=Gm(s,{relative:d});return b.useCallback(S=>{if(d2(S,l)){S.preventDefault();let w=o!==void 0?o:Mo(y)===Mo(E);m(s,{replace:w,state:c,preventScrollReset:f,relative:d,viewTransition:p})}},[y,m,E,o,c,l,s,f,d,p])}const Tn=Object.create(null);Tn.open="0";Tn.close="1";Tn.ping="2";Tn.pong="3";Tn.message="4";Tn.upgrade="5";Tn.noop="6";const mo=Object.create(null);Object.keys(Tn).forEach(s=>{mo[Tn[s]]=s});const yu={type:"error",data:"parser error"},$m=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Qm=typeof ArrayBuffer=="function",Pm=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,Lu=({type:s,data:a},l,o)=>$m&&a instanceof Blob?l?o(a):Kh(a,o):Qm&&(a instanceof ArrayBuffer||Pm(a))?l?o(a):Kh(new Blob([a]),o):o(Tn[s]+(a||"")),Kh=(s,a)=>{const l=new FileReader;return l.onload=function(){const o=l.result.split(",")[1];a("b"+(o||""))},l.readAsDataURL(s)};function Jh(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let nu;function S2(s,a){if($m&&s.data instanceof Blob)return s.data.arrayBuffer().then(Jh).then(a);if(Qm&&(s.data instanceof ArrayBuffer||Pm(s.data)))return a(Jh(s.data));Lu(s,!1,l=>{nu||(nu=new TextEncoder),a(nu.encode(l))})}const Wh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<Wh.length;s++)Xi[Wh.charCodeAt(s)]=s;const b2=s=>{let a=s.length*.75,l=s.length,o,c=0,f,d,p,m;s[s.length-1]==="="&&(a--,s[s.length-2]==="="&&a--);const y=new ArrayBuffer(a),E=new Uint8Array(y);for(o=0;o<l;o+=4)f=Xi[s.charCodeAt(o)],d=Xi[s.charCodeAt(o+1)],p=Xi[s.charCodeAt(o+2)],m=Xi[s.charCodeAt(o+3)],E[c++]=f<<2|d>>4,E[c++]=(d&15)<<4|p>>2,E[c++]=(p&3)<<6|m&63;return y},E2=typeof ArrayBuffer=="function",Bu=(s,a)=>{if(typeof s!="string")return{type:"message",data:Km(s,a)};const l=s.charAt(0);return l==="b"?{type:"message",data:w2(s.substring(1),a)}:mo[l]?s.length>1?{type:mo[l],data:s.substring(1)}:{type:mo[l]}:yu},w2=(s,a)=>{if(E2){const l=b2(s);return Km(l,a)}else return{base64:!0,data:s}},Km=(s,a)=>{switch(a){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},Jm="",x2=(s,a)=>{const l=s.length,o=new Array(l);let c=0;s.forEach((f,d)=>{Lu(f,!1,p=>{o[d]=p,++c===l&&a(o.join(Jm))})})},C2=(s,a)=>{const l=s.split(Jm),o=[];for(let c=0;c<l.length;c++){const f=Bu(l[c],a);if(o.push(f),f.type==="error")break}return o};function M2(){return new TransformStream({transform(s,a){S2(s,l=>{const o=l.length;let c;if(o<126)c=new Uint8Array(1),new DataView(c.buffer).setUint8(0,o);else if(o<65536){c=new Uint8Array(3);const f=new DataView(c.buffer);f.setUint8(0,126),f.setUint16(1,o)}else{c=new Uint8Array(9);const f=new DataView(c.buffer);f.setUint8(0,127),f.setBigUint64(1,BigInt(o))}s.data&&typeof s.data!="string"&&(c[0]|=128),a.enqueue(c),a.enqueue(l)})}})}let au;function uo(s){return s.reduce((a,l)=>a+l.length,0)}function fo(s,a){if(s[0].length===a)return s.shift();const l=new Uint8Array(a);let o=0;for(let c=0;c<a;c++)l[c]=s[0][o++],o===s[0].length&&(s.shift(),o=0);return s.length&&o<s[0].length&&(s[0]=s[0].slice(o)),l}function T2(s,a){au||(au=new TextDecoder);const l=[];let o=0,c=-1,f=!1;return new TransformStream({transform(d,p){for(l.push(d);;){if(o===0){if(uo(l)<1)break;const m=fo(l,1);f=(m[0]&128)===128,c=m[0]&127,c<126?o=3:c===126?o=1:o=2}else if(o===1){if(uo(l)<2)break;const m=fo(l,2);c=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),o=3}else if(o===2){if(uo(l)<8)break;const m=fo(l,8),y=new DataView(m.buffer,m.byteOffset,m.length),E=y.getUint32(0);if(E>Math.pow(2,21)-1){p.enqueue(yu);break}c=E*Math.pow(2,32)+y.getUint32(4),o=3}else{if(uo(l)<c)break;const m=fo(l,c);p.enqueue(Bu(f?m:au.decode(m),a)),o=0}if(c===0||c>s){p.enqueue(yu);break}}}})}const Wm=4;function gt(s){if(s)return A2(s)}function A2(s){for(var a in gt.prototype)s[a]=gt.prototype[a];return s}gt.prototype.on=gt.prototype.addEventListener=function(s,a){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(a),this};gt.prototype.once=function(s,a){function l(){this.off(s,l),a.apply(this,arguments)}return l.fn=a,this.on(s,l),this};gt.prototype.off=gt.prototype.removeListener=gt.prototype.removeAllListeners=gt.prototype.removeEventListener=function(s,a){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+s];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var o,c=0;c<l.length;c++)if(o=l[c],o===a||o.fn===a){l.splice(c,1);break}return l.length===0&&delete this._callbacks["$"+s],this};gt.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var a=new Array(arguments.length-1),l=this._callbacks["$"+s],o=1;o<arguments.length;o++)a[o-1]=arguments[o];if(l){l=l.slice(0);for(var o=0,c=l.length;o<c;++o)l[o].apply(this,a)}return this};gt.prototype.emitReserved=gt.prototype.emit;gt.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};gt.prototype.hasListeners=function(s){return!!this.listeners(s).length};const Do=typeof Promise=="function"&&typeof Promise.resolve=="function"?a=>Promise.resolve().then(a):(a,l)=>l(a,0),un=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),N2="arraybuffer";function Im(s,...a){return a.reduce((l,o)=>(s.hasOwnProperty(o)&&(l[o]=s[o]),l),{})}const _2=un.setTimeout,R2=un.clearTimeout;function Uo(s,a){a.useNativeTimers?(s.setTimeoutFn=_2.bind(un),s.clearTimeoutFn=R2.bind(un)):(s.setTimeoutFn=un.setTimeout.bind(un),s.clearTimeoutFn=un.clearTimeout.bind(un))}const k2=1.33;function O2(s){return typeof s=="string"?j2(s):Math.ceil((s.byteLength||s.size)*k2)}function j2(s){let a=0,l=0;for(let o=0,c=s.length;o<c;o++)a=s.charCodeAt(o),a<128?l+=1:a<2048?l+=2:a<55296||a>=57344?l+=3:(o++,l+=4);return l}function eg(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function D2(s){let a="";for(let l in s)s.hasOwnProperty(l)&&(a.length&&(a+="&"),a+=encodeURIComponent(l)+"="+encodeURIComponent(s[l]));return a}function U2(s){let a={},l=s.split("&");for(let o=0,c=l.length;o<c;o++){let f=l[o].split("=");a[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return a}class z2 extends Error{constructor(a,l,o){super(a),this.description=l,this.context=o,this.type="TransportError"}}class qu extends gt{constructor(a){super(),this.writable=!1,Uo(this,a),this.opts=a,this.query=a.query,this.socket=a.socket,this.supportsBinary=!a.forceBase64}onError(a,l,o){return super.emitReserved("error",new z2(a,l,o)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(a){this.readyState==="open"&&this.write(a)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(a){const l=Bu(a,this.socket.binaryType);this.onPacket(l)}onPacket(a){super.emitReserved("packet",a)}onClose(a){this.readyState="closed",super.emitReserved("close",a)}pause(a){}createUri(a,l={}){return a+"://"+this._hostname()+this._port()+this.opts.path+this._query(l)}_hostname(){const a=this.opts.hostname;return a.indexOf(":")===-1?a:"["+a+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(a){const l=D2(a);return l.length?"?"+l:""}}class L2 extends qu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(a){this.readyState="pausing";const l=()=>{this.readyState="paused",a()};if(this._polling||!this.writable){let o=0;this._polling&&(o++,this.once("pollComplete",function(){--o||l()})),this.writable||(o++,this.once("drain",function(){--o||l()}))}else l()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(a){const l=o=>{if(this.readyState==="opening"&&o.type==="open"&&this.onOpen(),o.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(o)};C2(a,this.socket.binaryType).forEach(l),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const a=()=>{this.write([{type:"close"}])};this.readyState==="open"?a():this.once("open",a)}write(a){this.writable=!1,x2(a,l=>{this.doWrite(l,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const a=this.opts.secure?"https":"http",l=this.query||{};return this.opts.timestampRequests!==!1&&(l[this.opts.timestampParam]=eg()),!this.supportsBinary&&!l.sid&&(l.b64=1),this.createUri(a,l)}}let tg=!1;try{tg=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const B2=tg;function q2(){}class H2 extends L2{constructor(a){if(super(a),typeof location<"u"){const l=location.protocol==="https:";let o=location.port;o||(o=l?"443":"80"),this.xd=typeof location<"u"&&a.hostname!==location.hostname||o!==a.port}}doWrite(a,l){const o=this.request({method:"POST",data:a});o.on("success",l),o.on("error",(c,f)=>{this.onError("xhr post error",c,f)})}doPoll(){const a=this.request();a.on("data",this.onData.bind(this)),a.on("error",(l,o)=>{this.onError("xhr poll error",l,o)}),this.pollXhr=a}}let qs=class go extends gt{constructor(a,l,o){super(),this.createRequest=a,Uo(this,o),this._opts=o,this._method=o.method||"GET",this._uri=l,this._data=o.data!==void 0?o.data:null,this._create()}_create(){var a;const l=Im(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");l.xdomain=!!this._opts.xd;const o=this._xhr=this.createRequest(l);try{o.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let c in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(c)&&o.setRequestHeader(c,this._opts.extraHeaders[c])}}catch{}if(this._method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(a=this._opts.cookieJar)===null||a===void 0||a.addCookies(o),"withCredentials"in o&&(o.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(o.timeout=this._opts.requestTimeout),o.onreadystatechange=()=>{var c;o.readyState===3&&((c=this._opts.cookieJar)===null||c===void 0||c.parseCookies(o.getResponseHeader("set-cookie"))),o.readyState===4&&(o.status===200||o.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof o.status=="number"?o.status:0)},0))},o.send(this._data)}catch(c){this.setTimeoutFn(()=>{this._onError(c)},0);return}typeof document<"u"&&(this._index=go.requestsCount++,go.requests[this._index]=this)}_onError(a){this.emitReserved("error",a,this._xhr),this._cleanup(!0)}_cleanup(a){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=q2,a)try{this._xhr.abort()}catch{}typeof document<"u"&&delete go.requests[this._index],this._xhr=null}}_onLoad(){const a=this._xhr.responseText;a!==null&&(this.emitReserved("data",a),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};qs.requestsCount=0;qs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ih);else if(typeof addEventListener=="function"){const s="onpagehide"in un?"pagehide":"unload";addEventListener(s,Ih,!1)}}function Ih(){for(let s in qs.requests)qs.requests.hasOwnProperty(s)&&qs.requests[s].abort()}const G2=function(){const s=ng({xdomain:!1});return s&&s.responseType!==null}();class Y2 extends H2{constructor(a){super(a);const l=a&&a.forceBase64;this.supportsBinary=G2&&!l}request(a={}){return Object.assign(a,{xd:this.xd},this.opts),new qs(ng,this.uri(),a)}}function ng(s){const a=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!a||B2))return new XMLHttpRequest}catch{}if(!a)try{return new un[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ag=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class V2 extends qu{get name(){return"websocket"}doOpen(){const a=this.uri(),l=this.opts.protocols,o=ag?{}:Im(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(a,l,o)}catch(c){return this.emitReserved("error",c)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=a=>this.onClose({description:"websocket connection closed",context:a}),this.ws.onmessage=a=>this.onData(a.data),this.ws.onerror=a=>this.onError("websocket error",a)}write(a){this.writable=!1;for(let l=0;l<a.length;l++){const o=a[l],c=l===a.length-1;Lu(o,this.supportsBinary,f=>{try{this.doWrite(o,f)}catch{}c&&Do(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const a=this.opts.secure?"wss":"ws",l=this.query||{};return this.opts.timestampRequests&&(l[this.opts.timestampParam]=eg()),this.supportsBinary||(l.b64=1),this.createUri(a,l)}}const su=un.WebSocket||un.MozWebSocket;class Z2 extends V2{createSocket(a,l,o){return ag?new su(a,l,o):l?new su(a,l):new su(a)}doWrite(a,l){this.ws.send(l)}}class F2 extends qu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(a){return this.emitReserved("error",a)}this._transport.closed.then(()=>{this.onClose()}).catch(a=>{this.onError("webtransport error",a)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(a=>{const l=T2(Number.MAX_SAFE_INTEGER,this.socket.binaryType),o=a.readable.pipeThrough(l).getReader(),c=M2();c.readable.pipeTo(a.writable),this._writer=c.writable.getWriter();const f=()=>{o.read().then(({done:p,value:m})=>{p||(this.onPacket(m),f())}).catch(p=>{})};f();const d={type:"open"};this.query.sid&&(d.data=`{"sid":"${this.query.sid}"}`),this._writer.write(d).then(()=>this.onOpen())})})}write(a){this.writable=!1;for(let l=0;l<a.length;l++){const o=a[l],c=l===a.length-1;this._writer.write(o).then(()=>{c&&Do(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var a;(a=this._transport)===null||a===void 0||a.close()}}const X2={websocket:Z2,webtransport:F2,polling:Y2},$2=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Q2=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function vu(s){if(s.length>8e3)throw"URI too long";const a=s,l=s.indexOf("["),o=s.indexOf("]");l!=-1&&o!=-1&&(s=s.substring(0,l)+s.substring(l,o).replace(/:/g,";")+s.substring(o,s.length));let c=$2.exec(s||""),f={},d=14;for(;d--;)f[Q2[d]]=c[d]||"";return l!=-1&&o!=-1&&(f.source=a,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=!0),f.pathNames=P2(f,f.path),f.queryKey=K2(f,f.query),f}function P2(s,a){const l=/\/{2,9}/g,o=a.replace(l,"/").split("/");return(a.slice(0,1)=="/"||a.length===0)&&o.splice(0,1),a.slice(-1)=="/"&&o.splice(o.length-1,1),o}function K2(s,a){const l={};return a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,c,f){c&&(l[c]=f)}),l}const Su=typeof addEventListener=="function"&&typeof removeEventListener=="function",po=[];Su&&addEventListener("offline",()=>{po.forEach(s=>s())},!1);class Ea extends gt{constructor(a,l){if(super(),this.binaryType=N2,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,a&&typeof a=="object"&&(l=a,a=null),a){const o=vu(a);l.hostname=o.host,l.secure=o.protocol==="https"||o.protocol==="wss",l.port=o.port,o.query&&(l.query=o.query)}else l.host&&(l.hostname=vu(l.host).host);Uo(this,l),this.secure=l.secure!=null?l.secure:typeof location<"u"&&location.protocol==="https:",l.hostname&&!l.port&&(l.port=this.secure?"443":"80"),this.hostname=l.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=l.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},l.transports.forEach(o=>{const c=o.prototype.name;this.transports.push(c),this._transportsByName[c]=o}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},l),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=U2(this.opts.query)),Su&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},po.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(a){const l=Object.assign({},this.opts.query);l.EIO=Wm,l.transport=a,this.id&&(l.sid=this.id);const o=Object.assign({},this.opts,{query:l,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[a]);return new this._transportsByName[a](o)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const a=this.opts.rememberUpgrade&&Ea.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const l=this.createTransport(a);l.open(),this.setTransport(l)}setTransport(a){this.transport&&this.transport.removeAllListeners(),this.transport=a,a.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",l=>this._onClose("transport close",l))}onOpen(){this.readyState="open",Ea.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",a),this.emitReserved("heartbeat"),a.type){case"open":this.onHandshake(JSON.parse(a.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const l=new Error("server error");l.code=a.data,this._onError(l);break;case"message":this.emitReserved("data",a.data),this.emitReserved("message",a.data);break}}onHandshake(a){this.emitReserved("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this._pingInterval=a.pingInterval,this._pingTimeout=a.pingTimeout,this._maxPayload=a.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const a=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+a,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},a),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const a=this._getWritablePackets();this.transport.send(a),this._prevBufferLen=a.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let l=1;for(let o=0;o<this.writeBuffer.length;o++){const c=this.writeBuffer[o].data;if(c&&(l+=O2(c)),o>0&&l>this._maxPayload)return this.writeBuffer.slice(0,o);l+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const a=Date.now()>this._pingTimeoutTime;return a&&(this._pingTimeoutTime=0,Do(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),a}write(a,l,o){return this._sendPacket("message",a,l,o),this}send(a,l,o){return this._sendPacket("message",a,l,o),this}_sendPacket(a,l,o,c){if(typeof l=="function"&&(c=l,l=void 0),typeof o=="function"&&(c=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;const f={type:a,data:l,options:o};this.emitReserved("packetCreate",f),this.writeBuffer.push(f),c&&this.once("flush",c),this.flush()}close(){const a=()=>{this._onClose("forced close"),this.transport.close()},l=()=>{this.off("upgrade",l),this.off("upgradeError",l),a()},o=()=>{this.once("upgrade",l),this.once("upgradeError",l)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():a()}):this.upgrading?o():a()),this}_onError(a){if(Ea.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",a),this._onClose("transport error",a)}_onClose(a,l){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Su&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const o=po.indexOf(this._offlineEventListener);o!==-1&&po.splice(o,1)}this.readyState="closed",this.id=null,this.emitReserved("close",a,l),this.writeBuffer=[],this._prevBufferLen=0}}}Ea.protocol=Wm;class J2 extends Ea{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let a=0;a<this._upgrades.length;a++)this._probe(this._upgrades[a])}_probe(a){let l=this.createTransport(a),o=!1;Ea.priorWebsocketSuccess=!1;const c=()=>{o||(l.send([{type:"ping",data:"probe"}]),l.once("packet",S=>{if(!o)if(S.type==="pong"&&S.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",l),!l)return;Ea.priorWebsocketSuccess=l.name==="websocket",this.transport.pause(()=>{o||this.readyState!=="closed"&&(E(),this.setTransport(l),l.send([{type:"upgrade"}]),this.emitReserved("upgrade",l),l=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=l.name,this.emitReserved("upgradeError",w)}}))};function f(){o||(o=!0,E(),l.close(),l=null)}const d=S=>{const w=new Error("probe error: "+S);w.transport=l.name,f(),this.emitReserved("upgradeError",w)};function p(){d("transport closed")}function m(){d("socket closed")}function y(S){l&&S.name!==l.name&&f()}const E=()=>{l.removeListener("open",c),l.removeListener("error",d),l.removeListener("close",p),this.off("close",m),this.off("upgrading",y)};l.once("open",c),l.once("error",d),l.once("close",p),this.once("close",m),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&a!=="webtransport"?this.setTimeoutFn(()=>{o||l.open()},200):l.open()}onHandshake(a){this._upgrades=this._filterUpgrades(a.upgrades),super.onHandshake(a)}_filterUpgrades(a){const l=[];for(let o=0;o<a.length;o++)~this.transports.indexOf(a[o])&&l.push(a[o]);return l}}let W2=class extends J2{constructor(a,l={}){const o=typeof a=="object"?a:l;(!o.transports||o.transports&&typeof o.transports[0]=="string")&&(o.transports=(o.transports||["polling","websocket","webtransport"]).map(c=>X2[c]).filter(c=>!!c)),super(a,o)}};function I2(s,a="",l){let o=s;l=l||typeof location<"u"&&location,s==null&&(s=l.protocol+"//"+l.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=l.protocol+s:s=l.host+s),/^(https?|wss?):\/\//.test(s)||(typeof l<"u"?s=l.protocol+"//"+s:s="https://"+s),o=vu(s)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const f=o.host.indexOf(":")!==-1?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+f+":"+o.port+a,o.href=o.protocol+"://"+f+(l&&l.port===o.port?"":":"+o.port),o}const ev=typeof ArrayBuffer=="function",tv=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,sg=Object.prototype.toString,nv=typeof Blob=="function"||typeof Blob<"u"&&sg.call(Blob)==="[object BlobConstructor]",av=typeof File=="function"||typeof File<"u"&&sg.call(File)==="[object FileConstructor]";function Hu(s){return ev&&(s instanceof ArrayBuffer||tv(s))||nv&&s instanceof Blob||av&&s instanceof File}function yo(s,a){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let l=0,o=s.length;l<o;l++)if(yo(s[l]))return!0;return!1}if(Hu(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return yo(s.toJSON(),!0);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)&&yo(s[l]))return!0;return!1}function sv(s){const a=[],l=s.data,o=s;return o.data=bu(l,a),o.attachments=a.length,{packet:o,buffers:a}}function bu(s,a){if(!s)return s;if(Hu(s)){const l={_placeholder:!0,num:a.length};return a.push(s),l}else if(Array.isArray(s)){const l=new Array(s.length);for(let o=0;o<s.length;o++)l[o]=bu(s[o],a);return l}else if(typeof s=="object"&&!(s instanceof Date)){const l={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(l[o]=bu(s[o],a));return l}return s}function iv(s,a){return s.data=Eu(s.data,a),delete s.attachments,s}function Eu(s,a){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<a.length)return a[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let l=0;l<s.length;l++)s[l]=Eu(s[l],a);else if(typeof s=="object")for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&(s[l]=Eu(s[l],a));return s}const lv=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ov=5;var Ge;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(Ge||(Ge={}));class rv{constructor(a){this.replacer=a}encode(a){return(a.type===Ge.EVENT||a.type===Ge.ACK)&&yo(a)?this.encodeAsBinary({type:a.type===Ge.EVENT?Ge.BINARY_EVENT:Ge.BINARY_ACK,nsp:a.nsp,data:a.data,id:a.id}):[this.encodeAsString(a)]}encodeAsString(a){let l=""+a.type;return(a.type===Ge.BINARY_EVENT||a.type===Ge.BINARY_ACK)&&(l+=a.attachments+"-"),a.nsp&&a.nsp!=="/"&&(l+=a.nsp+","),a.id!=null&&(l+=a.id),a.data!=null&&(l+=JSON.stringify(a.data,this.replacer)),l}encodeAsBinary(a){const l=sv(a),o=this.encodeAsString(l.packet),c=l.buffers;return c.unshift(o),c}}function em(s){return Object.prototype.toString.call(s)==="[object Object]"}class Gu extends gt{constructor(a){super(),this.reviver=a}add(a){let l;if(typeof a=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");l=this.decodeString(a);const o=l.type===Ge.BINARY_EVENT;o||l.type===Ge.BINARY_ACK?(l.type=o?Ge.EVENT:Ge.ACK,this.reconstructor=new cv(l),l.attachments===0&&super.emitReserved("decoded",l)):super.emitReserved("decoded",l)}else if(Hu(a)||a.base64)if(this.reconstructor)l=this.reconstructor.takeBinaryData(a),l&&(this.reconstructor=null,super.emitReserved("decoded",l));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+a)}decodeString(a){let l=0;const o={type:Number(a.charAt(0))};if(Ge[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===Ge.BINARY_EVENT||o.type===Ge.BINARY_ACK){const f=l+1;for(;a.charAt(++l)!=="-"&&l!=a.length;);const d=a.substring(f,l);if(d!=Number(d)||a.charAt(l)!=="-")throw new Error("Illegal attachments");o.attachments=Number(d)}if(a.charAt(l+1)==="/"){const f=l+1;for(;++l&&!(a.charAt(l)===","||l===a.length););o.nsp=a.substring(f,l)}else o.nsp="/";const c=a.charAt(l+1);if(c!==""&&Number(c)==c){const f=l+1;for(;++l;){const d=a.charAt(l);if(d==null||Number(d)!=d){--l;break}if(l===a.length)break}o.id=Number(a.substring(f,l+1))}if(a.charAt(++l)){const f=this.tryParse(a.substr(l));if(Gu.isPayloadValid(o.type,f))o.data=f;else throw new Error("invalid payload")}return o}tryParse(a){try{return JSON.parse(a,this.reviver)}catch{return!1}}static isPayloadValid(a,l){switch(a){case Ge.CONNECT:return em(l);case Ge.DISCONNECT:return l===void 0;case Ge.CONNECT_ERROR:return typeof l=="string"||em(l);case Ge.EVENT:case Ge.BINARY_EVENT:return Array.isArray(l)&&(typeof l[0]=="number"||typeof l[0]=="string"&&lv.indexOf(l[0])===-1);case Ge.ACK:case Ge.BINARY_ACK:return Array.isArray(l)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class cv{constructor(a){this.packet=a,this.buffers=[],this.reconPack=a}takeBinaryData(a){if(this.buffers.push(a),this.buffers.length===this.reconPack.attachments){const l=iv(this.reconPack,this.buffers);return this.finishedReconstruction(),l}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const uv=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Gu,Encoder:rv,get PacketType(){return Ge},protocol:ov},Symbol.toStringTag,{value:"Module"}));function gn(s,a,l){return s.on(a,l),function(){s.off(a,l)}}const fv=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ig extends gt{constructor(a,l,o){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=a,this.nsp=l,o&&o.auth&&(this.auth=o.auth),this._opts=Object.assign({},o),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const a=this.io;this.subs=[gn(a,"open",this.onopen.bind(this)),gn(a,"packet",this.onpacket.bind(this)),gn(a,"error",this.onerror.bind(this)),gn(a,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...a){return a.unshift("message"),this.emit.apply(this,a),this}emit(a,...l){var o,c,f;if(fv.hasOwnProperty(a))throw new Error('"'+a.toString()+'" is a reserved event name');if(l.unshift(a),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(l),this;const d={type:Ge.EVENT,data:l};if(d.options={},d.options.compress=this.flags.compress!==!1,typeof l[l.length-1]=="function"){const E=this.ids++,S=l.pop();this._registerAckCallback(E,S),d.id=E}const p=(c=(o=this.io.engine)===null||o===void 0?void 0:o.transport)===null||c===void 0?void 0:c.writable,m=this.connected&&!(!((f=this.io.engine)===null||f===void 0)&&f._hasPingExpired());return this.flags.volatile&&!p||(m?(this.notifyOutgoingListeners(d),this.packet(d)):this.sendBuffer.push(d)),this.flags={},this}_registerAckCallback(a,l){var o;const c=(o=this.flags.timeout)!==null&&o!==void 0?o:this._opts.ackTimeout;if(c===void 0){this.acks[a]=l;return}const f=this.io.setTimeoutFn(()=>{delete this.acks[a];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===a&&this.sendBuffer.splice(p,1);l.call(this,new Error("operation has timed out"))},c),d=(...p)=>{this.io.clearTimeoutFn(f),l.apply(this,p)};d.withError=!0,this.acks[a]=d}emitWithAck(a,...l){return new Promise((o,c)=>{const f=(d,p)=>d?c(d):o(p);f.withError=!0,l.push(f),this.emit(a,...l)})}_addToQueue(a){let l;typeof a[a.length-1]=="function"&&(l=a.pop());const o={id:this._queueSeq++,tryCount:0,pending:!1,args:a,flags:Object.assign({fromQueue:!0},this.flags)};a.push((c,...f)=>o!==this._queue[0]?void 0:(c!==null?o.tryCount>this._opts.retries&&(this._queue.shift(),l&&l(c)):(this._queue.shift(),l&&l(null,...f)),o.pending=!1,this._drainQueue())),this._queue.push(o),this._drainQueue()}_drainQueue(a=!1){if(!this.connected||this._queue.length===0)return;const l=this._queue[0];l.pending&&!a||(l.pending=!0,l.tryCount++,this.flags=l.flags,this.emit.apply(this,l.args))}packet(a){a.nsp=this.nsp,this.io._packet(a)}onopen(){typeof this.auth=="function"?this.auth(a=>{this._sendConnectPacket(a)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(a){this.packet({type:Ge.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},a):a})}onerror(a){this.connected||this.emitReserved("connect_error",a)}onclose(a,l){this.connected=!1,delete this.id,this.emitReserved("disconnect",a,l),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(a=>{if(!this.sendBuffer.some(o=>String(o.id)===a)){const o=this.acks[a];delete this.acks[a],o.withError&&o.call(this,new Error("socket has been disconnected"))}})}onpacket(a){if(a.nsp===this.nsp)switch(a.type){case Ge.CONNECT:a.data&&a.data.sid?this.onconnect(a.data.sid,a.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ge.EVENT:case Ge.BINARY_EVENT:this.onevent(a);break;case Ge.ACK:case Ge.BINARY_ACK:this.onack(a);break;case Ge.DISCONNECT:this.ondisconnect();break;case Ge.CONNECT_ERROR:this.destroy();const o=new Error(a.data.message);o.data=a.data.data,this.emitReserved("connect_error",o);break}}onevent(a){const l=a.data||[];a.id!=null&&l.push(this.ack(a.id)),this.connected?this.emitEvent(l):this.receiveBuffer.push(Object.freeze(l))}emitEvent(a){if(this._anyListeners&&this._anyListeners.length){const l=this._anyListeners.slice();for(const o of l)o.apply(this,a)}super.emit.apply(this,a),this._pid&&a.length&&typeof a[a.length-1]=="string"&&(this._lastOffset=a[a.length-1])}ack(a){const l=this;let o=!1;return function(...c){o||(o=!0,l.packet({type:Ge.ACK,id:a,data:c}))}}onack(a){const l=this.acks[a.id];typeof l=="function"&&(delete this.acks[a.id],l.withError&&a.data.unshift(null),l.apply(this,a.data))}onconnect(a,l){this.id=a,this.recovered=l&&this._pid===l,this._pid=l,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(a=>this.emitEvent(a)),this.receiveBuffer=[],this.sendBuffer.forEach(a=>{this.notifyOutgoingListeners(a),this.packet(a)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(a=>a()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ge.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(a){return this.flags.compress=a,this}get volatile(){return this.flags.volatile=!0,this}timeout(a){return this.flags.timeout=a,this}onAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(a),this}prependAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(a),this}offAny(a){if(!this._anyListeners)return this;if(a){const l=this._anyListeners;for(let o=0;o<l.length;o++)if(a===l[o])return l.splice(o,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(a),this}prependAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(a),this}offAnyOutgoing(a){if(!this._anyOutgoingListeners)return this;if(a){const l=this._anyOutgoingListeners;for(let o=0;o<l.length;o++)if(a===l[o])return l.splice(o,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(a){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const l=this._anyOutgoingListeners.slice();for(const o of l)o.apply(this,a.data)}}}function Zs(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}Zs.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var a=Math.random(),l=Math.floor(a*this.jitter*s);s=(Math.floor(a*10)&1)==0?s-l:s+l}return Math.min(s,this.max)|0};Zs.prototype.reset=function(){this.attempts=0};Zs.prototype.setMin=function(s){this.ms=s};Zs.prototype.setMax=function(s){this.max=s};Zs.prototype.setJitter=function(s){this.jitter=s};class wu extends gt{constructor(a,l){var o;super(),this.nsps={},this.subs=[],a&&typeof a=="object"&&(l=a,a=void 0),l=l||{},l.path=l.path||"/socket.io",this.opts=l,Uo(this,l),this.reconnection(l.reconnection!==!1),this.reconnectionAttempts(l.reconnectionAttempts||1/0),this.reconnectionDelay(l.reconnectionDelay||1e3),this.reconnectionDelayMax(l.reconnectionDelayMax||5e3),this.randomizationFactor((o=l.randomizationFactor)!==null&&o!==void 0?o:.5),this.backoff=new Zs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(l.timeout==null?2e4:l.timeout),this._readyState="closed",this.uri=a;const c=l.parser||uv;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this._autoConnect=l.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(a){return arguments.length?(this._reconnection=!!a,a||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(a){return a===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=a,this)}reconnectionDelay(a){var l;return a===void 0?this._reconnectionDelay:(this._reconnectionDelay=a,(l=this.backoff)===null||l===void 0||l.setMin(a),this)}randomizationFactor(a){var l;return a===void 0?this._randomizationFactor:(this._randomizationFactor=a,(l=this.backoff)===null||l===void 0||l.setJitter(a),this)}reconnectionDelayMax(a){var l;return a===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=a,(l=this.backoff)===null||l===void 0||l.setMax(a),this)}timeout(a){return arguments.length?(this._timeout=a,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(a){if(~this._readyState.indexOf("open"))return this;this.engine=new W2(this.uri,this.opts);const l=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;const c=gn(l,"open",function(){o.onopen(),a&&a()}),f=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),a?a(p):this.maybeReconnectOnOpen()},d=gn(l,"error",f);if(this._timeout!==!1){const p=this._timeout,m=this.setTimeoutFn(()=>{c(),f(new Error("timeout")),l.close()},p);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(c),this.subs.push(d),this}connect(a){return this.open(a)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const a=this.engine;this.subs.push(gn(a,"ping",this.onping.bind(this)),gn(a,"data",this.ondata.bind(this)),gn(a,"error",this.onerror.bind(this)),gn(a,"close",this.onclose.bind(this)),gn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(a){try{this.decoder.add(a)}catch(l){this.onclose("parse error",l)}}ondecoded(a){Do(()=>{this.emitReserved("packet",a)},this.setTimeoutFn)}onerror(a){this.emitReserved("error",a)}socket(a,l){let o=this.nsps[a];return o?this._autoConnect&&!o.active&&o.connect():(o=new ig(this,a,l),this.nsps[a]=o),o}_destroy(a){const l=Object.keys(this.nsps);for(const o of l)if(this.nsps[o].active)return;this._close()}_packet(a){const l=this.encoder.encode(a);for(let o=0;o<l.length;o++)this.engine.write(l[o],a.options)}cleanup(){this.subs.forEach(a=>a()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(a,l){var o;this.cleanup(),(o=this.engine)===null||o===void 0||o.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",a,l),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const a=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const l=this.backoff.duration();this._reconnecting=!0;const o=this.setTimeoutFn(()=>{a.skipReconnect||(this.emitReserved("reconnect_attempt",a.backoff.attempts),!a.skipReconnect&&a.open(c=>{c?(a._reconnecting=!1,a.reconnect(),this.emitReserved("reconnect_error",c)):a.onreconnect()}))},l);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}}onreconnect(){const a=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",a)}}const Yi={};function vo(s,a){typeof s=="object"&&(a=s,s=void 0),a=a||{};const l=I2(s,a.path||"/socket.io"),o=l.source,c=l.id,f=l.path,d=Yi[c]&&f in Yi[c].nsps,p=a.forceNew||a["force new connection"]||a.multiplex===!1||d;let m;return p?m=new wu(o,a):(Yi[c]||(Yi[c]=new wu(o,a)),m=Yi[c]),l.query&&!a.query&&(a.query=l.queryKey),m.socket(l.path,a)}Object.assign(vo,{Manager:wu,Socket:ig,io:vo,connect:vo});class dv{constructor(a,l={}){this.serverUrl=a,this.socket=null,this.connectionState="disconnected",this.messageQueue=[],this.messageSequence=0,this.heartbeatInterval=null,this.reconnectTimeout=null,this.currentUsername=null,this.fallbackMode=!1,this.socketOptions={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,autoConnect:!1,...l},this.CONNECTION_STATES={DISCONNECTED:"disconnected",CONNECTING:"connecting",CONNECTED:"connected",RECONNECTING:"reconnecting",FALLBACK:"fallback"}}initialize(){this.socket&&(console.log(" BaseSocketClient: Socket already initialized, disconnecting first"),this.socket.disconnect(),this.socket=null);const a=this.serverUrl==="/"||this.serverUrl==="",l=a?window.location.origin:this.serverUrl;console.log(` BaseSocketClient: Initializing socket connection to: "${l}"`),console.log(` BaseSocketClient: Using ${a?"relative":"absolute"} URL mode`);const o={...this.socketOptions,path:"/socket.io",autoConnect:!1};a?o.transports=["websocket","polling"]:o.transports=["websocket","polling"];try{return this.socket=vo(l,o),console.log(" BaseSocketClient: Socket instance created successfully"),!0}catch(c){return console.error(" BaseSocketClient: Error initializing socket:",c),this.connectionState=this.CONNECTION_STATES.DISCONNECTED,!1}}connect(a={},l=null){if(console.log(" BaseSocketClient: Connect called with username:",l),this.socket||(console.log(" BaseSocketClient: Socket not initialized, initializing now"),this.initialize()),l&&(console.log(" BaseSocketClient: Setting current username:",l),this.currentUsername=l),this.connectionState===this.CONNECTION_STATES.CONNECTED){console.log(" BaseSocketClient: Already connected, calling onConnect callback"),a.onConnect&&a.onConnect(),this.currentUsername&&(console.log(" BaseSocketClient: Authenticating with server"),this.authenticate(this.currentUsername));return}if(this.connectionState===this.CONNECTION_STATES.CONNECTING||this.connectionState===this.CONNECTION_STATES.RECONNECTING){console.log(" BaseSocketClient: Already connecting or reconnecting, skipping connect");return}console.log(" BaseSocketClient: Updating connection state to CONNECTING"),this.updateConnectionState(this.CONNECTION_STATES.CONNECTING),console.log(" BaseSocketClient: Removing all existing listeners"),this.socket.removeAllListeners(),console.log(" BaseSocketClient: Setting up event listeners"),this.setupEventListeners(a),console.log(" BaseSocketClient: Connecting to server:",this.serverUrl),this.socket.connect()}authenticate(a,l=null){if(!this.socket){console.error(" BaseSocketClient: Socket not initialized in authenticate");return}l||(l=localStorage.getItem("token")),console.log(" BaseSocketClient: Authenticating with username:",a),this.currentUsername=a,console.log(" BaseSocketClient: Current username set to:",this.currentUsername);const o={username:a,token:l};console.log(" BaseSocketClient: Sending authentication payload:",JSON.stringify(o,null,2)),this.socket.emit("authenticate",o)}setupEventListeners(a){console.log(" BaseSocketClient: Setting up event listeners with callbacks:",Object.keys(a)),this.socket.on("connect",()=>{console.log(" BaseSocketClient: Socket connected event fired"),this.updateConnectionState(this.CONNECTION_STATES.CONNECTED),this.currentUsername&&(console.log(" BaseSocketClient: Authenticating after connect with username:",this.currentUsername),this.authenticate(this.currentUsername)),console.log(" BaseSocketClient: Setting up heartbeat"),this.setupHeartbeat(),console.log(" BaseSocketClient: Processing message queue, count:",this.messageQueue.length),this.processMessageQueue(),console.log(" BaseSocketClient: Calling onConnect callback"),a.onConnect&&a.onConnect()}),this.socket.on("connect_error",l=>{console.log(" BaseSocketClient: Socket connect_error event fired",l),this.connectionState!==this.CONNECTION_STATES.RECONNECTING&&this.updateConnectionState(this.CONNECTION_STATES.RECONNECTING),console.log(" BaseSocketClient: Calling onConnectError callback"),a.onConnectError&&a.onConnectError(l)}),this.socket.on("disconnect",l=>{console.log(" BaseSocketClient: Socket disconnect event fired, reason:",l),clearInterval(this.heartbeatInterval),l==="io client disconnect"||l==="io server disconnect"?(console.log(" BaseSocketClient: Intentional disconnect detected"),this.updateConnectionState(this.CONNECTION_STATES.DISCONNECTED)):(console.log(" BaseSocketClient: Unintentional disconnect detected, preparing for reconnect"),this.updateConnectionState(this.CONNECTION_STATES.RECONNECTING),clearTimeout(this.reconnectTimeout),this.reconnectTimeout=setTimeout(()=>{this.connectionState===this.CONNECTION_STATES.RECONNECTING&&(console.log(" BaseSocketClient: Manual reconnect attempt"),this.socket.connect())},5e3)),console.log(" BaseSocketClient: Calling onDisconnect callback"),a.onDisconnect&&a.onDisconnect(l)}),this.socket.on("authenticated",l=>{console.log(" BaseSocketClient: Authentication response received:",l),l.success?(console.log(" BaseSocketClient: Authentication successful"),l.username&&(this.currentUsername=l.username,console.log(" BaseSocketClient: Username set from server:",this.currentUsername)),a.onAuthenticated&&a.onAuthenticated(l)):(console.error(" BaseSocketClient: Authentication failed:",l.error),a.onAuthenticationFailed&&a.onAuthenticationFailed(l))})}disconnect(){clearInterval(this.heartbeatInterval),clearTimeout(this.reconnectTimeout),this.socket&&(this.socket.removeAllListeners(),this.socket.connected&&this.socket.disconnect()),this.updateConnectionState(this.CONNECTION_STATES.DISCONNECTED),this.currentUsername=null}emitWithQueue(a,l){var c;const o={...l,_seq:this.messageSequence++,_timestamp:Date.now()};return console.log(` BaseSocketClient: About to emit '${a}' event with data:`,JSON.stringify(o,null,2)),console.log(" BaseSocketClient: Username in payload:",o.username),console.log(" BaseSocketClient: Sender in payload:",o.sender),this.connectionState===this.CONNECTION_STATES.CONNECTED&&((c=this.socket)!=null&&c.connected)?(console.log(` BaseSocketClient: Directly emitting '${a}' event to server`),this.socket.emit(a,o)):(console.log(` BaseSocketClient: Not connected, queuing '${a}' event for later`),this.messageQueue.push({eventName:a,data:o})),this.messageSequence-1}processMessageQueue(){if(this.messageQueue.length===0||this.connectionState!==this.CONNECTION_STATES.CONNECTED)return;console.log(` BaseSocketClient: Processing message queue with ${this.messageQueue.length} items`);const a=[...this.messageQueue];this.messageQueue=[],a.forEach(l=>{console.log(` BaseSocketClient: Processing queued message with event "${l.eventName}":`),console.log(" BaseSocketClient: Queued message payload:",JSON.stringify(l.data,null,2)),console.log(" BaseSocketClient: Username in queued payload:",l.data.username),console.log(" BaseSocketClient: Sender in queued payload:",l.data.sender),this.socket.emit(l.eventName,l.data)})}setupHeartbeat(){clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{var a;(a=this.socket)!=null&&a.connected?this.socket.emit("heartbeat",{timestamp:Date.now()}):clearInterval(this.heartbeatInterval)},3e4)}updateConnectionState(a){this.connectionState=a}isConnected(){var a;return this.connectionState===this.CONNECTION_STATES.CONNECTED&&((a=this.socket)==null?void 0:a.connected)}getConnectionState(){return this.connectionState}getSocketId(){var a;return((a=this.socket)==null?void 0:a.id)||"unknown"}getSocket(){return this.socket}enableFallbackMode(){console.log(" BaseSocketClient: Enabling fallback mode"),this.fallbackMode=!0,this.updateConnectionState(this.CONNECTION_STATES.FALLBACK),this.socket&&(this.socket.removeAllListeners(),this.socket.disconnect(),this.socket=null),clearInterval(this.heartbeatInterval),clearTimeout(this.reconnectTimeout)}disableFallbackMode(){console.log(" BaseSocketClient: Disabling fallback mode"),this.fallbackMode=!1,this.updateConnectionState(this.CONNECTION_STATES.DISCONNECTED)}isFallbackMode(){return this.fallbackMode}}class tm extends dv{constructor(a,l={}){super(a,l),this.notificationSupported="Notification"in window}setupEventListeners(a){if(console.log(" MainSocketClient: Setting up event listeners"),super.setupEventListeners(a),!this.socket){console.error(" MainSocketClient: Socket not initialized in setupEventListeners");return}this.socket.on("heartbeatAck",l=>{console.log(" MainSocketClient: Received heartbeat acknowledgment")}),this.socket.on("welcome",l=>{console.log(" MainSocketClient: Received welcome message",l),a.onWelcome&&a.onWelcome(l)}),this.socket.on("newMessage",l=>{console.log(" MainSocketClient: Received new message event",l),a.onNewMessage&&a.onNewMessage(l),l.isFromFollowedUser&&(console.log(" MainSocketClient: Message is from followed user, processing notification"),this.processNotification(l,a))}),this.socket.on("message",l=>{console.log(" MainSocketClient: Received message event",l),a.onNewMessage&&a.onNewMessage(l),l.isFromFollowedUser&&(console.log(" MainSocketClient: Message is from followed user, processing notification"),this.processNotification(l,a))}),this.socket.on("messageAck",l=>{console.log(" MainSocketClient: Received message acknowledgment",l),a.onMessageAck&&a.onMessageAck(l)}),this.socket.on("refreshMessages",()=>{console.log(" MainSocketClient: Received refreshMessages signal"),a.onRefreshMessages&&a.onRefreshMessages()}),this.socket.on("userStatusChange",l=>{console.log(" MainSocketClient: Received user status change",l),a.onUserStatusChange&&a.onUserStatusChange(l)}),this.socket.on("messageLiked",l=>{console.log(" MainSocketClient: Received message liked event",l),a.onMessageLiked&&a.onMessageLiked(l)}),this.socket.on("messageUnliked",l=>{console.log(" MainSocketClient: Received message unliked event",l),a.onMessageUnliked&&a.onMessageUnliked(l)}),this.socket.on("messageDeleted",l=>{console.log(" MainSocketClient: Received message deleted event",l),a.onMessageDeleted&&a.onMessageDeleted(l)}),this.socket.on("newFollowedUserMessage",l=>{console.log(" MainSocketClient: Received message from followed user",l),a.onFollowedUserMessage&&a.onFollowedUserMessage(l),this.processNotification(l,a)})}sendMessage(a,l=null,o=null){if(!this.socket)return console.error(" MainSocketClient: Socket not initialized in sendMessage"),-1;if(!l&&!this.currentUsername)return console.error(" MainSocketClient: No username provided for message"),-1;const c=l||this.currentUsername;console.log(" MainSocketClient: Sending message as:",c);const f=Date.now().toString(36)+Math.random().toString(36).substr(2,5),d={message:a,messageId:f,username:c,sender:c,location:o||null,timestamp:Date.now()};return console.log(" MainSocketClient: DETAILED MESSAGE PAYLOAD:",JSON.stringify(d,null,2)),console.log(" MainSocketClient: Username value:",c),console.log(" MainSocketClient: Current authenticated username:",this.currentUsername),this.emitWithQueue("sendMessage",d)}resendMessage(a){if(!this.socket)return console.error(" MainSocketClient: Socket not initialized in resendMessage"),-1;const l=a.username||this.currentUsername;return l||console.error(" MainSocketClient: No username available for resending message"),this.emitWithQueue("sendMessage",{...a,username:l,timestamp:Date.now(),isResend:!0})}areNotificationsSupported(){return this.notificationSupported}async requestNotificationPermission(){if(console.log(" MainSocketClient: Requesting notification permission"),!this.notificationSupported)return console.log(" MainSocketClient: Notifications not supported"),!1;try{const l=await Notification.requestPermission()==="granted";return console.log(` MainSocketClient: Notification permission ${l?"granted":"denied"}`),l&&sessionStorage.setItem("notificationPermissionJustGranted","true"),l}catch(a){return console.error(" MainSocketClient: Error requesting notification permission:",a),!1}}showNotification(a,l={}){if(!this.notificationSupported||Notification.permission!=="granted")return null;try{return new Notification(a,l)}catch(o){return console.error(" MainSocketClient: Error showing notification:",o),null}}processNotification(a,l){if(a.sender==="System"||a.sender==="Server")return;const c=document.visibilityState==="visible",f=`${a.sender}-${a.messageId||a.timestamp}`;if(l.onFollowedUserMessage&&l.onFollowedUserMessage(a),!c&&this.areNotificationsSupported()&&Notification.permission==="granted"){const d={body:a.messagePreview||a.message||"New message",icon:"/favicon.ico",tag:f,requireInteraction:!1,timestamp:new Date(a.timestamp).getTime(),vibrate:[200,100,200]},p=this.showNotification(`New post from ${a.sender}`,d);p&&(p.onclick=()=>{window.focus(),p.close(),l.onNotificationClick&&l.onNotificationClick(a)})}}}class hv{constructor(){this.clients={},this.defaultClientId="main"}getClient(a,l=null,o=null,c={}){const f=l||a||this.defaultClientId;if(this.clients[f])return this.clients[f];let d;switch(a){case"main":d=new tm(o,c);break;default:d=new tm(o,c)}return this.clients[f]=d,d}removeClient(a){this.clients[a]&&(this.clients[a].disconnect(),delete this.clients[a])}disconnectAll(){Object.values(this.clients).forEach(a=>{a.disconnect()})}getAllClients(){return this.clients}}const zt=new hv,mv="/",nm="http://localhost:3000",cn={connect:(s={},a=null)=>{console.log(" SocketService: Connecting to socket with relative URL for proxy support");const l=zt.getClient("main","main",mv);l.isConnected()&&(console.log(" SocketService: Closing existing connection before reconnecting"),l.disconnect()),l.connect(s,a)},disconnect:()=>{zt.getClient("main").disconnect()},sendMessage:(s,a=null,l=null)=>zt.getClient("main").sendMessage(s,a,l),resendMessage:s=>zt.getClient("main").resendMessage(s),isConnected:()=>zt.getClient("main").isConnected(),getConnectionState:()=>zt.getClient("main").getConnectionState(),getSocketId:()=>zt.getClient("main").getSocketId(),getSocket:()=>zt.getClient("main").getSocket(),areNotificationsSupported:()=>zt.getClient("main").notificationSupported,async requestNotificationPermission(){return zt.getClient("main").requestNotificationPermission()},showNotification:(s,a)=>zt.getClient("main").showNotification(s,a),getConnectionStates:()=>zt.getClient("main").CONNECTION_STATES,checkServerStatus:async()=>{console.log(" SocketService: Checking server status at:",nm);const s=Date.now(),a="socketService_lastServerCheck",l=parseInt(sessionStorage.getItem(a)||"0");if(s-l<1e4){console.log(" SocketService: Skipping server check - too soon since last check");const p=sessionStorage.getItem("socketService_lastServerCheckResult");return p?JSON.parse(p):{success:!1,message:"Server check skipped (rate limited)",rateLimited:!0}}sessionStorage.setItem(a,s.toString());const f=["/api/status","/api/messages","/api/health","/api/ping"][0];try{console.log(` SocketService: Trying endpoint ${f}`);const d=localStorage.getItem("token"),p={Accept:"application/json","Content-Type":"application/json"},m=await fetch(`${f}`,{method:"GET",headers:p});console.log(` SocketService: Got response from ${f} with status:`,m.status);const y={success:m.ok||m.status===401,message:`Server is reachable (${f})`,status:m.status,endpoint:f};return sessionStorage.setItem("socketService_lastServerCheckResult",JSON.stringify(y)),y}catch(d){console.error(` SocketService: Failed to fetch ${f}:`,d);const p={success:!1,message:`Server unreachable: ${d.message}`,endpoint:f};return sessionStorage.setItem("socketService_lastServerCheckResult",JSON.stringify(p)),p}},getServerUrl:()=>nm,enableFallbackMode:()=>{console.log(" SocketService: Enabling fallback mode"),zt.getClient("main").enableFallbackMode()},disableFallbackMode:()=>{console.log(" SocketService: Disabling fallback mode"),zt.getClient("main").disableFallbackMode()},isFallbackMode:()=>{const s=zt.getClient("main");return s?s.isFallbackMode():!1}};function lg(s,a){return function(){return s.apply(a,arguments)}}const{toString:gv}=Object.prototype,{getPrototypeOf:Yu}=Object,zo=(s=>a=>{const l=gv.call(a);return s[l]||(s[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),pn=s=>(s=s.toLowerCase(),a=>zo(a)===s),Lo=s=>a=>typeof a===s,{isArray:Fs}=Array,Pi=Lo("undefined");function pv(s){return s!==null&&!Pi(s)&&s.constructor!==null&&!Pi(s.constructor)&&Pt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const og=pn("ArrayBuffer");function yv(s){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(s):a=s&&s.buffer&&og(s.buffer),a}const vv=Lo("string"),Pt=Lo("function"),rg=Lo("number"),Bo=s=>s!==null&&typeof s=="object",Sv=s=>s===!0||s===!1,So=s=>{if(zo(s)!=="object")return!1;const a=Yu(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},bv=pn("Date"),Ev=pn("File"),wv=pn("Blob"),xv=pn("FileList"),Cv=s=>Bo(s)&&Pt(s.pipe),Mv=s=>{let a;return s&&(typeof FormData=="function"&&s instanceof FormData||Pt(s.append)&&((a=zo(s))==="formdata"||a==="object"&&Pt(s.toString)&&s.toString()==="[object FormData]"))},Tv=pn("URLSearchParams"),[Av,Nv,_v,Rv]=["ReadableStream","Request","Response","Headers"].map(pn),kv=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ki(s,a,{allOwnKeys:l=!1}={}){if(s===null||typeof s>"u")return;let o,c;if(typeof s!="object"&&(s=[s]),Fs(s))for(o=0,c=s.length;o<c;o++)a.call(null,s[o],o,s);else{const f=l?Object.getOwnPropertyNames(s):Object.keys(s),d=f.length;let p;for(o=0;o<d;o++)p=f[o],a.call(null,s[p],p,s)}}function cg(s,a){a=a.toLowerCase();const l=Object.keys(s);let o=l.length,c;for(;o-- >0;)if(c=l[o],a===c.toLowerCase())return c;return null}const Pa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ug=s=>!Pi(s)&&s!==Pa;function xu(){const{caseless:s}=ug(this)&&this||{},a={},l=(o,c)=>{const f=s&&cg(a,c)||c;So(a[f])&&So(o)?a[f]=xu(a[f],o):So(o)?a[f]=xu({},o):Fs(o)?a[f]=o.slice():a[f]=o};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&Ki(arguments[o],l);return a}const Ov=(s,a,l,{allOwnKeys:o}={})=>(Ki(a,(c,f)=>{l&&Pt(c)?s[f]=lg(c,l):s[f]=c},{allOwnKeys:o}),s),jv=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),Dv=(s,a,l,o)=>{s.prototype=Object.create(a.prototype,o),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:a.prototype}),l&&Object.assign(s.prototype,l)},Uv=(s,a,l,o)=>{let c,f,d;const p={};if(a=a||{},s==null)return a;do{for(c=Object.getOwnPropertyNames(s),f=c.length;f-- >0;)d=c[f],(!o||o(d,s,a))&&!p[d]&&(a[d]=s[d],p[d]=!0);s=l!==!1&&Yu(s)}while(s&&(!l||l(s,a))&&s!==Object.prototype);return a},zv=(s,a,l)=>{s=String(s),(l===void 0||l>s.length)&&(l=s.length),l-=a.length;const o=s.indexOf(a,l);return o!==-1&&o===l},Lv=s=>{if(!s)return null;if(Fs(s))return s;let a=s.length;if(!rg(a))return null;const l=new Array(a);for(;a-- >0;)l[a]=s[a];return l},Bv=(s=>a=>s&&a instanceof s)(typeof Uint8Array<"u"&&Yu(Uint8Array)),qv=(s,a)=>{const o=(s&&s[Symbol.iterator]).call(s);let c;for(;(c=o.next())&&!c.done;){const f=c.value;a.call(s,f[0],f[1])}},Hv=(s,a)=>{let l;const o=[];for(;(l=s.exec(a))!==null;)o.push(l);return o},Gv=pn("HTMLFormElement"),Yv=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,c){return o.toUpperCase()+c}),am=(({hasOwnProperty:s})=>(a,l)=>s.call(a,l))(Object.prototype),Vv=pn("RegExp"),fg=(s,a)=>{const l=Object.getOwnPropertyDescriptors(s),o={};Ki(l,(c,f)=>{let d;(d=a(c,f,s))!==!1&&(o[f]=d||c)}),Object.defineProperties(s,o)},Zv=s=>{fg(s,(a,l)=>{if(Pt(s)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=s[l];if(Pt(o)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Fv=(s,a)=>{const l={},o=c=>{c.forEach(f=>{l[f]=!0})};return Fs(s)?o(s):o(String(s).split(a)),l},Xv=()=>{},$v=(s,a)=>s!=null&&Number.isFinite(s=+s)?s:a;function Qv(s){return!!(s&&Pt(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const Pv=s=>{const a=new Array(10),l=(o,c)=>{if(Bo(o)){if(a.indexOf(o)>=0)return;if(!("toJSON"in o)){a[c]=o;const f=Fs(o)?[]:{};return Ki(o,(d,p)=>{const m=l(d,c+1);!Pi(m)&&(f[p]=m)}),a[c]=void 0,f}}return o};return l(s,0)},Kv=pn("AsyncFunction"),Jv=s=>s&&(Bo(s)||Pt(s))&&Pt(s.then)&&Pt(s.catch),dg=((s,a)=>s?setImmediate:a?((l,o)=>(Pa.addEventListener("message",({source:c,data:f})=>{c===Pa&&f===l&&o.length&&o.shift()()},!1),c=>{o.push(c),Pa.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",Pt(Pa.postMessage)),Wv=typeof queueMicrotask<"u"?queueMicrotask.bind(Pa):typeof process<"u"&&process.nextTick||dg,L={isArray:Fs,isArrayBuffer:og,isBuffer:pv,isFormData:Mv,isArrayBufferView:yv,isString:vv,isNumber:rg,isBoolean:Sv,isObject:Bo,isPlainObject:So,isReadableStream:Av,isRequest:Nv,isResponse:_v,isHeaders:Rv,isUndefined:Pi,isDate:bv,isFile:Ev,isBlob:wv,isRegExp:Vv,isFunction:Pt,isStream:Cv,isURLSearchParams:Tv,isTypedArray:Bv,isFileList:xv,forEach:Ki,merge:xu,extend:Ov,trim:kv,stripBOM:jv,inherits:Dv,toFlatObject:Uv,kindOf:zo,kindOfTest:pn,endsWith:zv,toArray:Lv,forEachEntry:qv,matchAll:Hv,isHTMLForm:Gv,hasOwnProperty:am,hasOwnProp:am,reduceDescriptors:fg,freezeMethods:Zv,toObjectSet:Fv,toCamelCase:Yv,noop:Xv,toFiniteNumber:$v,findKey:cg,global:Pa,isContextDefined:ug,isSpecCompliantForm:Qv,toJSONObject:Pv,isAsyncFn:Kv,isThenable:Jv,setImmediate:dg,asap:Wv};function ke(s,a,l,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",a&&(this.code=a),l&&(this.config=l),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}L.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const hg=ke.prototype,mg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{mg[s]={value:s}});Object.defineProperties(ke,mg);Object.defineProperty(hg,"isAxiosError",{value:!0});ke.from=(s,a,l,o,c,f)=>{const d=Object.create(hg);return L.toFlatObject(s,d,function(m){return m!==Error.prototype},p=>p!=="isAxiosError"),ke.call(d,s.message,a,l,o,c),d.cause=s,d.name=s.name,f&&Object.assign(d,f),d};const Iv=null;function Cu(s){return L.isPlainObject(s)||L.isArray(s)}function gg(s){return L.endsWith(s,"[]")?s.slice(0,-2):s}function sm(s,a,l){return s?s.concat(a).map(function(c,f){return c=gg(c),!l&&f?"["+c+"]":c}).join(l?".":""):a}function e5(s){return L.isArray(s)&&!s.some(Cu)}const t5=L.toFlatObject(L,{},null,function(a){return/^is[A-Z]/.test(a)});function qo(s,a,l){if(!L.isObject(s))throw new TypeError("target must be an object");a=a||new FormData,l=L.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,A){return!L.isUndefined(A[M])});const o=l.metaTokens,c=l.visitor||E,f=l.dots,d=l.indexes,m=(l.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(a);if(!L.isFunction(c))throw new TypeError("visitor must be a function");function y(C){if(C===null)return"";if(L.isDate(C))return C.toISOString();if(!m&&L.isBlob(C))throw new ke("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(C)||L.isTypedArray(C)?m&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function E(C,M,A){let U=C;if(C&&!A&&typeof C=="object"){if(L.endsWith(M,"{}"))M=o?M:M.slice(0,-2),C=JSON.stringify(C);else if(L.isArray(C)&&e5(C)||(L.isFileList(C)||L.endsWith(M,"[]"))&&(U=L.toArray(C)))return M=gg(M),U.forEach(function(G,oe){!(L.isUndefined(G)||G===null)&&a.append(d===!0?sm([M],oe,f):d===null?M:M+"[]",y(G))}),!1}return Cu(C)?!0:(a.append(sm(A,M,f),y(C)),!1)}const S=[],w=Object.assign(t5,{defaultVisitor:E,convertValue:y,isVisitable:Cu});function O(C,M){if(!L.isUndefined(C)){if(S.indexOf(C)!==-1)throw Error("Circular reference detected in "+M.join("."));S.push(C),L.forEach(C,function(U,H){(!(L.isUndefined(U)||U===null)&&c.call(a,U,L.isString(H)?H.trim():H,M,w))===!0&&O(U,M?M.concat(H):[H])}),S.pop()}}if(!L.isObject(s))throw new TypeError("data must be an object");return O(s),a}function im(s){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(o){return a[o]})}function Vu(s,a){this._pairs=[],s&&qo(s,this,a)}const pg=Vu.prototype;pg.append=function(a,l){this._pairs.push([a,l])};pg.toString=function(a){const l=a?function(o){return a.call(this,o,im)}:im;return this._pairs.map(function(c){return l(c[0])+"="+l(c[1])},"").join("&")};function n5(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yg(s,a,l){if(!a)return s;const o=l&&l.encode||n5;L.isFunction(l)&&(l={serialize:l});const c=l&&l.serialize;let f;if(c?f=c(a,l):f=L.isURLSearchParams(a)?a.toString():new Vu(a,l).toString(o),f){const d=s.indexOf("#");d!==-1&&(s=s.slice(0,d)),s+=(s.indexOf("?")===-1?"?":"&")+f}return s}class lm{constructor(){this.handlers=[]}use(a,l,o){return this.handlers.push({fulfilled:a,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){L.forEach(this.handlers,function(o){o!==null&&a(o)})}}const vg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},a5=typeof URLSearchParams<"u"?URLSearchParams:Vu,s5=typeof FormData<"u"?FormData:null,i5=typeof Blob<"u"?Blob:null,l5={isBrowser:!0,classes:{URLSearchParams:a5,FormData:s5,Blob:i5},protocols:["http","https","file","blob","url","data"]},Zu=typeof window<"u"&&typeof document<"u",Mu=typeof navigator=="object"&&navigator||void 0,o5=Zu&&(!Mu||["ReactNative","NativeScript","NS"].indexOf(Mu.product)<0),r5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",c5=Zu&&window.location.href||"http://localhost",u5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zu,hasStandardBrowserEnv:o5,hasStandardBrowserWebWorkerEnv:r5,navigator:Mu,origin:c5},Symbol.toStringTag,{value:"Module"})),Ot={...u5,...l5};function f5(s,a){return qo(s,new Ot.classes.URLSearchParams,Object.assign({visitor:function(l,o,c,f){return Ot.isNode&&L.isBuffer(l)?(this.append(o,l.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},a))}function d5(s){return L.matchAll(/\w+|\[(\w*)]/g,s).map(a=>a[0]==="[]"?"":a[1]||a[0])}function h5(s){const a={},l=Object.keys(s);let o;const c=l.length;let f;for(o=0;o<c;o++)f=l[o],a[f]=s[f];return a}function Sg(s){function a(l,o,c,f){let d=l[f++];if(d==="__proto__")return!0;const p=Number.isFinite(+d),m=f>=l.length;return d=!d&&L.isArray(c)?c.length:d,m?(L.hasOwnProp(c,d)?c[d]=[c[d],o]:c[d]=o,!p):((!c[d]||!L.isObject(c[d]))&&(c[d]=[]),a(l,o,c[d],f)&&L.isArray(c[d])&&(c[d]=h5(c[d])),!p)}if(L.isFormData(s)&&L.isFunction(s.entries)){const l={};return L.forEachEntry(s,(o,c)=>{a(d5(o),c,l,0)}),l}return null}function m5(s,a,l){if(L.isString(s))try{return(a||JSON.parse)(s),L.trim(s)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(s)}const Ji={transitional:vg,adapter:["xhr","http","fetch"],transformRequest:[function(a,l){const o=l.getContentType()||"",c=o.indexOf("application/json")>-1,f=L.isObject(a);if(f&&L.isHTMLForm(a)&&(a=new FormData(a)),L.isFormData(a))return c?JSON.stringify(Sg(a)):a;if(L.isArrayBuffer(a)||L.isBuffer(a)||L.isStream(a)||L.isFile(a)||L.isBlob(a)||L.isReadableStream(a))return a;if(L.isArrayBufferView(a))return a.buffer;if(L.isURLSearchParams(a))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let p;if(f){if(o.indexOf("application/x-www-form-urlencoded")>-1)return f5(a,this.formSerializer).toString();if((p=L.isFileList(a))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return qo(p?{"files[]":a}:a,m&&new m,this.formSerializer)}}return f||c?(l.setContentType("application/json",!1),m5(a)):a}],transformResponse:[function(a){const l=this.transitional||Ji.transitional,o=l&&l.forcedJSONParsing,c=this.responseType==="json";if(L.isResponse(a)||L.isReadableStream(a))return a;if(a&&L.isString(a)&&(o&&!this.responseType||c)){const d=!(l&&l.silentJSONParsing)&&c;try{return JSON.parse(a)}catch(p){if(d)throw p.name==="SyntaxError"?ke.from(p,ke.ERR_BAD_RESPONSE,this,null,this.response):p}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],s=>{Ji.headers[s]={}});const g5=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),p5=s=>{const a={};let l,o,c;return s&&s.split(`
`).forEach(function(d){c=d.indexOf(":"),l=d.substring(0,c).trim().toLowerCase(),o=d.substring(c+1).trim(),!(!l||a[l]&&g5[l])&&(l==="set-cookie"?a[l]?a[l].push(o):a[l]=[o]:a[l]=a[l]?a[l]+", "+o:o)}),a},om=Symbol("internals");function Vi(s){return s&&String(s).trim().toLowerCase()}function bo(s){return s===!1||s==null?s:L.isArray(s)?s.map(bo):String(s)}function y5(s){const a=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(s);)a[o[1]]=o[2];return a}const v5=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function iu(s,a,l,o,c){if(L.isFunction(o))return o.call(this,a,l);if(c&&(a=l),!!L.isString(a)){if(L.isString(o))return a.indexOf(o)!==-1;if(L.isRegExp(o))return o.test(a)}}function S5(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,l,o)=>l.toUpperCase()+o)}function b5(s,a){const l=L.toCamelCase(" "+a);["get","set","has"].forEach(o=>{Object.defineProperty(s,o+l,{value:function(c,f,d){return this[o].call(this,a,c,f,d)},configurable:!0})})}let Vt=class{constructor(a){a&&this.set(a)}set(a,l,o){const c=this;function f(p,m,y){const E=Vi(m);if(!E)throw new Error("header name must be a non-empty string");const S=L.findKey(c,E);(!S||c[S]===void 0||y===!0||y===void 0&&c[S]!==!1)&&(c[S||m]=bo(p))}const d=(p,m)=>L.forEach(p,(y,E)=>f(y,E,m));if(L.isPlainObject(a)||a instanceof this.constructor)d(a,l);else if(L.isString(a)&&(a=a.trim())&&!v5(a))d(p5(a),l);else if(L.isHeaders(a))for(const[p,m]of a.entries())f(m,p,o);else a!=null&&f(l,a,o);return this}get(a,l){if(a=Vi(a),a){const o=L.findKey(this,a);if(o){const c=this[o];if(!l)return c;if(l===!0)return y5(c);if(L.isFunction(l))return l.call(this,c,o);if(L.isRegExp(l))return l.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,l){if(a=Vi(a),a){const o=L.findKey(this,a);return!!(o&&this[o]!==void 0&&(!l||iu(this,this[o],o,l)))}return!1}delete(a,l){const o=this;let c=!1;function f(d){if(d=Vi(d),d){const p=L.findKey(o,d);p&&(!l||iu(o,o[p],p,l))&&(delete o[p],c=!0)}}return L.isArray(a)?a.forEach(f):f(a),c}clear(a){const l=Object.keys(this);let o=l.length,c=!1;for(;o--;){const f=l[o];(!a||iu(this,this[f],f,a,!0))&&(delete this[f],c=!0)}return c}normalize(a){const l=this,o={};return L.forEach(this,(c,f)=>{const d=L.findKey(o,f);if(d){l[d]=bo(c),delete l[f];return}const p=a?S5(f):String(f).trim();p!==f&&delete l[f],l[p]=bo(c),o[p]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const l=Object.create(null);return L.forEach(this,(o,c)=>{o!=null&&o!==!1&&(l[c]=a&&L.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,l])=>a+": "+l).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...l){const o=new this(a);return l.forEach(c=>o.set(c)),o}static accessor(a){const o=(this[om]=this[om]={accessors:{}}).accessors,c=this.prototype;function f(d){const p=Vi(d);o[p]||(b5(c,d),o[p]=!0)}return L.isArray(a)?a.forEach(f):f(a),this}};Vt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(Vt.prototype,({value:s},a)=>{let l=a[0].toUpperCase()+a.slice(1);return{get:()=>s,set(o){this[l]=o}}});L.freezeMethods(Vt);function lu(s,a){const l=this||Ji,o=a||l,c=Vt.from(o.headers);let f=o.data;return L.forEach(s,function(p){f=p.call(l,f,c.normalize(),a?a.status:void 0)}),c.normalize(),f}function bg(s){return!!(s&&s.__CANCEL__)}function Xs(s,a,l){ke.call(this,s??"canceled",ke.ERR_CANCELED,a,l),this.name="CanceledError"}L.inherits(Xs,ke,{__CANCEL__:!0});function Eg(s,a,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?s(l):a(new ke("Request failed with status code "+l.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function E5(s){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return a&&a[1]||""}function w5(s,a){s=s||10;const l=new Array(s),o=new Array(s);let c=0,f=0,d;return a=a!==void 0?a:1e3,function(m){const y=Date.now(),E=o[f];d||(d=y),l[c]=m,o[c]=y;let S=f,w=0;for(;S!==c;)w+=l[S++],S=S%s;if(c=(c+1)%s,c===f&&(f=(f+1)%s),y-d<a)return;const O=E&&y-E;return O?Math.round(w*1e3/O):void 0}}function x5(s,a){let l=0,o=1e3/a,c,f;const d=(y,E=Date.now())=>{l=E,c=null,f&&(clearTimeout(f),f=null),s.apply(null,y)};return[(...y)=>{const E=Date.now(),S=E-l;S>=o?d(y,E):(c=y,f||(f=setTimeout(()=>{f=null,d(c)},o-S)))},()=>c&&d(c)]}const To=(s,a,l=3)=>{let o=0;const c=w5(50,250);return x5(f=>{const d=f.loaded,p=f.lengthComputable?f.total:void 0,m=d-o,y=c(m),E=d<=p;o=d;const S={loaded:d,total:p,progress:p?d/p:void 0,bytes:m,rate:y||void 0,estimated:y&&p&&E?(p-d)/y:void 0,event:f,lengthComputable:p!=null,[a?"download":"upload"]:!0};s(S)},l)},rm=(s,a)=>{const l=s!=null;return[o=>a[0]({lengthComputable:l,total:s,loaded:o}),a[1]]},cm=s=>(...a)=>L.asap(()=>s(...a)),C5=Ot.hasStandardBrowserEnv?((s,a)=>l=>(l=new URL(l,Ot.origin),s.protocol===l.protocol&&s.host===l.host&&(a||s.port===l.port)))(new URL(Ot.origin),Ot.navigator&&/(msie|trident)/i.test(Ot.navigator.userAgent)):()=>!0,M5=Ot.hasStandardBrowserEnv?{write(s,a,l,o,c,f){const d=[s+"="+encodeURIComponent(a)];L.isNumber(l)&&d.push("expires="+new Date(l).toGMTString()),L.isString(o)&&d.push("path="+o),L.isString(c)&&d.push("domain="+c),f===!0&&d.push("secure"),document.cookie=d.join("; ")},read(s){const a=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function T5(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function A5(s,a){return a?s.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):s}function wg(s,a,l){let o=!T5(a);return s&&o||l==!1?A5(s,a):a}const um=s=>s instanceof Vt?{...s}:s;function Ia(s,a){a=a||{};const l={};function o(y,E,S,w){return L.isPlainObject(y)&&L.isPlainObject(E)?L.merge.call({caseless:w},y,E):L.isPlainObject(E)?L.merge({},E):L.isArray(E)?E.slice():E}function c(y,E,S,w){if(L.isUndefined(E)){if(!L.isUndefined(y))return o(void 0,y,S,w)}else return o(y,E,S,w)}function f(y,E){if(!L.isUndefined(E))return o(void 0,E)}function d(y,E){if(L.isUndefined(E)){if(!L.isUndefined(y))return o(void 0,y)}else return o(void 0,E)}function p(y,E,S){if(S in a)return o(y,E);if(S in s)return o(void 0,y)}const m={url:f,method:f,data:f,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:p,headers:(y,E,S)=>c(um(y),um(E),S,!0)};return L.forEach(Object.keys(Object.assign({},s,a)),function(E){const S=m[E]||c,w=S(s[E],a[E],E);L.isUndefined(w)&&S!==p||(l[E]=w)}),l}const xg=s=>{const a=Ia({},s);let{data:l,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:f,headers:d,auth:p}=a;a.headers=d=Vt.from(d),a.url=yg(wg(a.baseURL,a.url),s.params,s.paramsSerializer),p&&d.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let m;if(L.isFormData(l)){if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((m=d.getContentType())!==!1){const[y,...E]=m?m.split(";").map(S=>S.trim()).filter(Boolean):[];d.setContentType([y||"multipart/form-data",...E].join("; "))}}if(Ot.hasStandardBrowserEnv&&(o&&L.isFunction(o)&&(o=o(a)),o||o!==!1&&C5(a.url))){const y=c&&f&&M5.read(f);y&&d.set(c,y)}return a},N5=typeof XMLHttpRequest<"u",_5=N5&&function(s){return new Promise(function(l,o){const c=xg(s);let f=c.data;const d=Vt.from(c.headers).normalize();let{responseType:p,onUploadProgress:m,onDownloadProgress:y}=c,E,S,w,O,C;function M(){O&&O(),C&&C(),c.cancelToken&&c.cancelToken.unsubscribe(E),c.signal&&c.signal.removeEventListener("abort",E)}let A=new XMLHttpRequest;A.open(c.method.toUpperCase(),c.url,!0),A.timeout=c.timeout;function U(){if(!A)return;const G=Vt.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),$={data:!p||p==="text"||p==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:G,config:s,request:A};Eg(function(he){l(he),M()},function(he){o(he),M()},$),A=null}"onloadend"in A?A.onloadend=U:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(U)},A.onabort=function(){A&&(o(new ke("Request aborted",ke.ECONNABORTED,s,A)),A=null)},A.onerror=function(){o(new ke("Network Error",ke.ERR_NETWORK,s,A)),A=null},A.ontimeout=function(){let oe=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const $=c.transitional||vg;c.timeoutErrorMessage&&(oe=c.timeoutErrorMessage),o(new ke(oe,$.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,s,A)),A=null},f===void 0&&d.setContentType(null),"setRequestHeader"in A&&L.forEach(d.toJSON(),function(oe,$){A.setRequestHeader($,oe)}),L.isUndefined(c.withCredentials)||(A.withCredentials=!!c.withCredentials),p&&p!=="json"&&(A.responseType=c.responseType),y&&([w,C]=To(y,!0),A.addEventListener("progress",w)),m&&A.upload&&([S,O]=To(m),A.upload.addEventListener("progress",S),A.upload.addEventListener("loadend",O)),(c.cancelToken||c.signal)&&(E=G=>{A&&(o(!G||G.type?new Xs(null,s,A):G),A.abort(),A=null)},c.cancelToken&&c.cancelToken.subscribe(E),c.signal&&(c.signal.aborted?E():c.signal.addEventListener("abort",E)));const H=E5(c.url);if(H&&Ot.protocols.indexOf(H)===-1){o(new ke("Unsupported protocol "+H+":",ke.ERR_BAD_REQUEST,s));return}A.send(f||null)})},R5=(s,a)=>{const{length:l}=s=s?s.filter(Boolean):[];if(a||l){let o=new AbortController,c;const f=function(y){if(!c){c=!0,p();const E=y instanceof Error?y:this.reason;o.abort(E instanceof ke?E:new Xs(E instanceof Error?E.message:E))}};let d=a&&setTimeout(()=>{d=null,f(new ke(`timeout ${a} of ms exceeded`,ke.ETIMEDOUT))},a);const p=()=>{s&&(d&&clearTimeout(d),d=null,s.forEach(y=>{y.unsubscribe?y.unsubscribe(f):y.removeEventListener("abort",f)}),s=null)};s.forEach(y=>y.addEventListener("abort",f));const{signal:m}=o;return m.unsubscribe=()=>L.asap(p),m}},k5=function*(s,a){let l=s.byteLength;if(l<a){yield s;return}let o=0,c;for(;o<l;)c=o+a,yield s.slice(o,c),o=c},O5=async function*(s,a){for await(const l of j5(s))yield*k5(l,a)},j5=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const a=s.getReader();try{for(;;){const{done:l,value:o}=await a.read();if(l)break;yield o}}finally{await a.cancel()}},fm=(s,a,l,o)=>{const c=O5(s,a);let f=0,d,p=m=>{d||(d=!0,o&&o(m))};return new ReadableStream({async pull(m){try{const{done:y,value:E}=await c.next();if(y){p(),m.close();return}let S=E.byteLength;if(l){let w=f+=S;l(w)}m.enqueue(new Uint8Array(E))}catch(y){throw p(y),y}},cancel(m){return p(m),c.return()}},{highWaterMark:2})},Ho=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Cg=Ho&&typeof ReadableStream=="function",D5=Ho&&(typeof TextEncoder=="function"?(s=>a=>s.encode(a))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),Mg=(s,...a)=>{try{return!!s(...a)}catch{return!1}},U5=Cg&&Mg(()=>{let s=!1;const a=new Request(Ot.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!a}),dm=64*1024,Tu=Cg&&Mg(()=>L.isReadableStream(new Response("").body)),Ao={stream:Tu&&(s=>s.body)};Ho&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(a=>{!Ao[a]&&(Ao[a]=L.isFunction(s[a])?l=>l[a]():(l,o)=>{throw new ke(`Response type '${a}' is not supported`,ke.ERR_NOT_SUPPORT,o)})})})(new Response);const z5=async s=>{if(s==null)return 0;if(L.isBlob(s))return s.size;if(L.isSpecCompliantForm(s))return(await new Request(Ot.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(L.isArrayBufferView(s)||L.isArrayBuffer(s))return s.byteLength;if(L.isURLSearchParams(s)&&(s=s+""),L.isString(s))return(await D5(s)).byteLength},L5=async(s,a)=>{const l=L.toFiniteNumber(s.getContentLength());return l??z5(a)},B5=Ho&&(async s=>{let{url:a,method:l,data:o,signal:c,cancelToken:f,timeout:d,onDownloadProgress:p,onUploadProgress:m,responseType:y,headers:E,withCredentials:S="same-origin",fetchOptions:w}=xg(s);y=y?(y+"").toLowerCase():"text";let O=R5([c,f&&f.toAbortSignal()],d),C;const M=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let A;try{if(m&&U5&&l!=="get"&&l!=="head"&&(A=await L5(E,o))!==0){let $=new Request(a,{method:"POST",body:o,duplex:"half"}),de;if(L.isFormData(o)&&(de=$.headers.get("content-type"))&&E.setContentType(de),$.body){const[he,re]=rm(A,To(cm(m)));o=fm($.body,dm,he,re)}}L.isString(S)||(S=S?"include":"omit");const U="credentials"in Request.prototype;C=new Request(a,{...w,signal:O,method:l.toUpperCase(),headers:E.normalize().toJSON(),body:o,duplex:"half",credentials:U?S:void 0});let H=await fetch(C);const G=Tu&&(y==="stream"||y==="response");if(Tu&&(p||G&&M)){const $={};["status","statusText","headers"].forEach(ie=>{$[ie]=H[ie]});const de=L.toFiniteNumber(H.headers.get("content-length")),[he,re]=p&&rm(de,To(cm(p),!0))||[];H=new Response(fm(H.body,dm,he,()=>{re&&re(),M&&M()}),$)}y=y||"text";let oe=await Ao[L.findKey(Ao,y)||"text"](H,s);return!G&&M&&M(),await new Promise(($,de)=>{Eg($,de,{data:oe,headers:Vt.from(H.headers),status:H.status,statusText:H.statusText,config:s,request:C})})}catch(U){throw M&&M(),U&&U.name==="TypeError"&&/fetch/i.test(U.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,s,C),{cause:U.cause||U}):ke.from(U,U&&U.code,s,C)}}),Au={http:Iv,xhr:_5,fetch:B5};L.forEach(Au,(s,a)=>{if(s){try{Object.defineProperty(s,"name",{value:a})}catch{}Object.defineProperty(s,"adapterName",{value:a})}});const hm=s=>`- ${s}`,q5=s=>L.isFunction(s)||s===null||s===!1,Tg={getAdapter:s=>{s=L.isArray(s)?s:[s];const{length:a}=s;let l,o;const c={};for(let f=0;f<a;f++){l=s[f];let d;if(o=l,!q5(l)&&(o=Au[(d=String(l)).toLowerCase()],o===void 0))throw new ke(`Unknown adapter '${d}'`);if(o)break;c[d||"#"+f]=o}if(!o){const f=Object.entries(c).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=a?f.length>1?`since :
`+f.map(hm).join(`
`):" "+hm(f[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:Au};function ou(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Xs(null,s)}function mm(s){return ou(s),s.headers=Vt.from(s.headers),s.data=lu.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Tg.getAdapter(s.adapter||Ji.adapter)(s).then(function(o){return ou(s),o.data=lu.call(s,s.transformResponse,o),o.headers=Vt.from(o.headers),o},function(o){return bg(o)||(ou(s),o&&o.response&&(o.response.data=lu.call(s,s.transformResponse,o.response),o.response.headers=Vt.from(o.response.headers))),Promise.reject(o)})}const Ag="1.8.1",Go={};["object","boolean","number","function","string","symbol"].forEach((s,a)=>{Go[s]=function(o){return typeof o===s||"a"+(a<1?"n ":" ")+s}});const gm={};Go.transitional=function(a,l,o){function c(f,d){return"[Axios v"+Ag+"] Transitional option '"+f+"'"+d+(o?". "+o:"")}return(f,d,p)=>{if(a===!1)throw new ke(c(d," has been removed"+(l?" in "+l:"")),ke.ERR_DEPRECATED);return l&&!gm[d]&&(gm[d]=!0,console.warn(c(d," has been deprecated since v"+l+" and will be removed in the near future"))),a?a(f,d,p):!0}};Go.spelling=function(a){return(l,o)=>(console.warn(`${o} is likely a misspelling of ${a}`),!0)};function H5(s,a,l){if(typeof s!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const o=Object.keys(s);let c=o.length;for(;c-- >0;){const f=o[c],d=a[f];if(d){const p=s[f],m=p===void 0||d(p,f,s);if(m!==!0)throw new ke("option "+f+" must be "+m,ke.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new ke("Unknown option "+f,ke.ERR_BAD_OPTION)}}const Eo={assertOptions:H5,validators:Go},Mn=Eo.validators;let Ka=class{constructor(a){this.defaults=a,this.interceptors={request:new lm,response:new lm}}async request(a,l){try{return await this._request(a,l)}catch(o){if(o instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const f=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?f&&!String(o.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+f):o.stack=f}catch{}}throw o}}_request(a,l){typeof a=="string"?(l=l||{},l.url=a):l=a||{},l=Ia(this.defaults,l);const{transitional:o,paramsSerializer:c,headers:f}=l;o!==void 0&&Eo.assertOptions(o,{silentJSONParsing:Mn.transitional(Mn.boolean),forcedJSONParsing:Mn.transitional(Mn.boolean),clarifyTimeoutError:Mn.transitional(Mn.boolean)},!1),c!=null&&(L.isFunction(c)?l.paramsSerializer={serialize:c}:Eo.assertOptions(c,{encode:Mn.function,serialize:Mn.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Eo.assertOptions(l,{baseUrl:Mn.spelling("baseURL"),withXsrfToken:Mn.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let d=f&&L.merge(f.common,f[l.method]);f&&L.forEach(["delete","get","head","post","put","patch","common"],C=>{delete f[C]}),l.headers=Vt.concat(d,f);const p=[];let m=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(l)===!1||(m=m&&M.synchronous,p.unshift(M.fulfilled,M.rejected))});const y=[];this.interceptors.response.forEach(function(M){y.push(M.fulfilled,M.rejected)});let E,S=0,w;if(!m){const C=[mm.bind(this),void 0];for(C.unshift.apply(C,p),C.push.apply(C,y),w=C.length,E=Promise.resolve(l);S<w;)E=E.then(C[S++],C[S++]);return E}w=p.length;let O=l;for(S=0;S<w;){const C=p[S++],M=p[S++];try{O=C(O)}catch(A){M.call(this,A);break}}try{E=mm.call(this,O)}catch(C){return Promise.reject(C)}for(S=0,w=y.length;S<w;)E=E.then(y[S++],y[S++]);return E}getUri(a){a=Ia(this.defaults,a);const l=wg(a.baseURL,a.url,a.allowAbsoluteUrls);return yg(l,a.params,a.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(a){Ka.prototype[a]=function(l,o){return this.request(Ia(o||{},{method:a,url:l,data:(o||{}).data}))}});L.forEach(["post","put","patch"],function(a){function l(o){return function(f,d,p){return this.request(Ia(p||{},{method:a,headers:o?{"Content-Type":"multipart/form-data"}:{},url:f,data:d}))}}Ka.prototype[a]=l(),Ka.prototype[a+"Form"]=l(!0)});let G5=class Ng{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(f){l=f});const o=this;this.promise.then(c=>{if(!o._listeners)return;let f=o._listeners.length;for(;f-- >0;)o._listeners[f](c);o._listeners=null}),this.promise.then=c=>{let f;const d=new Promise(p=>{o.subscribe(p),f=p}).then(c);return d.cancel=function(){o.unsubscribe(f)},d},a(function(f,d,p){o.reason||(o.reason=new Xs(f,d,p),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const a=new AbortController,l=o=>{a.abort(o)};return this.subscribe(l),a.signal.unsubscribe=()=>this.unsubscribe(l),a.signal}static source(){let a;return{token:new Ng(function(c){a=c}),cancel:a}}};function Y5(s){return function(l){return s.apply(null,l)}}function V5(s){return L.isObject(s)&&s.isAxiosError===!0}const Nu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nu).forEach(([s,a])=>{Nu[a]=s});function _g(s){const a=new Ka(s),l=lg(Ka.prototype.request,a);return L.extend(l,Ka.prototype,a,{allOwnKeys:!0}),L.extend(l,a,null,{allOwnKeys:!0}),l.create=function(c){return _g(Ia(s,c))},l}const st=_g(Ji);st.Axios=Ka;st.CanceledError=Xs;st.CancelToken=G5;st.isCancel=bg;st.VERSION=Ag;st.toFormData=qo;st.AxiosError=ke;st.Cancel=st.CanceledError;st.all=function(a){return Promise.all(a)};st.spread=Y5;st.isAxiosError=V5;st.mergeConfig=Ia;st.AxiosHeaders=Vt;st.formToJSON=s=>Sg(L.isHTMLForm(s)?new FormData(s):s);st.getAdapter=Tg.getAdapter;st.HttpStatusCode=Nu;st.default=st;const{Axios:mb,AxiosError:gb,CanceledError:pb,isCancel:yb,CancelToken:vb,VERSION:Sb,all:bb,Cancel:Eb,isAxiosError:wb,spread:xb,toFormData:Cb,AxiosHeaders:Mb,HttpStatusCode:Tb,formToJSON:Ab,getAdapter:Nb,mergeConfig:_b}=st,Z5=()=>({success:!0,message:"API fallback mode active",status:"offline",timestamp:Date.now()}),_u="http://localhost:3000",kt=st.create({baseURL:_u,headers:{"Content-Type":"application/json"},timeout:1e4});let Qa=!1;const F5=()=>{console.log("ApiService: Getting auth token");const s=localStorage.getItem("token");return console.log("ApiService: Token exists:",!!s),s};kt.interceptors.request.use(s=>{console.log("ApiService: Intercepting request to:",s.url);const a=F5();return a&&(console.log("ApiService: Adding auth token to request"),s.headers.Authorization=`Bearer ${a}`),s},s=>(console.error("ApiService: Request interceptor error:",s),Promise.reject(s)));kt.interceptors.response.use(s=>(console.log("ApiService: Response received success"),Qa=!1,s),s=>{var a,l;if(console.error("ApiService: Response error:",(a=s.response)==null?void 0:a.status,(l=s.response)==null?void 0:l.data),s.response&&s.response.status===429){console.warn("ApiService: Rate limited (429 Too Many Requests) - implementing backoff");const o=Date.now();return localStorage.setItem("api_rate_limited_at",o.toString()),Promise.reject({response:s.response,message:"You're making too many requests. Please wait a moment before trying again.",isRateLimited:!0})}return s.response&&s.response.status===401&&(console.log("ApiService: 401 Unauthorized response, clearing token"),s.config.url.includes("socket.io")||(localStorage.removeItem("token"),window.location.href="/auth")),(s.code==="ECONNABORTED"||s.message.includes("Network Error"))&&(console.log("ApiService: Network error - server may be unreachable"),Qa=!0),Promise.reject(s)});let pm=null;const Lt={isInFallbackMode:()=>Qa,enableFallbackMode:()=>{Qa=!0,console.log("ApiService: Fallback mode enabled manually")},disableFallbackMode:()=>{Qa=!1,console.log("ApiService: Fallback mode disabled manually")},checkServerStatus:async()=>{try{const s=await kt.get("/api/status");return Qa=!1,s.data}catch(s){return console.error("ApiService: Error checking server status:",s),Qa=!0,Z5()}},getStatus:async()=>{try{return(await kt.get("/api/status")).data}catch(s){throw s}},sendMessage:async(s,a=null,l=null)=>{var o,c;try{const f=cn.getSocketId();console.log("ApiService: Sending message via API",{message:s,username:a,location:l});const d=await kt.post("/api/messages",{message:s,socketId:f,username:a,location:l});return console.log("ApiService: Message sent successfully via API:",d.data),d.data}catch(f){return console.error("ApiService: Error sending message:",f),{success:!1,error:((c=(o=f.response)==null?void 0:o.data)==null?void 0:c.message)||f.message||"Unknown error"}}},sendMessageWithImage:async(s,a,l=null)=>{var o,c;try{const f=localStorage.getItem("token");if(l&&a.append("location",JSON.stringify(l)),a.has("message")||a.append("message",s),a.has("username"))console.log("ApiService: Username already in formData, using existing value");else{let p=null;try{const m=localStorage.getItem("user");if(m&&(p=JSON.parse(m).username,console.log("ApiService: Using username from localStorage:",p)),!p&&f){const y=f.split(".");if(y.length===3){const E=JSON.parse(atob(y[1]));E.username&&(p=E.username,console.log("ApiService: Using username from token payload:",p))}}p?(a.append("username",p),console.log("ApiService: Added username to formData:",p)):console.warn("ApiService: No username found for message with image!")}catch(m){console.error("ApiService: Error getting username:",m)}}console.log("ApiService: Sending message with image via API");const d=await st({method:"post",url:`${_u}/api/messages/with-image`,data:a,headers:{"Content-Type":"multipart/form-data",Authorization:f?`Bearer ${f}`:""}});return console.log("ApiService: Message with image sent successfully:",d.data),d.data}catch(f){return console.error("ApiService: Error sending message with image:",f),{success:!1,error:((c=(o=f.response)==null?void 0:o.data)==null?void 0:c.message)||f.message||"Unknown error"}}},getUserMessages:async(s,a=null)=>{var l,o,c;try{let f=`/api/messages/${s}`;a&&(f+=`?currentUser=${encodeURIComponent(a)}`);const d=localStorage.getItem("token");if(!d)return console.error("Authentication token missing when fetching user messages"),{success:!1,message:"Authentication token missing"};const p=await kt.get(f,{headers:{Authorization:`Bearer ${d}`}});return p.data?(p.data&&!p.data.hasOwnProperty("success")&&(p.data.success=!0),p.data.success&&(!p.data.data||!p.data.data.messages)?(console.error("Missing messages array in server response:",p.data),{success:!1,message:"Invalid server response format",originalResponse:p.data}):p.data):{success:!1,message:"Invalid response from server"}}catch(f){return console.error("Error fetching user messages:",f),{success:!1,message:((o=(l=f.response)==null?void 0:l.data)==null?void 0:o.message)||"Failed to fetch user messages",error:((c=f.response)==null?void 0:c.data)||f.message}}},getAllMessages:async(s=null,a=null,l=1,o=50)=>{var c,f,d;try{let p="/api/messages";const m=new URLSearchParams;s&&m.append("exclude",s),a&&m.append("currentUser",a),m.append("page",l),m.append("limit",o),m.toString()&&(p+=`?${m.toString()}`);const y=localStorage.getItem("token");if(!y)return console.error("Authentication token missing"),{success:!1,message:"Authentication token missing"};const E=await kt.get(p,{headers:{Authorization:`Bearer ${y}`}});return E.data&&!E.data.hasOwnProperty("success")&&(E.data.success=!0),E.data}catch(p){return console.error("Error fetching messages:",p),{success:!1,message:((f=(c=p.response)==null?void 0:c.data)==null?void 0:f.message)||"Failed to fetch messages",error:((d=p.response)==null?void 0:d.data)||p.message}}},getAllMessagesWithAutoPagination:async(s=null,a=null,l=30)=>{try{const o=[];let c=1;const f=50;let d=!0,p=!1;const m=new Date(Date.now()-l*60*1e3),y=localStorage.getItem("token");if(!y)return console.error("Authentication token missing"),{success:!1,message:"Authentication token missing"};for(;d&&!p;){const E=new URLSearchParams;s&&E.append("exclude",s),a&&E.append("currentUser",a),E.append("page",c),E.append("limit",f);let S=`/api/messages?${E.toString()}`;const w=await kt.get(S,{headers:{Authorization:`Bearer ${y}`}}).then(C=>C.data);if(!w.success||!w.messages||!Array.isArray(w.messages)){console.error("Error or invalid response format when fetching messages page",c,w);break}if(w.messages.length===0){d=!1;break}if(new Date(w.messages[w.messages.length-1].createdAt)<m){p=!0;const C=w.messages.filter(M=>new Date(M.createdAt)>=m);o.push(...C)}else o.push(...w.messages);w.pagination&&w.pagination.page<w.pagination.pages?c++:d=!1}return{success:!0,messages:o,pagination:{total:o.length,pages:1,page:1}}}catch(o){return console.error("Error in auto-pagination:",o),{success:!1,message:"Failed to fetch all messages with auto-pagination",error:o.message}}},getMessages:async(s=30)=>{try{console.log(" ApiService.getMessages: Starting to fetch messages from server");const a=parseInt(localStorage.getItem("api_rate_limited_at")||"0"),l=Date.now(),o=3e4;if(a>0&&l-a<o)return console.warn(` ApiService.getMessages: Recently rate limited, backing off (${Math.round((l-a)/1e3)}s elapsed of ${o/1e3}s backoff)`),pm&&pm.length>0,{success:!1,message:"Rate limited. Please try again in a few moments.",isRateLimited:!0};const c=localStorage.getItem("token");if(!c)return console.error(" ApiService.getMessages: Authentication token missing"),{success:!1,message:"Authentication token missing"};console.log(" ApiService.getMessages: Auth token retrieved successfully");const f=localStorage.getItem("user"),d=f?JSON.parse(f).username:null;console.log(" ApiService.getMessages: Current username:",d);const p=new URLSearchParams;d&&p.append("currentUser",d),p.append("includeLocation","true"),p.append("limit","50"),p.append("sort","-createdAt");const m=s*60*1e3,y=new Date(Date.now()-m).toISOString();p.append("minCreatedAt",y);let E=`/api/messages?${p.toString()}`;console.log(" ApiService.getMessages: Requesting URL:",`${_u}${E}`),console.log(" ApiService.getMessages: Filtering for messages newer than:",y);try{const S=await kt.get(E,{headers:{Authorization:`Bearer ${c}`}});console.log(" ApiService.getMessages: Raw response status:",S.status,S.statusText),typeof S.data=="object"&&console.log(" ApiService.getMessages: Response data keys:",Object.keys(S.data));let w=[],O={};if(S.data&&S.data.data&&S.data.data.messages)console.log(" ApiService.getMessages: Found messages in response.data.data.messages"),w=S.data.data.messages,O=S.data.data.onlineUsers||{};else if(S.data&&S.data.messages)console.log(" ApiService.getMessages: Found messages in response.data.messages"),w=S.data.messages,O=S.data.onlineUsers||{};else if(Array.isArray(S.data))console.log(" ApiService.getMessages: Response data is an array of messages"),w=S.data;else if(S.data&&typeof S.data=="object"){const M=Object.entries(S.data).filter(([A,U])=>Array.isArray(U)).sort(([A,U],[H,G])=>G.length-U.length);if(M.length>0){const[A,U]=M[0];console.log(` ApiService.getMessages: Found array in property "${A}" that might be messages`),w=U}}if(w.length>0){console.log(` ApiService.getMessages: Found ${w.length} messages`);const M=w.filter(A=>A.location&&A.location.latitude&&A.location.longitude);return console.log(` ApiService.getMessages: Found ${M.length} messages with location data out of ${w.length}`),w.length>0&&console.log(" ApiService.getMessages: Sample message:",w[0]),{success:!0,messages:w,onlineUsers:O}}return console.error(" ApiService.getMessages: No messages found in response:",S.data),console.log(" ApiService.getMessages: Generating test messages as fallback"),{success:!0,message:"Using test messages due to unexpected server response",messages:Array(5).fill().map((M,A)=>({_id:`test-${A}`,messageId:`test-${A}`,senderUsername:`TestUser${A}`,text:`This is a test message ${A+1} with location data.`,createdAt:new Date(Date.now()-A*36e5).toISOString(),location:{latitude:40.7128+(Math.random()-.5)*.05,longitude:-74.006+(Math.random()-.5)*.05,fuzzyLocation:!0},likes:[],likesCount:Math.floor(Math.random()*10)})),onlineUsers:{},isTestData:!0}}catch(S){throw console.error(" ApiService.getMessages: Error during API request:",S.message),S}}catch(a){return console.error(" ApiService.getMessages: Error fetching messages:",a),console.log(" ApiService.getMessages: Generating test messages as fallback due to error"),{success:!0,message:"Using test messages due to API error",messages:Array(5).fill().map((o,c)=>({_id:`test-error-${c}`,messageId:`test-error-${c}`,senderUsername:`ErrorUser${c}`,text:`This is a fallback message ${c+1} generated due to API error.`,createdAt:new Date(Date.now()-c*36e5).toISOString(),location:{latitude:40.7128+(Math.random()-.5)*.05,longitude:-74.006+(Math.random()-.5)*.05,fuzzyLocation:!0},likes:[],likesCount:Math.floor(Math.random()*10)})),onlineUsers:{},isTestData:!0,error:a.message}}},likeMessage:async s=>{var a,l;try{const o=localStorage.getItem("token"),c=await kt.post(`/api/messages/${s}/like`,{},{headers:{Authorization:`Bearer ${o}`}});return c.data&&c.data.success?{success:!0,liked:c.data.liked,likesCount:c.data.likesCount,messageId:c.data.messageId}:c.data}catch(o){return console.error("Error toggling message like:",o),{success:!1,message:((l=(a=o.response)==null?void 0:a.data)==null?void 0:l.message)||"Failed to toggle like status"}}},unlikeMessage:async s=>Lt.likeMessage(s),deleteMessage:async s=>{try{const a=localStorage.getItem("token");return(await kt.delete(`/api/messages/${s}`,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){throw console.error("Error deleting message:",a),a}},getUserLikes:async s=>{try{return(await kt.get(`/api/users/${s}/likes`)).data}catch(a){throw a}},getLikedMessages:async(s,a=null)=>{var l,o,c;try{let f=`/api/users/${s}/liked-messages`;a&&(f+=`?currentUser=${encodeURIComponent(a)}`);const d=localStorage.getItem("token");if(!d)return console.error("Authentication token missing"),{success:!1,message:"Authentication token missing"};const p=await kt.get(f,{headers:{Authorization:`Bearer ${d}`}});return p.data?(p.data&&!p.data.hasOwnProperty("success")&&(p.data.success=!0),console.log("Liked messages response:",p.data),p.data):(console.error("Empty response when fetching liked messages"),{success:!1,message:"Invalid response from server"})}catch(f){return console.error("Error fetching liked messages:",f),{success:!1,message:((o=(l=f.response)==null?void 0:l.data)==null?void 0:o.message)||"Failed to fetch liked messages",error:((c=f.response)==null?void 0:c.data)||f.message}}},getUserByUsername:async(s,a=null)=>{var l,o;try{let c=`/api/users/${s}`;return a&&(c+=`?currentUsername=${encodeURIComponent(a)}`),(await kt.get(c)).data}catch(c){return{success:!1,error:((o=(l=c.response)==null?void 0:l.data)==null?void 0:o.message)||"Failed to fetch user profile"}}},followUser:async(s,a)=>{var l,o;try{return(await kt.post(`/api/users/${s}/follow`,{currentUsername:a})).data}catch(c){return{success:!1,error:((o=(l=c.response)==null?void 0:l.data)==null?void 0:o.message)||"Failed to follow user"}}},unfollowUser:async(s,a)=>{var l,o;try{return(await kt.post(`/api/users/${s}/unfollow`,{currentUsername:a})).data}catch(c){return{success:!1,error:((o=(l=c.response)==null?void 0:l.data)==null?void 0:o.message)||"Failed to unfollow user"}}}},X5="http://localhost:3000",$5=`${X5}/api/auth`,Xa=st.create({baseURL:$5,headers:{"Content-Type":"application/json"},withCredentials:!0});Xa.interceptors.request.use(s=>{const a=localStorage.getItem("token");return a&&(s.headers.Authorization=`Bearer ${a}`),s},s=>Promise.reject(s));const At={register:async s=>{var a;try{const l=await Xa.post("/register",s);if(l.data.success){localStorage.setItem("token",l.data.data.token),localStorage.setItem("user",JSON.stringify(l.data.data.user));const o=Date.now()+30*24*60*60*1e3;localStorage.setItem("tokenExpiration",o)}return l.data}catch(l){throw((a=l.response)==null?void 0:a.data)||l}},login:async s=>{var a;try{const l=await Xa.post("/login",s);if(l.data.success){l.data.data.user.likedMessages||(l.data.data.user.likedMessages=[]),localStorage.setItem("token",l.data.data.token),localStorage.setItem("user",JSON.stringify(l.data.data.user));const o=Date.now()+30*24*60*60*1e3;localStorage.setItem("tokenExpiration",o)}return l.data}catch(l){throw((a=l.response)==null?void 0:a.data)||l}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("tokenExpiration")},getCurrentUser:async()=>{var s;try{const a=await Xa.get("/me");return a.data.success&&a.data.data.user,a.data}catch(a){throw((s=a.response)==null?void 0:s.data)||a}},isAuthenticated:()=>{const s=localStorage.getItem("token"),a=localStorage.getItem("tokenExpiration");return s?a&&parseInt(a)<Date.now()?(At.logout(),!1):!0:!1},getUser:()=>{const s=localStorage.getItem("user");return s?JSON.parse(s):null},getToken:()=>localStorage.getItem("token"),updateProfile:async s=>{var a;try{const l=await Xa.put("/profile",s);return l.data.success&&localStorage.setItem("user",JSON.stringify(l.data.data.user)),l.data}catch(l){throw((a=l.response)==null?void 0:a.data)||l}},checkLoginStatus:async()=>{if(console.log("AuthService: checkLoginStatus called"),!localStorage.getItem("token"))return console.log("AuthService: No token found in localStorage"),null;try{console.log("AuthService: Token found, validating with server");const a=await Xa.get("/me");return a.data.success&&a.data.data.user?(console.log("AuthService: Token is valid, user authenticated:",a.data.data.user.username),a.data.data.user):(console.log("AuthService: Token validation failed:",a),localStorage.removeItem("token"),null)}catch(a){return console.error("AuthService: Error checking login status:",a),localStorage.removeItem("token"),null}},refreshToken:async()=>{try{console.log("Attempting to refresh auth token");const s=await Xa.post("/refresh-token");if(s.data.success){console.log("Token refreshed successfully"),localStorage.setItem("token",s.data.data.token);const a=Date.now()+30*24*60*60*1e3;return localStorage.setItem("tokenExpiration",a.toString()),!0}return console.warn("Token refresh failed: Server did not return success"),!1}catch(s){return console.error("Token refresh error:",s),!1}}};var ru={exports:{}},cu,ym;function Q5(){if(ym)return cu;ym=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cu=s,cu}var uu,vm;function P5(){if(vm)return uu;vm=1;var s=Q5();function a(){}function l(){}return l.resetWarningCache=a,uu=function(){function o(d,p,m,y,E,S){if(S!==s){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}o.isRequired=o;function c(){return o}var f={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:c,element:o,elementType:o,instanceOf:c,node:o,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:l,resetWarningCache:a};return f.PropTypes=f,f},uu}var Sm;function K5(){return Sm||(Sm=1,ru.exports=P5()()),ru.exports}var J5=K5();const P=Ou(J5);var Rg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bm=Fn.createContext&&Fn.createContext(Rg),W5=["attr","size","title"];function I5(s,a){if(s==null)return{};var l=eS(s,a),o,c;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(s);for(c=0;c<f.length;c++)o=f[c],!(a.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(s,o)&&(l[o]=s[o])}return l}function eS(s,a){if(s==null)return{};var l={};for(var o in s)if(Object.prototype.hasOwnProperty.call(s,o)){if(a.indexOf(o)>=0)continue;l[o]=s[o]}return l}function No(){return No=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(s[o]=l[o])}return s},No.apply(this,arguments)}function Em(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);a&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,o)}return l}function _o(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Em(Object(l),!0).forEach(function(o){tS(s,o,l[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Em(Object(l)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(l,o))})}return s}function tS(s,a,l){return a=nS(a),a in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function nS(s){var a=aS(s,"string");return typeof a=="symbol"?a:a+""}function aS(s,a){if(typeof s!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var o=l.call(s,a);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function kg(s){return s&&s.map((a,l)=>Fn.createElement(a.tag,_o({key:l},a.attr),kg(a.child)))}function Je(s){return a=>Fn.createElement(sS,No({attr:_o({},s.attr)},a),kg(s.child))}function sS(s){var a=l=>{var{attr:o,size:c,title:f}=s,d=I5(s,W5),p=c||l.size||"1em",m;return l.className&&(m=l.className),s.className&&(m=(m?m+" ":"")+s.className),Fn.createElement("svg",No({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},l.attr,o,d,{className:m,style:_o(_o({color:s.color||l.color},l.style),s.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),f&&Fn.createElement("title",null,f),s.children)};return bm!==void 0?Fn.createElement(bm.Consumer,null,l=>a(l)):a(Rg)}function iS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 1c3.681 0 7 2.565 7 6v4.539c0 .642.189 1.269.545 1.803l2.2 3.298A1.517 1.517 0 0 1 20.482 19H15.5a3.5 3.5 0 1 1-7 0H3.519a1.518 1.518 0 0 1-1.265-2.359l2.2-3.299A3.25 3.25 0 0 0 5 11.539V7c0-3.435 3.318-6 7-6ZM6.5 7v4.539a4.75 4.75 0 0 1-.797 2.635l-2.2 3.298-.003.01.001.007.004.006.006.004.007.001h16.964l.007-.001.006-.004.004-.006.001-.006a.017.017 0 0 0-.003-.01l-2.199-3.299a4.753 4.753 0 0 1-.798-2.635V7c0-2.364-2.383-4.5-5.5-4.5S6.5 4.636 6.5 7ZM14 19h-4a2 2 0 1 0 4 0Z"},child:[]}]})(s)}function lS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.22 1.22a.75.75 0 0 1 1.06 0l20.5 20.5a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L17.94 19H15.5a3.5 3.5 0 1 1-7 0H3.518a1.516 1.516 0 0 1-1.263-2.36l2.2-3.298A3.249 3.249 0 0 0 5 11.539V7c0-.294.025-.583.073-.866L1.22 2.28a.75.75 0 0 1 0-1.06ZM6.5 7.56h-.001v3.979a4.75 4.75 0 0 1-.797 2.635l-2.2 3.298-.003.01.001.007.004.006.006.004.007.001H16.44ZM10 19a2 2 0 1 0 4 0Zm2-16.5c-1.463 0-2.8.485-3.788 1.257l-.04.032a.75.75 0 1 1-.935-1.173l.05-.04C8.548 1.59 10.212 1 12 1c3.681 0 7 2.565 7 6v4.539c0 .642.19 1.269.546 1.803l1.328 1.992a.75.75 0 1 1-1.248.832l-1.328-1.992a4.75 4.75 0 0 1-.798-2.635V7c0-2.364-2.383-4.5-5.5-4.5Z"},child:[]}]})(s)}function oS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.03 5.72a.75.75 0 0 1 0 1.06l-11.5 11.5a.747.747 0 0 1-1.072-.012l-5.5-5.75a.75.75 0 1 1 1.084-1.036l4.97 5.195L19.97 5.72a.75.75 0 0 1 1.06 0Z"},child:[]}]})(s)}function rS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15.28 5.22a.75.75 0 0 1 0 1.06L9.56 12l5.72 5.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-6.25-6.25a.75.75 0 0 1 0-1.06l6.25-6.25a.75.75 0 0 1 1.06 0Z"},child:[]}]})(s)}function fu(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3.103 10.107c0-4.244 3.445-7.607 7.733-7.607 3.19 0 5.912 1.858 7.099 4.563l.01.022.001.006C21.348 7.345 24 10.095 24 13.536 24 17.148 21.076 20 17.431 20H5.017C2.23 20 0 17.83 0 15.06a4.899 4.899 0 0 1 3.112-4.581 7.696 7.696 0 0 1-.009-.372ZM10.836 4c-3.485 0-6.233 2.717-6.233 6.107 0 .284.022.602.052.756a.75.75 0 0 1-.552.869c-1.52.385-2.603 1.712-2.603 3.328 0 1.917 1.532 3.44 3.517 3.44h12.414c2.843 0 5.069-2.206 5.069-4.964 0-2.759-2.226-4.965-5.069-4.965a.75.75 0 0 1-.696-.47l-.179-.446C15.606 5.5 13.424 4 10.836 4Z"},child:[]}]})(s)}function cS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m2.78 2.22 19.5 19.5a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-2.845-2.845a6.932 6.932 0 0 1-.944.065H5.017C2.229 20 0 17.831 0 15.059a4.899 4.899 0 0 1 3.111-4.58A7.52 7.52 0 0 1 4.36 5.922L1.72 3.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018ZM16.94 18.5 5.448 7.01a6.026 6.026 0 0 0-.794 3.853.75.75 0 0 1-.552.869c-1.52.385-2.603 1.712-2.603 3.328 0 1.917 1.532 3.44 3.517 3.44Zm-6.104-16a7.865 7.865 0 0 0-3.638.88.75.75 0 1 0 .692 1.331A6.365 6.365 0 0 1 10.836 4c2.588 0 4.77 1.5 5.72 3.655l.179.445a.75.75 0 0 0 .696.471c2.843 0 5.069 2.206 5.069 4.965a4.9 4.9 0 0 1-1.684 3.716.75.75 0 0 0 .986 1.13A6.396 6.396 0 0 0 24 13.536c0-3.44-2.652-6.191-6.054-6.445l-.002-.006a.634.634 0 0 0-.01-.022C16.749 4.358 14.026 2.5 10.837 2.5Z"},child:[]}]})(s)}function uS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.5 4.25c0-.966.784-1.75 1.75-1.75h17.5c.966 0 1.75.784 1.75 1.75v12.5a1.75 1.75 0 0 1-1.75 1.75h-9.69l-3.573 3.573A1.458 1.458 0 0 1 5 21.043V18.5H3.25a1.75 1.75 0 0 1-1.75-1.75ZM3.25 4a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h2.5a.75.75 0 0 1 .75.75v3.19l3.72-3.72a.749.749 0 0 1 .53-.22h10a.25.25 0 0 0 .25-.25V4.25a.25.25 0 0 0-.25-.25Z"},child:[]}]})(s)}function Og(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 5.25v13a.75.75 0 0 1-1.136.643L16.5 15.075v2.175A1.75 1.75 0 0 1 14.75 19h-13A1.75 1.75 0 0 1 0 17.25v-11C0 5.284.784 4.5 1.75 4.5h13c.966 0 1.75.784 1.75 1.75v2.175l6.364-3.818A.75.75 0 0 1 24 5.25Zm-9 1a.25.25 0 0 0-.25-.25h-13a.25.25 0 0 0-.25.25v11c0 .138.112.25.25.25h13a.25.25 0 0 0 .25-.25v-11Zm1.5 7.075 6 3.6V6.575l-6 3.6Z"},child:[]}]})(s)}function fS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m12 20.703.343.667a.748.748 0 0 1-.686 0l-.003-.002-.007-.003-.025-.013a31.138 31.138 0 0 1-5.233-3.576C3.8 15.573 1 12.332 1 8.514v-.001C1 5.053 3.829 2.5 6.736 2.5 9.03 2.5 10.881 3.726 12 5.605 13.12 3.726 14.97 2.5 17.264 2.5 20.17 2.5 23 5.052 23 8.514c0 3.818-2.801 7.06-5.389 9.262a31.148 31.148 0 0 1-5.233 3.576l-.025.013-.007.003-.002.001ZM6.736 4C4.657 4 2.5 5.88 2.5 8.514c0 3.107 2.324 5.96 4.861 8.12a29.655 29.655 0 0 0 4.566 3.175l.073.041.073-.04c.271-.153.661-.38 1.13-.674.94-.588 2.19-1.441 3.436-2.502 2.537-2.16 4.861-5.013 4.861-8.12C21.5 5.88 19.343 4 17.264 4c-2.106 0-3.801 1.389-4.553 3.643a.751.751 0 0 1-1.422 0C10.537 5.389 8.841 4 6.736 4Z"},child:[]}]})(s)}function wo(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14 20.408c-.492.308-.903.546-1.192.709-.153.086-.308.17-.463.252h-.002a.75.75 0 0 1-.686 0 16.709 16.709 0 0 1-.465-.252 31.147 31.147 0 0 1-4.803-3.34C3.8 15.572 1 12.331 1 8.513 1 5.052 3.829 2.5 6.736 2.5 9.03 2.5 10.881 3.726 12 5.605 13.12 3.726 14.97 2.5 17.264 2.5 20.17 2.5 23 5.052 23 8.514c0 3.818-2.801 7.06-5.389 9.262A31.146 31.146 0 0 1 14 20.408Z"},child:[]}]})(s)}function dS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.03 2.59a1.501 1.501 0 0 1 1.94 0l7.5 6.363a1.5 1.5 0 0 1 .53 1.144V19.5a1.5 1.5 0 0 1-1.5 1.5h-5.75a.75.75 0 0 1-.75-.75V14h-2v6.25a.75.75 0 0 1-.75.75H4.5A1.5 1.5 0 0 1 3 19.5v-9.403c0-.44.194-.859.53-1.144ZM12 3.734l-7.5 6.363V19.5h5v-6.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v6.25h5v-9.403Z"},child:[]}]})(s)}function hS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 14a2 2 0 1 1-.001-3.999A2 2 0 0 1 20 14ZM6 12a2 2 0 1 1-3.999.001A2 2 0 0 1 6 12Zm8 0a2 2 0 1 1-3.999.001A2 2 0 0 1 14 12Z"},child:[]}]})(s)}function Ja(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 13.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"},child:[]},{tag:"path",attr:{d:"M19.071 3.429h.001c3.905 3.905 3.905 10.237 0 14.142l-5.403 5.403a2.36 2.36 0 0 1-3.336 0l-5.375-5.375-.028-.028c-3.905-3.905-3.905-10.237 0-14.142 3.904-3.905 10.236-3.905 14.141 0ZM5.99 4.489v.001a8.5 8.5 0 0 0 0 12.02l.023.024.002.002 5.378 5.378a.859.859 0 0 0 1.214 0l5.403-5.404a8.5 8.5 0 0 0-.043-11.977A8.5 8.5 0 0 0 5.99 4.489Z"},child:[]}]})(s)}function mS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.768 3.96v.001l-.002-.005a9.08 9.08 0 0 0-.218-.779c-.13-.394.21-.8.602-.67.29.096.575.205.855.328l.01.005A10.002 10.002 0 0 1 12 22a10.002 10.002 0 0 1-9.162-5.985l-.004-.01a9.722 9.722 0 0 1-.329-.855c-.13-.392.277-.732.67-.602.257.084.517.157.78.218l.004.002A9 9 0 0 0 14.999 6a9.09 9.09 0 0 0-.231-2.04ZM16.5 6c0 5.799-4.701 10.5-10.5 10.5-.426 0-.847-.026-1.26-.075A8.5 8.5 0 1 0 16.425 4.74c.05.413.075.833.075 1.259Z"},child:[]}]})(s)}function gS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.513 1.96a1.374 1.374 0 0 1 1.499-.21l19.335 9.215a1.147 1.147 0 0 1 0 2.07L3.012 22.25a1.374 1.374 0 0 1-1.947-1.46L2.49 12 1.065 3.21a1.375 1.375 0 0 1 .448-1.25Zm2.375 10.79-1.304 8.042L21.031 12 2.584 3.208l1.304 8.042h7.362a.75.75 0 0 1 0 1.5Z"},child:[]}]})(s)}function pS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2.5a5.5 5.5 0 0 1 3.096 10.047 9.005 9.005 0 0 1 5.9 8.181.75.75 0 1 1-1.499.044 7.5 7.5 0 0 0-14.993 0 .75.75 0 0 1-1.5-.045 9.005 9.005 0 0 1 5.9-8.18A5.5 5.5 0 0 1 12 2.5ZM8 8a4 4 0 1 0 8 0 4 4 0 0 0-8 0Z"},child:[]}]})(s)}function yS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 3.25c0-.966.784-1.75 1.75-1.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.25.25 0 0 0-.25.25v17.5c0 .138.112.25.25.25h5.5a.75.75 0 0 1 0 1.5h-5.5A1.75 1.75 0 0 1 3 20.75Zm16.006 9.5H10.75a.75.75 0 0 1 0-1.5h8.256l-3.3-3.484a.75.75 0 0 1 1.088-1.032l4.5 4.75a.75.75 0 0 1 0 1.032l-4.5 4.75a.75.75 0 0 1-1.088-1.032Z"},child:[]}]})(s)}function vS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.063 1.456a1.749 1.749 0 0 1 1.874 0l8.383 5.316a1.751 1.751 0 0 1 0 2.956l-8.383 5.316a1.749 1.749 0 0 1-1.874 0L2.68 9.728a1.751 1.751 0 0 1 0-2.956Zm1.071 1.267a.25.25 0 0 0-.268 0L3.483 8.039a.25.25 0 0 0 0 .422l8.383 5.316a.25.25 0 0 0 .268 0l8.383-5.316a.25.25 0 0 0 0-.422Z"},child:[]},{tag:"path",attr:{d:"M1.867 12.324a.75.75 0 0 1 1.035-.232l8.964 5.685a.25.25 0 0 0 .268 0l8.964-5.685a.75.75 0 0 1 .804 1.267l-8.965 5.685a1.749 1.749 0 0 1-1.874 0l-8.965-5.685a.75.75 0 0 1-.231-1.035Z"},child:[]},{tag:"path",attr:{d:"M1.867 16.324a.75.75 0 0 1 1.035-.232l8.964 5.685a.25.25 0 0 0 .268 0l8.964-5.685a.75.75 0 0 1 .804 1.267l-8.965 5.685a1.749 1.749 0 0 1-1.874 0l-8.965-5.685a.75.75 0 0 1-.231-1.035Z"},child:[]}]})(s)}function SS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 19a7 7 0 1 1 0-14 7 7 0 0 1 0 14Zm0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 1 0 0 11Zm-5.657.157a.75.75 0 0 1 0 1.06l-1.768 1.768a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.767-1.768a.75.75 0 0 1 1.061 0ZM3.515 3.515a.75.75 0 0 1 1.06 0l1.768 1.768a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L3.515 4.575a.75.75 0 0 1 0-1.06ZM12 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 12 0ZM4 12a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 12Zm8 8a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 12 20Zm12-8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 24 12Zm-6.343 5.657a.75.75 0 0 1 1.06 0l1.768 1.768a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-1.768-1.767a.75.75 0 0 1 0-1.061Zm2.828-14.142a.75.75 0 0 1 0 1.06l-1.768 1.768a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l1.767-1.768a.75.75 0 0 1 1.061 0Z"},child:[]}]})(s)}function bS(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3.38 8A9.502 9.502 0 0 1 12 2.5a9.502 9.502 0 0 1 9.215 7.182.75.75 0 1 0 1.456-.364C21.473 4.539 17.15 1 12 1a10.995 10.995 0 0 0-9.5 5.452V4.75a.75.75 0 0 0-1.5 0V8.5a1 1 0 0 0 1 1h3.75a.75.75 0 0 0 0-1.5H3.38Zm-.595 6.318a.75.75 0 0 0-1.455.364C2.527 19.461 6.85 23 12 23c4.052 0 7.592-2.191 9.5-5.451v1.701a.75.75 0 0 0 1.5 0V15.5a1 1 0 0 0-1-1h-3.75a.75.75 0 0 0 0 1.5h2.37A9.502 9.502 0 0 1 12 21.5c-4.446 0-8.181-3.055-9.215-7.182Z"},child:[]}]})(s)}function jg(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 1.75V3h5.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H8V1.75C8 .784 8.784 0 9.75 0h4.5C15.216 0 16 .784 16 1.75Zm-6.5 0V3h5V1.75a.25.25 0 0 0-.25-.25h-4.5a.25.25 0 0 0-.25.25ZM4.997 6.178a.75.75 0 1 0-1.493.144L4.916 20.92a1.75 1.75 0 0 0 1.742 1.58h10.684a1.75 1.75 0 0 0 1.742-1.581l1.413-14.597a.75.75 0 0 0-1.494-.144l-1.412 14.596a.25.25 0 0 1-.249.226H6.658a.25.25 0 0 1-.249-.226L4.997 6.178Z"},child:[]},{tag:"path",attr:{d:"M9.206 7.501a.75.75 0 0 1 .793.705l.5 8.5A.75.75 0 1 1 9 16.794l-.5-8.5a.75.75 0 0 1 .705-.793Zm6.293.793A.75.75 0 1 0 14 8.206l-.5 8.5a.75.75 0 0 0 1.498.088l.5-8.5Z"},child:[]}]})(s)}function Dg(s){return Je({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.72 5.72a.75.75 0 0 1 1.06 0L12 10.94l5.22-5.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L13.06 12l5.22 5.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L12 13.06l-5.22 5.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L10.94 12 5.72 6.78a.75.75 0 0 1 0-1.06Z"},child:[]}]})(s)}const Ug=({notifications:s=[],onClearNotifications:a,isDarkMode:l})=>{const[o,c]=b.useState(!1),[f,d]=b.useState(0),p=b.useRef(null),m=Vs();b.useEffect(()=>{d(s.filter(w=>!w.read).length)},[s]),b.useEffect(()=>{const w=O=>{p.current&&!p.current.contains(O.target)&&c(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]);const y=()=>{c(!o);const w=document.querySelector(".notification-bell");if(w){const O=w.querySelector(".ripple");O&&O.remove();const C=document.createElement("span");C.classList.add("ripple"),w.appendChild(C);const M=w.getBoundingClientRect(),A=Math.max(M.width,M.height);C.style.width=C.style.height=`${A}px`,C.style.left=`${M.width/2-A/2}px`,C.style.top=`${M.height/2-A/2}px`,setTimeout(()=>{C&&C.parentNode&&C.remove()},600)}},E=w=>new Date(w).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),S=w=>{m(`/profile/${w.sender}`),c(!1)};return h.jsxs("div",{className:`notification-bell-container ${l?"dark-mode":""}`,ref:p,children:[h.jsxs("div",{className:"notification-bell",onClick:y,children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[h.jsx("path",{fill:"none",d:"M0 0h24v24H0z"}),h.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"})]}),f>0&&h.jsx("span",{className:"notification-badge",children:f})]}),o&&h.jsxs("div",{className:`notification-dropdown ${l?"dark-mode":""}`,children:[h.jsxs("div",{className:"notification-header",children:[h.jsx("h3",{children:"Notifications"}),s.length>0&&h.jsx("button",{className:"clear-btn",onClick:w=>{w.stopPropagation(),a()},children:"Clear all"})]}),h.jsx("div",{className:"notification-content",children:s.length===0?h.jsx("div",{className:"no-notifications",children:h.jsx("p",{children:"No notifications"})}):h.jsx("ul",{className:"notification-list",children:s.map(w=>h.jsxs("li",{className:`notification-item ${w.read?"read":"unread"}`,onClick:()=>S(w),children:[h.jsxs("div",{className:"notification-info",children:[h.jsx("span",{className:"notification-user",children:w.sender}),h.jsx("span",{className:"notification-time",children:E(w.timestamp)})]}),h.jsx("p",{className:"notification-text",children:w.preview})]},w.id))})})]})]})};Ug.propTypes={notifications:P.arrayOf(P.shape({id:P.number.isRequired,sender:P.string.isRequired,preview:P.string.isRequired,timestamp:P.oneOfType([P.string,P.instanceOf(Date)]).isRequired,read:P.bool.isRequired})),onClearNotifications:P.func.isRequired,isDarkMode:P.bool};const zg=({onLogout:s,isDarkMode:a,toggleDarkMode:l,notifications:o,onClearNotifications:c})=>{const f=Vs(),d=es(),p=d.pathname!=="/",m=()=>d.pathname.startsWith("/profile")?"Profile":"Gringo",y=()=>{document.getElementById("dropdown-menu").classList.toggle("show")},E=()=>{const w=document.getElementById("dropdown-menu");w!=null&&w.classList.contains("show")&&w.classList.remove("show")};b.useEffect(()=>{const w=O=>{const C=document.querySelector(".menu-container");C&&!C.contains(O.target)&&E()};return document.addEventListener("click",w),()=>{document.removeEventListener("click",w)}},[]);const S=w=>{E(),w==="profile"?f("/profile"):w==="logout"?s():w==="toggleDarkMode"&&l()};return h.jsxs("header",{className:"app-header",children:[p&&h.jsx("button",{className:"back-button",onClick:()=>f(-1),children:h.jsx(rS,{})}),h.jsx("h1",{children:m()}),h.jsxs("div",{className:"header-actions",children:[o&&h.jsx(Ug,{notifications:o,onClearNotifications:c,isDarkMode:a}),h.jsxs("div",{className:"menu-container",children:[h.jsx("button",{className:"menu-button",onClick:w=>{w.stopPropagation(),y()},children:h.jsx(hS,{className:"menu-dots"})}),h.jsxs("div",{id:"dropdown-menu",className:"dropdown-menu",children:[h.jsxs("button",{onClick:()=>S("profile"),className:"dropdown-item",children:[h.jsx("span",{className:"dropdown-icon",children:h.jsx(pS,{})})," Profile"]}),h.jsxs("button",{onClick:()=>S("logout"),className:"dropdown-item",children:[h.jsx("span",{className:"dropdown-icon",children:h.jsx(yS,{})})," Logout"]})]})]})]})]})};zg.propTypes={onLogout:P.func.isRequired,isDarkMode:P.bool.isRequired,toggleDarkMode:P.func.isRequired,notifications:P.array,onClearNotifications:P.func};const ES="modulepreload",wS=function(s){return"/"+s},wm={},Lg=function(a,l,o){let c=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));c=Promise.allSettled(l.map(m=>{if(m=wS(m),m in wm)return;wm[m]=!0;const y=m.endsWith(".css"),E=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${E}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":ES,y||(S.as="script"),S.crossOrigin="",S.href=m,p&&S.setAttribute("nonce",p),document.head.appendChild(S),y)return new Promise((w,O)=>{S.addEventListener("load",w),S.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${m}`)))})}))}function f(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return c.then(d=>{for(const p of d||[])p.status==="rejected"&&f(p.reason);return a().catch(f)})},xS=b.createContext(null);function CS(s){const a=s.clone();return a.pixelsToGLUnits=s.pixelsToGLUnits,a}function xm(s){return{longitude:s.center.lng,latitude:s.center.lat,zoom:s.zoom,pitch:s.pitch,bearing:s.bearing,padding:s.padding}}function Cm(s,a){const l=a.viewState||a;let o=!1;if("longitude"in l&&"latitude"in l){const c=s.center;s.center=new c.constructor(l.longitude,l.latitude),o=o||c!==s.center}if("zoom"in l){const c=s.zoom;s.zoom=l.zoom,o=o||c!==s.zoom}if("bearing"in l){const c=s.bearing;s.bearing=l.bearing,o=o||c!==s.bearing}if("pitch"in l){const c=s.pitch;s.pitch=l.pitch,o=o||c!==s.pitch}return l.padding&&!s.isPaddingEqual(l.padding)&&(o=!0,s.padding=l.padding),o}const MS=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Mm(s){if(!s)return null;if(typeof s=="string"||("toJS"in s&&(s=s.toJS()),!s.layers))return s;const a={};for(const o of s.layers)a[o.id]=o;const l=s.layers.map(o=>{const c=a[o.ref];let f=null;if("interactive"in o&&(f={...o},delete f.interactive),c){f=f||{...o},delete f.ref;for(const d of MS)d in c&&(f[d]=c[d])}return f||o});return{...s,layers:l}}function TS(s,a){const l=Array.isArray(s)?s[0]:s?s.x:0,o=Array.isArray(s)?s[1]:s?s.y:0,c=Array.isArray(a)?a[0]:a?a.x:0,f=Array.isArray(a)?a[1]:a?a.y:0;return l===c&&o===f}function ya(s,a){if(s===a)return!0;if(!s||!a)return!1;if(Array.isArray(s)){if(!Array.isArray(a)||s.length!==a.length)return!1;for(let l=0;l<s.length;l++)if(!ya(s[l],a[l]))return!1;return!0}else if(Array.isArray(a))return!1;if(typeof s=="object"&&typeof a=="object"){const l=Object.keys(s),o=Object.keys(a);if(l.length!==o.length)return!1;for(const c of l)if(!a.hasOwnProperty(c)||!ya(s[c],a[c]))return!1;return!0}return!1}var Tm={};const Am={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},du={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},Nm={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},AS=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],NS=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class Hs{constructor(a,l,o){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=c=>{const f=this.props[Nm[c.type]];f&&f(c)},this._onPointerEvent=c=>{(c.type==="mousemove"||c.type==="mouseout")&&this._updateHover(c);const f=this.props[Am[c.type]];f&&(this.props.interactiveLayerIds&&c.type!=="mouseover"&&c.type!=="mouseout"&&(c.features=this._hoveredFeatures||this._queryRenderedFeatures(c.point)),f(c),delete c.features)},this._onCameraEvent=c=>{if(!this._internalUpdate){const f=this.props[du[c.type]];f&&f(c)}c.type in this._deferredEvents&&(this._deferredEvents[c.type]=!1)},this._MapClass=a,this.props=l,this._initialize(o)}get map(){return this._map}get transform(){return this._renderTransform}setProps(a){const l=this.props;this.props=a;const o=this._updateSettings(a,l);o&&this._createShadowTransform(this._map);const c=this._updateSize(a),f=this._updateViewState(a,!0);this._updateStyle(a,l),this._updateStyleComponents(a,l),this._updateHandlers(a,l),(o||c||f&&!this._map.isMoving())&&this.redraw()}static reuse(a,l){const o=Hs.savedMaps.pop();if(!o)return null;const c=o.map,f=c.getContainer();for(l.className=f.className;f.childNodes.length>0;)l.appendChild(f.childNodes[0]);c._container=l;const d=c._resizeObserver;d&&(d.disconnect(),d.observe(l)),o.setProps({...a,styleDiffing:!1}),c.resize();const{initialViewState:p}=a;return p&&(p.bounds?c.fitBounds(p.bounds,{...p.fitBoundsOptions,duration:0}):o._updateViewState(p,!1)),c.isStyleLoaded()?c.fire("load"):c.once("styledata",()=>c.fire("load")),c._update(),o}_initialize(a){const{props:l}=this,o={...l,...l.initialViewState,accessToken:l.mapboxAccessToken||_S()||null,container:a,style:Mm(l.mapStyle)},c=o.initialViewState||o.viewState||o;if(Object.assign(o,{center:[c.longitude||0,c.latitude||0],zoom:c.zoom||0,pitch:c.pitch||0,bearing:c.bearing||0}),l.gl){const y=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=y,l.gl)}const f=new this._MapClass(o);c.padding&&f.setPadding(c.padding),l.cursor&&(f.getCanvas().style.cursor=l.cursor),this._createShadowTransform(f);const d=f._render;f._render=y=>{this._inRender=!0,d.call(f,y),this._inRender=!1};const p=f._renderTaskQueue.run;f._renderTaskQueue.run=y=>{p.call(f._renderTaskQueue,y),this._onBeforeRepaint()},f.on("render",()=>this._onAfterRepaint());const m=f.fire;f.fire=this._fireEvent.bind(this,m),f.on("resize",()=>{this._renderTransform.resize(f.transform.width,f.transform.height)}),f.on("styledata",()=>this._updateStyleComponents(this.props,{})),f.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const y in Am)f.on(y,this._onPointerEvent);for(const y in du)f.on(y,this._onCameraEvent);for(const y in Nm)f.on(y,this._onEvent);this._map=f}recycle(){const l=this.map.getContainer().querySelector("[mapboxgl-children]");l==null||l.remove(),Hs.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const a=this._map;!this._inRender&&a.style&&(a._frame&&(a._frame.cancel(),a._frame=null),a._render())}_createShadowTransform(a){const l=CS(a.transform);a.painter.transform=l,this._renderTransform=l}_updateSize(a){const{viewState:l}=a;if(l){const o=this._map;if(l.width!==o.transform.width||l.height!==o.transform.height)return o.resize(),!0}return!1}_updateViewState(a,l){if(this._internalUpdate)return!1;const o=this._map,c=this._renderTransform,{zoom:f,pitch:d,bearing:p}=c,m=o.isMoving();m&&(c.cameraElevationReference="sea");const y=Cm(c,{...xm(o.transform),...a});if(m&&(c.cameraElevationReference="ground"),y&&l){const E=this._deferredEvents;E.move=!0,E.zoom||(E.zoom=f!==c.zoom),E.rotate||(E.rotate=p!==c.bearing),E.pitch||(E.pitch=d!==c.pitch)}return m||Cm(o.transform,a),y}_updateSettings(a,l){const o=this._map;let c=!1;for(const f of AS)f in a&&!ya(a[f],l[f])&&(c=!0,o[`set${f[0].toUpperCase()}${f.slice(1)}`](a[f]));return c}_updateStyle(a,l){if(a.cursor!==l.cursor&&(this._map.getCanvas().style.cursor=a.cursor),a.mapStyle!==l.mapStyle){const o={diff:a.styleDiffing};return"localIdeographFontFamily"in a&&(o.localIdeographFontFamily=a.localIdeographFontFamily),this._map.setStyle(Mm(a.mapStyle),o),!0}return!1}_updateStyleComponents(a,l){const o=this._map;let c=!1;return o.style.loaded()&&("light"in a&&!ya(a.light,l.light)&&(c=!0,o.setLight(a.light)),"fog"in a&&!ya(a.fog,l.fog)&&(c=!0,o.setFog(a.fog)),"terrain"in a&&!ya(a.terrain,l.terrain)&&(!a.terrain||o.getSource(a.terrain.source))&&(c=!0,o.setTerrain(a.terrain))),c}_updateHandlers(a,l){const o=this._map;let c=!1;for(const f of NS){const d=a[f];ya(d,l[f])||(c=!0,d?o[f].enable(d):o[f].disable())}return c}_queryRenderedFeatures(a){const l=this._map,{interactiveLayerIds:o=[]}=this.props;try{return l.queryRenderedFeatures(a,{layers:o.filter(l.getLayer.bind(l))})}catch{return[]}}_updateHover(a){var l;const{props:o}=this;if(o.interactiveLayerIds&&(o.onMouseMove||o.onMouseEnter||o.onMouseLeave)){const f=a.type,d=((l=this._hoveredFeatures)===null||l===void 0?void 0:l.length)>0,p=this._queryRenderedFeatures(a.point),m=p.length>0;!m&&d&&(a.type="mouseleave",this._onPointerEvent(a)),this._hoveredFeatures=p,m&&!d&&(a.type="mouseenter",this._onPointerEvent(a)),a.type=f}else this._hoveredFeatures=null}_fireEvent(a,l,o){const c=this._map,f=c.transform,d=typeof l=="string"?l:l.type;return d==="move"&&this._updateViewState(this.props,!1),d in du&&(typeof l=="object"&&(l.viewState=xm(f)),this._map.isMoving())?(c.transform=this._renderTransform,a.call(c,l,o),c.transform=f,c):(a.call(c,l,o),c)}_onBeforeRepaint(){const a=this._map;this._internalUpdate=!0;for(const o in this._deferredEvents)this._deferredEvents[o]&&a.fire(o);this._internalUpdate=!1;const l=this._map.transform;this._map.transform=this._renderTransform,this._onAfterRepaint=()=>{this._map.transform=l}}}Hs.savedMaps=[];function _S(){let s=null;if(typeof location<"u"){const a=/access_token=([^&\/]*)/.exec(location.search);s=a&&a[1]}try{s=s||Tm.MapboxAccessToken}catch{}try{s=s||Tm.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return s}const RS=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function kS(s,a){if(!s)return null;const l=s.map,o={getMap:()=>l,getCenter:()=>s.transform.center,getZoom:()=>s.transform.zoom,getBearing:()=>s.transform.bearing,getPitch:()=>s.transform.pitch,getPadding:()=>s.transform.padding,getBounds:()=>s.transform.getBounds(),project:c=>s.transform.locationPoint(a.LngLat.convert(c)),unproject:c=>s.transform.pointLocation(a.Point.convert(c)),queryTerrainElevation:(c,f)=>{const d=l.transform;l.transform=s.transform;const p=l.queryTerrainElevation(c,f);return l.transform=d,p}};for(const c of OS(l))!(c in o)&&!RS.includes(c)&&(o[c]=l[c].bind(l));return o}function OS(s){const a=new Set;let l=s;for(;l;){for(const o of Object.getOwnPropertyNames(l))o[0]!=="_"&&typeof s[o]=="function"&&o!=="fire"&&o!=="setEventedParent"&&a.add(o);l=Object.getPrototypeOf(l)}return Array.from(a)}const jS=typeof document<"u"?b.useLayoutEffect:b.useEffect,DS=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function US(s,a){for(const l of DS)l in a&&(s[l]=a[l]);a.RTLTextPlugin&&s.getRTLTextPluginStatus&&s.getRTLTextPluginStatus()==="unavailable"&&s.setRTLTextPlugin(a.RTLTextPlugin,l=>{l&&console.error(l)},!1)}const Yo=b.createContext(null),zS={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:s=>console.error(s.error),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"},Fu=b.forwardRef((s,a)=>{const l=b.useContext(xS),[o,c]=b.useState(null),f=b.useRef(),{current:d}=b.useRef({mapLib:null,map:null});b.useEffect(()=>{const y=s.mapLib;let E=!0,S;return Promise.resolve(y||Lg(()=>import("./mapbox-gl-B5BF3ZFf.js").then(w=>w.m),[])).then(w=>{if(E){if(w.Map||(w=w.default),!w||!w.Map)throw new Error("Invalid mapLib");if(US(w,s),!w.supported||w.supported(s))s.reuseMaps&&(S=Hs.reuse(s,f.current)),S||(S=new Hs(w.Map,s,f.current)),d.map=kS(S,w),d.mapLib=w,c(S),l==null||l.onMapMount(d.map,s.id);else throw new Error("Map is not supported by this browser")}}).catch(w=>{s.onError({type:"error",target:null,originalEvent:null,error:w})}),()=>{E=!1,S&&(l==null||l.onMapUnmount(s.id),s.reuseMaps?S.recycle():S.destroy())}},[]),jS(()=>{o&&o.setProps(s)}),b.useImperativeHandle(a,()=>d.map,[o]);const p=b.useMemo(()=>({position:"relative",width:"100%",height:"100%",...s.style}),[s.style]),m={height:"100%"};return b.createElement("div",{id:s.id,ref:f,style:p},o&&b.createElement(Yo.Provider,{value:d},b.createElement("div",{"mapboxgl-children":"",style:m},s.children)))});Fu.displayName="Map";Fu.defaultProps=zS;const LS=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function ts(s,a){if(!s||!a)return;const l=s.style;for(const o in a){const c=a[o];Number.isFinite(c)&&!LS.test(o)?l[o]=`${c}px`:l[o]=c}}const BS={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"};function Bg(s){const{map:a,mapLib:l}=b.useContext(Yo),o=b.useRef({props:s});o.current.props=s;const c=b.useMemo(()=>{let f=!1;b.Children.forEach(s.children,m=>{m&&(f=!0)});const d={...s,element:f?document.createElement("div"):null},p=new l.Marker(d).setLngLat([s.longitude,s.latitude]);return p.getElement().addEventListener("click",m=>{var y,E;(E=(y=o.current.props).onClick)===null||E===void 0||E.call(y,{type:"click",target:p,originalEvent:m})}),p.on("dragstart",m=>{var y,E;const S=m;S.lngLat=c.getLngLat(),(E=(y=o.current.props).onDragStart)===null||E===void 0||E.call(y,S)}),p.on("drag",m=>{var y,E;const S=m;S.lngLat=c.getLngLat(),(E=(y=o.current.props).onDrag)===null||E===void 0||E.call(y,S)}),p.on("dragend",m=>{var y,E;const S=m;S.lngLat=c.getLngLat(),(E=(y=o.current.props).onDragEnd)===null||E===void 0||E.call(y,S)}),p},[]);return b.useEffect(()=>(c.addTo(a.getMap()),()=>{c.remove()}),[]),b.useEffect(()=>{ts(c.getElement(),s.style)},[s.style]),(c.getLngLat().lng!==s.longitude||c.getLngLat().lat!==s.latitude)&&c.setLngLat([s.longitude,s.latitude]),s.offset&&!TS(c.getOffset(),s.offset)&&c.setOffset(s.offset),c.isDraggable()!==s.draggable&&c.setDraggable(s.draggable),c.getRotation()!==s.rotation&&c.setRotation(s.rotation),c.getRotationAlignment()!==s.rotationAlignment&&c.setRotationAlignment(s.rotationAlignment),c.getPitchAlignment()!==s.pitchAlignment&&c.setPitchAlignment(s.pitchAlignment),c.getPopup()!==s.popup&&c.setPopup(s.popup),Dm.createPortal(s.children,c.getElement())}Bg.defaultProps=BS;const qS=b.memo(Bg);function _m(s){return new Set(s?s.trim().split(/\s+/):[])}function HS(s){const{map:a,mapLib:l}=b.useContext(Yo),o=b.useMemo(()=>document.createElement("div"),[]),c=b.useRef({props:s});c.current.props=s;const f=b.useMemo(()=>{const d={...s},p=new l.Popup(d).setLngLat([s.longitude,s.latitude]);return p.once("open",m=>{var y,E;(E=(y=c.current.props).onOpen)===null||E===void 0||E.call(y,m)}),p},[]);if(b.useEffect(()=>{const d=p=>{var m,y;(y=(m=c.current.props).onClose)===null||y===void 0||y.call(m,p)};return f.on("close",d),f.setDOMContent(o).addTo(a.getMap()),()=>{f.off("close",d),f.isOpen()&&f.remove()}},[]),b.useEffect(()=>{ts(f.getElement(),s.style)},[s.style]),f.isOpen()&&((f.getLngLat().lng!==s.longitude||f.getLngLat().lat!==s.latitude)&&f.setLngLat([s.longitude,s.latitude]),s.offset&&!ya(f.options.offset,s.offset)&&f.setOffset(s.offset),(f.options.anchor!==s.anchor||f.options.maxWidth!==s.maxWidth)&&(f.options.anchor=s.anchor,f.setMaxWidth(s.maxWidth)),f.options.className!==s.className)){const d=_m(f.options.className),p=_m(s.className);for(const m of d)p.has(m)||f.removeClassName(m);for(const m of p)d.has(m)||f.addClassName(m);f.options.className=s.className}return Dm.createPortal(s.children,o)}const GS=b.memo(HS);function Wi(s,a,l,o){const c=b.useContext(Yo),f=b.useMemo(()=>s(c),[]);return b.useEffect(()=>{const d=a,p=null,m=typeof a=="function"?a:null,{map:y}=c;return y.hasControl(f)||(y.addControl(f,d==null?void 0:d.position),p&&p(c)),()=>{m&&m(c),y.hasControl(f)&&y.removeControl(f)}},[]),f}function YS(s){const a=Wi(({mapLib:l})=>new l.AttributionControl(s),{position:s.position});return b.useEffect(()=>{ts(a._container,s.style)},[s.style]),null}b.memo(YS);function VS(s){const a=Wi(({mapLib:l})=>new l.FullscreenControl({container:s.containerId&&document.getElementById(s.containerId)}),{position:s.position});return b.useEffect(()=>{ts(a._controlContainer,s.style)},[s.style]),null}b.memo(VS);const qg=b.forwardRef((s,a)=>{const l=b.useRef({props:s}),o=Wi(({mapLib:c})=>{const f=new c.GeolocateControl(s),d=f._setupUI;return f._setupUI=p=>{f._container.hasChildNodes()||d(p)},f.on("geolocate",p=>{var m,y;(y=(m=l.current.props).onGeolocate)===null||y===void 0||y.call(m,p)}),f.on("error",p=>{var m,y;(y=(m=l.current.props).onError)===null||y===void 0||y.call(m,p)}),f.on("outofmaxbounds",p=>{var m,y;(y=(m=l.current.props).onOutOfMaxBounds)===null||y===void 0||y.call(m,p)}),f.on("trackuserlocationstart",p=>{var m,y;(y=(m=l.current.props).onTrackUserLocationStart)===null||y===void 0||y.call(m,p)}),f.on("trackuserlocationend",p=>{var m,y;(y=(m=l.current.props).onTrackUserLocationEnd)===null||y===void 0||y.call(m,p)}),f},{position:s.position});return l.current.props=s,b.useImperativeHandle(a,()=>({trigger:()=>o.trigger()}),[]),b.useEffect(()=>{ts(o._container,s.style)},[s.style]),null});qg.displayName="GeolocateControl";b.memo(qg);function ZS(s){const a=Wi(({mapLib:l})=>new l.NavigationControl(s),{position:s.position});return b.useEffect(()=>{ts(a._container,s.style)},[s.style]),null}b.memo(ZS);const FS={unit:"metric",maxWidth:100};function Hg(s){const a=Wi(({mapLib:l})=>new l.ScaleControl(s),{position:s.position});return(a.options.unit!==s.unit||a.options.maxWidth!==s.maxWidth)&&(a.options.maxWidth=s.maxWidth,a.setUnit(s.unit)),b.useEffect(()=>{ts(a._container,s.style)},[s.style]),null}Hg.defaultProps=FS;b.memo(Hg);const Wa=({username:s,size:a,className:l,onClick:o,style:c})=>{const f=E=>{if(!E)return"?";const S=E.split(/[\s_.-]+/);return S.length===1?E.substring(0,2).toUpperCase():(S[0][0]+S[Math.min(S.length-1,1)][0]).toUpperCase()},d=E=>{if(!E)return"#6c757d";const S=E.split("").reduce((O,C)=>C.charCodeAt(0)+((O<<5)-O),0),w=["#2563EB","#059669","#DC2626","#D97706","#7C3AED","#DB2777","#4338CA","#059669","#0891B2","#EA580C"];return w[Math.abs(S)%w.length]},p=f(s),y={backgroundColor:d(s),width:a,height:a,fontSize:`${Math.max(parseInt(a)/2.5,12)}px`,...c};return h.jsx("div",{className:`avatar-placeholder ${l||""}`,style:y,title:s,onClick:o,children:p})};Wa.propTypes={username:P.string.isRequired,size:P.string,className:P.string,onClick:P.func,style:P.object};Wa.defaultProps={size:"40px",className:"",style:{}};function xo(s){return Je({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.89,17.6c0-0.99,0.31-1.88,0.93-2.65s1.41-1.27,2.38-1.49c0.26-1.17,0.85-2.14,1.78-2.88c0.93-0.75,2-1.12,3.22-1.12
	c1.18,0,2.24,0.36,3.16,1.09c0.93,0.73,1.53,1.66,1.8,2.8h0.27c1.18,0,2.18,0.41,3.01,1.24s1.25,1.83,1.25,3
	c0,1.18-0.42,2.18-1.25,3.01s-1.83,1.25-3.01,1.25H8.16c-0.58,0-1.13-0.11-1.65-0.34S5.52,21,5.14,20.62
	c-0.38-0.38-0.68-0.84-0.91-1.36S3.89,18.17,3.89,17.6z M5.34,17.6c0,0.76,0.28,1.42,0.82,1.96s1.21,0.82,1.99,0.82h9.28
	c0.77,0,1.44-0.27,1.99-0.82c0.55-0.55,0.83-1.2,0.83-1.96c0-0.76-0.27-1.42-0.83-1.96c-0.55-0.54-1.21-0.82-1.99-0.82h-1.39
	c-0.1,0-0.15-0.05-0.15-0.15l-0.07-0.49c-0.1-0.94-0.5-1.73-1.19-2.35s-1.51-0.93-2.45-0.93c-0.94,0-1.76,0.31-2.46,0.94
	c-0.7,0.62-1.09,1.41-1.18,2.34l-0.07,0.42c0,0.1-0.05,0.15-0.16,0.15l-0.45,0.07c-0.72,0.06-1.32,0.36-1.81,0.89
	C5.59,16.24,5.34,16.87,5.34,17.6z M14.19,8.88c-0.1,0.09-0.08,0.16,0.07,0.21c0.43,0.19,0.79,0.37,1.08,0.55
	c0.11,0.03,0.19,0.02,0.22-0.03c0.61-0.57,1.31-0.86,2.12-0.86c0.81,0,1.5,0.27,2.1,0.81c0.59,0.54,0.92,1.21,0.99,2l0.09,0.64h1.42
	c0.65,0,1.21,0.23,1.68,0.7c0.47,0.47,0.7,1.02,0.7,1.66c0,0.6-0.21,1.12-0.62,1.57s-0.92,0.7-1.53,0.77c-0.1,0-0.15,0.05-0.15,0.16
	v1.13c0,0.11,0.05,0.16,0.15,0.16c1.01-0.06,1.86-0.46,2.55-1.19s1.04-1.6,1.04-2.6c0-1.06-0.37-1.96-1.12-2.7
	c-0.75-0.75-1.65-1.12-2.7-1.12h-0.15c-0.26-1-0.81-1.82-1.65-2.47c-0.83-0.65-1.77-0.97-2.8-0.97C16.28,7.29,15.11,7.82,14.19,8.88
	z`},child:[]}]})(s)}function Gg(s){return Je({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.37,14.62c0-0.24,0.08-0.45,0.25-0.62c0.17-0.16,0.38-0.24,0.6-0.24h2.04c0.23,0,0.42,0.08,0.58,0.25
	c0.15,0.17,0.23,0.37,0.23,0.61S8,15.06,7.85,15.23c-0.15,0.17-0.35,0.25-0.58,0.25H5.23c-0.23,0-0.43-0.08-0.6-0.25
	C4.46,15.06,4.37,14.86,4.37,14.62z M7.23,21.55c0-0.23,0.08-0.43,0.23-0.61l1.47-1.43c0.15-0.16,0.35-0.23,0.59-0.23
	c0.24,0,0.44,0.08,0.6,0.23s0.24,0.34,0.24,0.57c0,0.24-0.08,0.46-0.24,0.64L8.7,22.14c-0.41,0.32-0.82,0.32-1.23,0
	C7.31,21.98,7.23,21.78,7.23,21.55z M7.23,7.71c0-0.23,0.08-0.43,0.23-0.61C7.66,6.93,7.87,6.85,8.1,6.85
	c0.22,0,0.42,0.08,0.59,0.24l1.43,1.47c0.16,0.15,0.24,0.35,0.24,0.59c0,0.24-0.08,0.44-0.24,0.6s-0.36,0.24-0.6,0.24
	c-0.24,0-0.44-0.08-0.59-0.24L7.47,8.32C7.31,8.16,7.23,7.95,7.23,7.71z M9.78,14.62c0-0.93,0.23-1.8,0.7-2.6s1.1-1.44,1.91-1.91
	s1.67-0.7,2.6-0.7c0.7,0,1.37,0.14,2.02,0.42c0.64,0.28,1.2,0.65,1.66,1.12c0.47,0.47,0.84,1.02,1.11,1.66
	c0.27,0.64,0.41,1.32,0.41,2.02c0,0.94-0.23,1.81-0.7,2.61c-0.47,0.8-1.1,1.43-1.9,1.9c-0.8,0.47-1.67,0.7-2.61,0.7
	s-1.81-0.23-2.61-0.7c-0.8-0.47-1.43-1.1-1.9-1.9C10.02,16.43,9.78,15.56,9.78,14.62z M11.48,14.62c0,0.98,0.34,1.81,1.03,2.5
	c0.68,0.69,1.51,1.04,2.49,1.04s1.81-0.35,2.5-1.04s1.04-1.52,1.04-2.5c0-0.96-0.35-1.78-1.04-2.47c-0.69-0.68-1.52-1.02-2.5-1.02
	c-0.97,0-1.8,0.34-2.48,1.02C11.82,12.84,11.48,13.66,11.48,14.62z M14.14,22.4c0-0.24,0.08-0.44,0.25-0.6s0.37-0.24,0.6-0.24
	c0.24,0,0.45,0.08,0.61,0.24s0.24,0.36,0.24,0.6v1.99c0,0.24-0.08,0.45-0.25,0.62c-0.17,0.17-0.37,0.25-0.6,0.25
	s-0.44-0.08-0.6-0.25c-0.17-0.17-0.25-0.38-0.25-0.62V22.4z M14.14,6.9V4.86c0-0.23,0.08-0.43,0.25-0.6C14.56,4.09,14.76,4,15,4
	s0.43,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6V6.9c0,0.23-0.08,0.42-0.25,0.58S15.23,7.71,15,7.71s-0.44-0.08-0.6-0.23
	S14.14,7.13,14.14,6.9z M19.66,20.08c0-0.23,0.08-0.42,0.23-0.56c0.15-0.16,0.34-0.23,0.56-0.23c0.24,0,0.44,0.08,0.6,0.23
	l1.46,1.43c0.16,0.17,0.24,0.38,0.24,0.61c0,0.23-0.08,0.43-0.24,0.59c-0.4,0.31-0.8,0.31-1.2,0l-1.42-1.42
	C19.74,20.55,19.66,20.34,19.66,20.08z M19.66,9.16c0-0.25,0.08-0.45,0.23-0.59l1.42-1.47c0.17-0.16,0.37-0.24,0.59-0.24
	c0.24,0,0.44,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6c0,0.25-0.08,0.46-0.24,0.62l-1.46,1.43c-0.18,0.16-0.38,0.24-0.6,0.24
	c-0.23,0-0.41-0.08-0.56-0.24S19.66,9.4,19.66,9.16z M21.92,14.62c0-0.24,0.08-0.44,0.24-0.62c0.16-0.16,0.35-0.24,0.57-0.24h2.02
	c0.23,0,0.43,0.09,0.6,0.26c0.17,0.17,0.26,0.37,0.26,0.6s-0.09,0.43-0.26,0.6c-0.17,0.17-0.37,0.25-0.6,0.25h-2.02
	c-0.23,0-0.43-0.08-0.58-0.25S21.92,14.86,21.92,14.62z`},child:[]}]})(s)}function Yg(s){return Je({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M2.62,21.05c0-0.24,0.08-0.45,0.25-0.61c0.17-0.16,0.38-0.24,0.63-0.24h18.67c0.25,0,0.45,0.08,0.61,0.24
	c0.16,0.16,0.24,0.36,0.24,0.61c0,0.23-0.08,0.43-0.25,0.58c-0.17,0.16-0.37,0.23-0.6,0.23H3.5c-0.25,0-0.46-0.08-0.63-0.23
	C2.7,21.47,2.62,21.28,2.62,21.05z M5.24,17.91c0-0.24,0.09-0.44,0.26-0.6c0.15-0.15,0.35-0.23,0.59-0.23h18.67
	c0.23,0,0.42,0.08,0.58,0.24c0.16,0.16,0.23,0.35,0.23,0.59c0,0.24-0.08,0.44-0.23,0.6c-0.16,0.17-0.35,0.25-0.58,0.25H6.09
	c-0.24,0-0.44-0.08-0.6-0.25C5.32,18.34,5.24,18.14,5.24,17.91z M5.37,15.52c0,0.09,0.05,0.13,0.15,0.13h1.43
	c0.06,0,0.13-0.05,0.2-0.16c0.24-0.52,0.59-0.94,1.06-1.27c0.47-0.33,0.99-0.52,1.55-0.56l0.55-0.07c0.11,0,0.17-0.06,0.17-0.18
	l0.07-0.5c0.11-1.08,0.56-1.98,1.37-2.7c0.81-0.72,1.76-1.08,2.85-1.08c1.08,0,2.02,0.36,2.83,1.07c0.8,0.71,1.26,1.61,1.37,2.68
	l0.08,0.57c0,0.11,0.07,0.17,0.2,0.17h1.59c0.64,0,1.23,0.17,1.76,0.52s0.92,0.8,1.18,1.37c0.07,0.11,0.14,0.16,0.21,0.16h1.43
	c0.12,0,0.17-0.07,0.14-0.23c-0.29-1.02-0.88-1.86-1.74-2.51c-0.87-0.65-1.86-0.97-2.97-0.97h-0.32c-0.33-1.33-1.03-2.42-2.1-3.27
	s-2.28-1.27-3.65-1.27c-1.4,0-2.64,0.44-3.73,1.32s-1.78,2-2.09,3.36c-0.85,0.2-1.6,0.6-2.24,1.21c-0.64,0.61-1.09,1.33-1.34,2.18
	v-0.04C5.37,15.45,5.37,15.48,5.37,15.52z M6.98,24.11c0-0.24,0.09-0.43,0.26-0.59c0.15-0.15,0.35-0.23,0.6-0.23h18.68
	c0.24,0,0.44,0.08,0.6,0.23c0.17,0.16,0.25,0.35,0.25,0.58c0,0.24-0.08,0.44-0.25,0.61c-0.17,0.17-0.37,0.25-0.6,0.25H7.84
	c-0.23,0-0.43-0.09-0.6-0.26C7.07,24.55,6.98,24.34,6.98,24.11z`},child:[]}]})(s)}function Vg(s){return Je({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.64,16.91c0-1.15,0.36-2.17,1.08-3.07c0.72-0.9,1.63-1.47,2.73-1.73c0.31-1.36,1.02-2.48,2.11-3.36s2.34-1.31,3.75-1.31
	c1.38,0,2.6,0.43,3.68,1.28c1.08,0.85,1.78,1.95,2.1,3.29h0.32c0.89,0,1.72,0.22,2.48,0.65s1.37,1.03,1.81,1.78
	c0.44,0.75,0.67,1.58,0.67,2.47c0,0.88-0.21,1.69-0.63,2.44c-0.42,0.75-1,1.35-1.73,1.8c-0.73,0.45-1.53,0.69-2.4,0.71
	c-0.13,0-0.2-0.06-0.2-0.17v-1.33c0-0.12,0.07-0.18,0.2-0.18c0.85-0.04,1.58-0.38,2.18-1.02s0.9-1.39,0.9-2.26s-0.33-1.62-0.98-2.26
	s-1.42-0.96-2.31-0.96h-1.61c-0.12,0-0.18-0.06-0.18-0.17l-0.08-0.58c-0.11-1.08-0.58-1.99-1.39-2.71
	c-0.82-0.73-1.76-1.09-2.85-1.09c-1.09,0-2.05,0.36-2.85,1.09c-0.81,0.73-1.26,1.63-1.36,2.71l-0.07,0.53c0,0.12-0.07,0.19-0.2,0.19
	l-0.53,0.03c-0.83,0.1-1.53,0.46-2.1,1.07s-0.85,1.33-0.85,2.16c0,0.87,0.3,1.62,0.9,2.26s1.33,0.98,2.18,1.02
	c0.11,0,0.17,0.06,0.17,0.18v1.33c0,0.11-0.06,0.17-0.17,0.17c-1.34-0.06-2.47-0.57-3.4-1.53S4.64,18.24,4.64,16.91z M9.99,23.6
	c0-0.04,0.01-0.11,0.04-0.2l1.63-5.77c0.06-0.19,0.17-0.34,0.32-0.44c0.15-0.1,0.31-0.15,0.46-0.15c0.07,0,0.15,0.01,0.24,0.03
	c0.24,0.04,0.42,0.17,0.54,0.37c0.12,0.2,0.15,0.42,0.08,0.67l-1.63,5.73c-0.12,0.43-0.4,0.64-0.82,0.64
	c-0.04,0-0.07-0.01-0.11-0.02c-0.06-0.02-0.09-0.03-0.1-0.03c-0.22-0.06-0.38-0.17-0.49-0.33C10.04,23.93,9.99,23.77,9.99,23.6z
	 M12.61,26.41l2.44-8.77c0.04-0.19,0.14-0.34,0.3-0.44c0.16-0.1,0.32-0.15,0.49-0.15c0.09,0,0.18,0.01,0.27,0.03
	c0.22,0.06,0.38,0.19,0.49,0.39c0.11,0.2,0.13,0.41,0.07,0.64l-2.43,8.78c-0.04,0.17-0.13,0.31-0.29,0.43
	c-0.16,0.12-0.32,0.18-0.51,0.18c-0.09,0-0.18-0.02-0.25-0.05c-0.2-0.05-0.37-0.18-0.52-0.39C12.56,26.88,12.54,26.67,12.61,26.41z
	 M16.74,23.62c0-0.04,0.01-0.11,0.04-0.23l1.63-5.77c0.06-0.19,0.16-0.34,0.3-0.44c0.15-0.1,0.3-0.15,0.46-0.15
	c0.08,0,0.17,0.01,0.26,0.03c0.21,0.06,0.36,0.16,0.46,0.31c0.1,0.15,0.15,0.31,0.15,0.47c0,0.03-0.01,0.08-0.02,0.14
	s-0.02,0.1-0.02,0.12l-1.63,5.73c-0.04,0.19-0.13,0.35-0.28,0.46s-0.32,0.17-0.51,0.17l-0.24-0.05c-0.2-0.06-0.35-0.16-0.46-0.32
	C16.79,23.94,16.74,23.78,16.74,23.62z`},child:[]}]})(s)}function Zg(s){return Je({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.64,16.95c0-1.16,0.35-2.18,1.06-3.08s1.62-1.48,2.74-1.76c0.31-1.36,1.01-2.48,2.1-3.36s2.34-1.31,3.75-1.31
	c1.38,0,2.6,0.43,3.68,1.28c1.08,0.85,1.78,1.95,2.1,3.29h0.32c0.89,0,1.72,0.22,2.48,0.66c0.76,0.44,1.37,1.04,1.81,1.8
	c0.44,0.76,0.67,1.59,0.67,2.48c0,1.32-0.46,2.47-1.39,3.42c-0.92,0.96-2.05,1.46-3.38,1.5c-0.13,0-0.2-0.06-0.2-0.17v-1.33
	c0-0.12,0.07-0.18,0.2-0.18c0.85-0.04,1.58-0.38,2.18-1.02s0.9-1.38,0.9-2.23c0-0.89-0.32-1.65-0.97-2.3s-1.42-0.97-2.32-0.97h-1.61
	c-0.12,0-0.18-0.06-0.18-0.17l-0.08-0.58c-0.11-1.08-0.58-1.99-1.39-2.72c-0.82-0.73-1.76-1.1-2.85-1.1c-1.1,0-2.05,0.37-2.86,1.11
	c-0.81,0.74-1.27,1.65-1.37,2.75l-0.06,0.5c0,0.12-0.07,0.19-0.2,0.19l-0.53,0.07c-0.83,0.07-1.53,0.41-2.1,1.04
	s-0.85,1.35-0.85,2.19c0,0.85,0.3,1.59,0.9,2.23s1.33,0.97,2.18,1.02c0.11,0,0.17,0.06,0.17,0.18v1.33c0,0.11-0.06,0.17-0.17,0.17
	c-1.34-0.04-2.47-0.54-3.4-1.5C5.1,19.42,4.64,18.27,4.64,16.95z M11,21.02c0-0.22,0.08-0.42,0.24-0.58
	c0.16-0.16,0.35-0.24,0.59-0.24c0.23,0,0.43,0.08,0.59,0.24c0.16,0.16,0.24,0.36,0.24,0.58c0,0.24-0.08,0.44-0.24,0.6
	c-0.16,0.17-0.35,0.25-0.59,0.25c-0.23,0-0.43-0.08-0.59-0.25C11.08,21.46,11,21.26,11,21.02z M11,24.65c0-0.24,0.08-0.44,0.24-0.6
	c0.16-0.15,0.35-0.23,0.58-0.23c0.23,0,0.43,0.08,0.59,0.23c0.16,0.16,0.24,0.35,0.24,0.59c0,0.24-0.08,0.43-0.24,0.59
	c-0.16,0.16-0.35,0.23-0.59,0.23c-0.23,0-0.43-0.08-0.59-0.23C11.08,25.08,11,24.88,11,24.65z M14.19,22.95
	c0-0.23,0.08-0.44,0.25-0.62c0.16-0.16,0.35-0.24,0.57-0.24c0.23,0,0.43,0.09,0.6,0.26c0.17,0.17,0.26,0.37,0.26,0.6
	c0,0.23-0.08,0.43-0.25,0.6c-0.17,0.17-0.37,0.25-0.61,0.25c-0.23,0-0.42-0.08-0.58-0.25S14.19,23.18,14.19,22.95z M14.19,19.33
	c0-0.23,0.08-0.43,0.25-0.6c0.18-0.16,0.37-0.24,0.57-0.24c0.24,0,0.44,0.08,0.61,0.25c0.17,0.17,0.25,0.36,0.25,0.6
	c0,0.23-0.08,0.43-0.25,0.59c-0.17,0.16-0.37,0.24-0.61,0.24c-0.23,0-0.42-0.08-0.58-0.24C14.27,19.76,14.19,19.56,14.19,19.33z
	 M14.19,26.61c0-0.23,0.08-0.43,0.25-0.61c0.16-0.16,0.35-0.24,0.57-0.24c0.24,0,0.44,0.08,0.61,0.25c0.17,0.17,0.25,0.37,0.25,0.6
	s-0.08,0.43-0.25,0.59c-0.17,0.16-0.37,0.24-0.61,0.24c-0.23,0-0.42-0.08-0.58-0.24C14.27,27.03,14.19,26.84,14.19,26.61z
	 M17.41,21.02c0-0.22,0.08-0.41,0.25-0.58c0.17-0.17,0.37-0.25,0.6-0.25c0.23,0,0.43,0.08,0.59,0.24c0.16,0.16,0.24,0.36,0.24,0.58
	c0,0.24-0.08,0.44-0.24,0.6c-0.16,0.17-0.35,0.25-0.59,0.25c-0.24,0-0.44-0.08-0.6-0.25C17.5,21.45,17.41,21.25,17.41,21.02z
	 M17.41,24.65c0-0.22,0.08-0.42,0.25-0.6c0.16-0.15,0.36-0.23,0.6-0.23c0.24,0,0.43,0.08,0.59,0.23s0.23,0.35,0.23,0.59
	c0,0.24-0.08,0.43-0.23,0.59c-0.16,0.16-0.35,0.23-0.59,0.23c-0.24,0-0.44-0.08-0.6-0.24C17.5,25.07,17.41,24.88,17.41,24.65z`},child:[]}]})(s)}function Fg(s){return Je({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.63,16.91c0,1.11,0.33,2.1,0.99,2.97s1.52,1.47,2.58,1.79l-0.66,1.68c-0.03,0.14,0.02,0.22,0.14,0.22h2.13l-0.98,4.3h0.28
	l3.92-5.75c0.04-0.04,0.04-0.09,0.01-0.14c-0.03-0.05-0.08-0.07-0.15-0.07h-2.18l2.48-4.64c0.07-0.14,0.02-0.22-0.14-0.22h-2.94
	c-0.09,0-0.17,0.05-0.23,0.15l-1.07,2.87c-0.71-0.18-1.3-0.57-1.77-1.16c-0.47-0.59-0.7-1.26-0.7-2.01c0-0.83,0.28-1.55,0.85-2.17
	c0.57-0.61,1.27-0.97,2.1-1.07l0.53-0.07c0.13,0,0.2-0.06,0.2-0.18l0.07-0.51c0.11-1.08,0.56-1.99,1.37-2.72
	c0.81-0.73,1.76-1.1,2.85-1.1c1.09,0,2.04,0.37,2.85,1.1c0.82,0.73,1.28,1.64,1.4,2.72l0.07,0.58c0,0.11,0.06,0.17,0.18,0.17h1.6
	c0.91,0,1.68,0.32,2.32,0.95c0.64,0.63,0.97,1.4,0.97,2.28c0,0.85-0.3,1.59-0.89,2.21c-0.59,0.62-1.33,0.97-2.2,1.04
	c-0.13,0-0.2,0.06-0.2,0.18v1.37c0,0.11,0.07,0.17,0.2,0.17c1.33-0.04,2.46-0.55,3.39-1.51s1.39-2.11,1.39-3.45
	c0-0.9-0.22-1.73-0.67-2.49c-0.44-0.76-1.05-1.36-1.81-1.8c-0.77-0.44-1.6-0.66-2.5-0.66H20.1c-0.33-1.33-1.04-2.42-2.11-3.26
	s-2.3-1.27-3.68-1.27c-1.41,0-2.67,0.44-3.76,1.31s-1.79,1.99-2.1,3.36c-1.11,0.26-2.02,0.83-2.74,1.73S4.63,15.76,4.63,16.91z
	 M12.77,26.62c0,0.39,0.19,0.65,0.58,0.77c0.01,0,0.05,0,0.11,0.01c0.06,0.01,0.11,0.01,0.14,0.01c0.17,0,0.33-0.05,0.49-0.15
	c0.16-0.1,0.27-0.26,0.32-0.48l2.25-8.69c0.06-0.24,0.04-0.45-0.07-0.65c-0.11-0.19-0.27-0.32-0.5-0.39
	c-0.17-0.02-0.26-0.03-0.26-0.03c-0.16,0-0.32,0.05-0.47,0.15c-0.15,0.1-0.26,0.25-0.31,0.45l-2.26,8.72
	C12.78,26.44,12.77,26.53,12.77,26.62z M16.93,23.56c0,0.13,0.03,0.26,0.1,0.38c0.14,0.22,0.31,0.37,0.51,0.44
	c0.11,0.03,0.21,0.05,0.3,0.05s0.2-0.02,0.32-0.08c0.21-0.09,0.35-0.28,0.42-0.57l1.44-5.67c0.03-0.14,0.05-0.23,0.05-0.27
	c0-0.15-0.05-0.3-0.16-0.45s-0.26-0.26-0.46-0.32c-0.17-0.02-0.26-0.03-0.26-0.03c-0.17,0-0.33,0.05-0.47,0.15
	c-0.14,0.1-0.24,0.25-0.3,0.45l-1.46,5.7c0,0.02,0,0.05-0.01,0.11C16.93,23.5,16.93,23.53,16.93,23.56z`},child:[]}]})(s)}const Xg=({latitude:s,longitude:a,isDarkMode:l,onClose:o})=>{const[c,f]=b.useState(null),[d,p]=b.useState(!0),[m,y]=b.useState(null),E=w=>w>=200&&w<300?h.jsx(Fg,{className:"forecast-icon"}):w>=300&&w<600?h.jsx(Vg,{className:"forecast-icon"}):w>=600&&w<700?h.jsx(Zg,{className:"forecast-icon"}):w>=700&&w<800?h.jsx(Yg,{className:"forecast-icon"}):w===800?h.jsx(Gg,{className:"forecast-icon"}):w>800?h.jsx(xo,{className:"forecast-icon"}):h.jsx(xo,{className:"forecast-icon"}),S=w=>{const O=new Date(w*1e3);return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(O)};return b.useEffect(()=>{(async()=>{try{p(!0);const O=await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${s}&lon=${a}&units=metric&appid=3dc24e0be8ccd4e978f75f0cdae80e0e`);if(!O.ok)throw new Error(`Failed to fetch forecast data: ${O.status} ${O.statusText}`);const C=await O.json();console.log(" Weather API: Received forecast data:",C),f(C),y(null)}catch(O){console.error(" Weather API Forecast Error:",O),y("Could not load forecast data")}finally{p(!1)}})()},[s,a]),h.jsx("div",{className:`forecast-modal-overlay ${l?"dark-mode":""}`,onClick:o,children:h.jsxs("div",{className:"forecast-modal-content",onClick:w=>w.stopPropagation(),children:[h.jsx("button",{className:"close-button",onClick:o,children:h.jsx(Dg,{})}),d&&h.jsxs("div",{className:"forecast-loading",children:[h.jsx(xo,{className:"spinning"}),h.jsx("span",{children:"Loading forecast..."})]}),m&&h.jsx("div",{className:"forecast-error",children:h.jsx("span",{children:m})}),c&&h.jsxs("div",{className:"forecast-container",children:[h.jsx("div",{className:"forecast-header",children:h.jsxs("h2",{children:[c.city.name,", ",c.city.country]})}),h.jsx("div",{className:"forecast-list",children:c.list.map((w,O)=>h.jsxs("div",{className:"forecast-item",children:[h.jsx("div",{className:"forecast-time",children:S(w.dt)}),h.jsxs("div",{className:"forecast-icon-temp",children:[E(w.weather[0].id),h.jsxs("span",{className:"forecast-temp",children:[Math.round(w.main.temp),"C"]})]}),h.jsx("div",{className:"forecast-desc",children:w.weather[0].description}),h.jsxs("div",{className:"forecast-details",children:[h.jsxs("span",{children:["Humidity: ",w.main.humidity,"%"]}),h.jsxs("span",{children:["Wind: ",Math.round(w.wind.speed)," m/s"]})]})]},O))})]})]})})};Xg.propTypes={latitude:P.number.isRequired,longitude:P.number.isRequired,isDarkMode:P.bool,onClose:P.func.isRequired};const Xu=({latitude:s,longitude:a,isDarkMode:l,onWeatherUpdate:o})=>{const[c,f]=b.useState(null),[d,p]=b.useState(!0),[m,y]=b.useState(null),[E,S]=b.useState(!1),[w,O]=b.useState(!1),C=b.useRef(null),M=b.useRef({latitude:s,longitude:a}),A=b.useRef(!1),U=$=>$>=200&&$<300?h.jsx(Fg,{className:"weather-icon"}):$>=300&&$<600?h.jsx(Vg,{className:"weather-icon"}):$>=600&&$<700?h.jsx(Zg,{className:"weather-icon"}):$>=700&&$<800?h.jsx(Yg,{className:"weather-icon"}):$===800?h.jsx(Gg,{className:"weather-icon"}):$>800?h.jsx(xo,{className:"weather-icon"}):h.jsx(fu,{className:"weather-icon"}),H=($,de,he,re)=>Math.abs($-he)>.05||Math.abs(de-re)>.05;b.useEffect(()=>{const $=async()=>{if(!(!s||!a)){console.log(" Weather API: Initiating weather data fetch for coordinates:",{latitude:s.toFixed(4),longitude:a.toFixed(4),timestamp:new Date().toISOString()});try{c||p(!0);const he=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${s}&lon=${a}&units=metric&appid=3dc24e0be8ccd4e978f75f0cdae80e0e`);if(!he.ok)throw new Error(`Failed to fetch weather data: ${he.status} ${he.statusText}`);const re=await he.json();console.log(" Weather API: Successfully received weather data:",{location:re.name,country:re.sys.country,temperature:`${Math.round(re.main.temp)}C`,conditions:re.weather[0].description,timestamp:new Date().toISOString()}),f(re),y(null),M.current={latitude:s,longitude:a},A.current=!0,o&&typeof o=="function"&&o(re)}catch(he){const re="Could not load weather data";console.error(" Weather API Error:",{message:he.message,coordinates:{latitude:s.toFixed(4),longitude:a.toFixed(4)},timestamp:new Date().toISOString(),error:he}),y(re)}finally{p(!1)}}};if(!A.current){console.log(" Weather API: Doing initial fetch without delay"),$();return}if(!H(M.current.latitude,M.current.longitude,s,a)){console.log(" Weather API: Coordinates haven't changed significantly, continuing with current weather data");return}return C.current&&(clearTimeout(C.current),console.log(" Weather API: Cleared previous fetch timeout due to significant coordinate change")),console.log(" Weather API: Setting 10-second delay for new coordinates",{latitude:s.toFixed(4),longitude:a.toFixed(4),delayTime:"10 seconds"}),C.current=setTimeout(()=>{console.log(" Weather API: 10-second delay completed, initiating fetch"),$();const he=setInterval(()=>{console.log(" Weather API: 5-minute refresh interval triggered"),$()},5*60*1e3);return()=>{clearInterval(he),console.log(" Weather API: Cleared 5-minute refresh interval")}},10*1e3),()=>{C.current&&(clearTimeout(C.current),console.log(" Weather API: Cleanup - cleared fetch timeout"))}},[s,a,c,o]);const G=()=>{w?S(!0):O(!0)},oe=()=>{E||O(!1)};return d&&!c?h.jsx("div",{className:`weather-widget icon-only ${l?"dark-mode":""}`,children:h.jsx("div",{className:"weather-loading",children:h.jsx(fu,{className:"weather-icon spinning"})})}):m&&!c?h.jsx("div",{className:`weather-widget icon-only ${l?"dark-mode":""}`,children:h.jsx("div",{className:"weather-error",children:h.jsx(cS,{className:"weather-icon"})})}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`weather-widget ${w?"":"icon-only"} ${l?"dark-mode":""} ${d?"updating":""}`,onClick:G,onBlur:oe,role:"button",tabIndex:0,onKeyPress:$=>{($.key==="Enter"||$.key===" ")&&G()},children:h.jsxs("div",{className:"weather-content",children:[c&&U(c.weather[0].id),!c&&h.jsx(fu,{className:"weather-icon"}),w&&c&&h.jsxs("div",{className:"weather-info",children:[h.jsxs("div",{className:"weather-temp",children:[Math.round(c.main.temp),"C"]}),h.jsx("div",{className:"weather-desc",children:c.weather[0].description}),h.jsxs("div",{className:"weather-details",children:[h.jsxs("span",{children:["Humidity: ",c.main.humidity,"%"]}),h.jsxs("span",{children:["Wind: ",Math.round(c.wind.speed)," m/s"]})]})]})]})}),E&&h.jsx(Xg,{latitude:s,longitude:a,isDarkMode:l,onClose:()=>{S(!1),O(!1)}})]})};Xu.propTypes={latitude:P.number.isRequired,longitude:P.number.isRequired,isDarkMode:P.bool,onWeatherUpdate:P.func};Xu.defaultProps={isDarkMode:!1,onWeatherUpdate:null};const $u=({onClick:s,isDarkMode:a})=>h.jsx("button",{className:`floating-action-button ${a?"dark-mode":""}`,onClick:s,"aria-label":"Share new update",children:h.jsx(Ja,{size:24})});$u.propTypes={onClick:P.func.isRequired,isDarkMode:P.bool};$u.defaultProps={isDarkMode:!1};const Ru=s=>{const a=new Date,l=new Date(s),o=a-l,c=Math.floor(o/1e3);if(c<60)return"just now";if(c<3600){const d=Math.floor(c/60);return`${d} ${d===1?"minute":"minutes"} ago`}if(c<86400){const d=Math.floor(c/3600);return`${d} ${d===1?"hour":"hours"} ago`}if(c<604800){const d=Math.floor(c/86400);return`${d} ${d===1?"day":"days"} ago`}const f={year:"numeric",month:"short",day:"numeric"};return l.toLocaleDateString(void 0,f)},ku=s=>{if(!s)return"";const a=/(https?:\/\/[^\s]+)|(www\.[^\s]+)|([a-zA-Z0-9][-a-zA-Z0-9]*\.[a-zA-Z0-9]+(\.[a-zA-Z0-9]+)*\b)/g;if(!a.test(s))return s;a.lastIndex=0;const l=[];let o=0,c;for(;(c=a.exec(s))!==null;){c.index>o&&l.push(s.substring(o,c.index));const f=c[0];let d;f.startsWith("http://")||f.startsWith("https://")?d=f:f.startsWith("www.")?d=`https://${f}`:d=`https://${f}`;const p=m=>(m.stopPropagation(),m.preventDefault(),window.open(d,"_blank","noopener,noreferrer"),!1);l.push(h.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"message-link",onClick:p,style:{pointerEvents:"all",cursor:"pointer"},children:f},c.index)),o=c.index+f.length}return o<s.length&&l.push(s.substring(o)),l},Tt={thunderLight:{rain:{opacity:.5,color:"#cccccc",size:.8,intensity:.5},fog:{color:"rgb(186, 186, 205)","horizon-blend":.08,range:[1.5,10]}},thunderModerate:{rain:{opacity:.7,color:"#cccccc",size:1,intensity:.8},fog:{color:"rgb(186, 186, 205)","horizon-blend":.1,range:[1.2,10]}},thunderHeavy:{rain:{opacity:.9,color:"#aaaaaa",size:1.2,intensity:1},fog:{color:"rgb(166, 166, 195)","horizon-blend":.15,range:[1,8]}},rainLight:{rain:{opacity:.4,color:"#ffffff",size:.6,intensity:.3},fog:{color:"rgb(196, 206, 215)","horizon-blend":.03,range:[1.8,12]}},rainModerate:{rain:{opacity:.6,color:"#ffffff",size:.8,intensity:.5},fog:{color:"rgb(186, 196, 205)","horizon-blend":.05,range:[1.5,10]}},rainHeavy:{rain:{opacity:.8,color:"#dddddd",size:1,intensity:.8},fog:{color:"rgb(176, 186, 195)","horizon-blend":.08,range:[1.2,9]}},snowLight:{snow:{opacity:.5,color:"#ffffff",size:.8,intensity:.3},fog:{color:"rgb(240, 240, 240)","horizon-blend":.02,range:[1.8,10]}},snowModerate:{snow:{opacity:.7,color:"#ffffff",size:1,intensity:.5},fog:{color:"rgb(230, 230, 230)","horizon-blend":.04,range:[1.5,9]}},snowHeavy:{snow:{opacity:.9,color:"#ffffff",size:1.2,intensity:.8},fog:{color:"rgb(220, 220, 220)","horizon-blend":.06,range:[1.2,8]}},fogLight:{fog:{color:"rgb(196, 206, 225)","high-color":"rgb(136, 152, 193)","horizon-blend":.05,range:[1,6]}},fogModerate:{fog:{color:"rgb(186, 196, 215)","high-color":"rgb(116, 132, 173)","horizon-blend":.1,range:[.8,5]}},fogHeavy:{fog:{color:"rgb(176, 186, 205)","high-color":"rgb(96, 112, 153)","horizon-blend":.2,range:[.5,4]}},clear:{fog:{color:"rgb(156, 180, 205)","high-color":"rgb(36, 92, 223)","horizon-blend":.02,range:[2,14]}},cloudsLight:{fog:{color:"rgb(176, 196, 215)","high-color":"rgb(106, 162, 223)","horizon-blend":.015,range:[1.8,12]}},cloudsModerate:{fog:{color:"rgb(166, 186, 205)","high-color":"rgb(86, 142, 213)","horizon-blend":.03,range:[1.5,10]}},cloudsHeavy:{fog:{color:"rgb(156, 176, 195)","high-color":"rgb(66, 122, 193)","horizon-blend":.05,range:[1.2,9]}}},XS=Fn.memo(Xu),hu=(s,a)=>{if(!s||!s.setFog||!s.setSnow||!s.setRain){console.warn("Map or weather effect methods unavailable");return}let l=null;a>=200&&a<300?a>=200&&a<=201?l=Tt.thunderLight:a>=202&&a<=211?l=Tt.thunderModerate:l=Tt.thunderHeavy:a>=300&&a<600?a>=300&&a<=311||a===500||a===520?l=Tt.rainLight:a>=312&&a<=321||a===501||a===521||a===531?l=Tt.rainModerate:l=Tt.rainHeavy:a>=600&&a<700?a===600||a===612||a===620?l=Tt.snowLight:a===601||a===613||a===621?l=Tt.snowModerate:l=Tt.snowHeavy:a>=700&&a<800?a===701||a===721?l=Tt.fogLight:a===711||a===731||a===751||a===761||a===762?l=Tt.fogModerate:l=Tt.fogHeavy:a===800?l=Tt.clear:a>800?a===801?l=Tt.cloudsLight:a===802||a===803?l=Tt.cloudsModerate:l=Tt.cloudsHeavy:l=Tt.clear,console.log(`Applying weather effects for weather code ${a}`),l.snow?(s.setSnow(l.snow),s.setRain(null)):l.rain?(s.setRain(l.rain),s.setSnow(null)):(s.setRain(null),s.setSnow(null)),l.fog&&s.setFog(l.fog)},Zi=(s,a,l)=>{if(!s)return"day";try{const o=$g(a,l),f=new Intl.DateTimeFormat("en-US",{timeZone:o,hour:"numeric",minute:"numeric",hour12:!1}).format(s),[d,p]=f.split(":").map(Number),m=d*60+p;console.log(`Local time at ${a.toFixed(2)}, ${l.toFixed(2)}: ${f}`);const{sunrise:y,sunset:E,dawn:S,dusk:w}=$S(s,a,l),O=y.getHours()*60+y.getMinutes(),C=E.getHours()*60+E.getMinutes(),M=S.getHours()*60+S.getMinutes(),A=w.getHours()*60+w.getMinutes();return console.log(`Solar times: dawn=${ho(S)}, sunrise=${ho(y)}, sunset=${ho(E)}, dusk=${ho(w)}`),C<O?m>=C&&m<=24*60||m>=0&&m<=O?"night":m>=M&&m<O?"dawn":m>C&&m<=A?"dusk":"day":m>=M&&m<O?"dawn":m>C&&m<=A?"dusk":m>=O&&m<=C?"day":"night"}catch(o){console.error("Error calculating light preset:",o);const c=s.getHours(),f=s.getMinutes(),d=c*60+f;return d>=330&&d<=390?"dawn":d>=1050&&d<=1110?"dusk":d>390&&d<1050?"day":"night"}},ho=s=>s?`${s.getHours().toString().padStart(2,"0")}:${s.getMinutes().toString().padStart(2,"0")}`:"unknown",$g=(s,a)=>{try{const l=Math.round(a/15),o=Math.max(-14,Math.min(12,l)),c=o<=0?"+":"-",f=Math.abs(o);if(f===0)return"UTC";const d=`Etc/GMT${c}${f}`;try{return Intl.DateTimeFormat("en-US",{timeZone:d}),d}catch{return console.warn(`Invalid timezone format: ${d}, falling back to UTC`),"UTC"}}catch(l){return console.warn("Error calculating timezone from coordinates, using UTC:",l),"UTC"}},$S=(s,a,l)=>{try{const o=$g(a,l),f=new Intl.DateTimeFormat("en-US",{timeZone:o,year:"numeric",month:"numeric",day:"numeric"}).formatToParts(s),d=parseInt(f.find(X=>X.type==="year").value),p=parseInt(f.find(X=>X.type==="month").value),m=parseInt(f.find(X=>X.type==="day").value),y=new Date(d,p-1,m),E=new Date(d,0,1),S=Math.floor((y-E)/(24*60*60*1e3))+1,w=a*(Math.PI/180),O=l*(Math.PI/180),C=2451545,M=946728e6,A=24*60*60*1e3,U=(y.getTime()-M)/A+C,oe=(357.5291+.98560028*(2451545+Math.round(U-2451545+l/360)-l/360-2451545))%360,$=oe*(Math.PI/180),de=1.9148*Math.sin($)+.02*Math.sin(2*$)+3e-4*Math.sin(3*$),re=(oe+de+180+102.9372)%360*(Math.PI/180),ie=Math.sin(re)*Math.sin(23.44*(Math.PI/180)),ue=Math.asin(ie),Le=(Math.sin(-.83*(Math.PI/180))-Math.sin(w)*Math.sin(ue))/(Math.cos(w)*Math.cos(ue));if(Le>1)return console.log(`Polar night: no sunrise at ${a}, ${l}`),Rm(s,p,a,!0);if(Le<-1)return console.log(`Polar day: no sunset at ${a}, ${l}`),Rm(s,p,a,!1);const Be=Math.acos(Le)*(180/Math.PI),Ae=Be/15,Te=12-l%15/15,Ce=Te-Ae,J=Te+Ae,ce=X=>{let W=new Date(y);const V=Math.floor(X),fe=Math.floor((X-V)*60);return V<0?(W.setDate(W.getDate()-1),W.setHours(V+24,fe,0,0)):V>=24?(W.setDate(W.getDate()+1),W.setHours(V-24,fe,0,0)):W.setHours(V,fe,0,0),W},se=ce(Ce),be=ce(J),T=new Date(se.getTime()-30*60*1e3),R=new Date(be.getTime()+30*60*1e3);return console.log(`Solar calculation for ${a}, ${l} (Day ${S}):`),console.log(`Timezone: ${o}`),console.log(`Solar mean anomaly: ${oe.toFixed(4)}, Declination: ${(ue*180/Math.PI).toFixed(4)}`),console.log(`Hour angle: ${Be.toFixed(4)}, Solar noon: ${Te.toFixed(4)} hours`),console.log(`Sunrise: ${Ce.toFixed(4)} hours, Sunset: ${J.toFixed(4)} hours`),{sunrise:se,sunset:be,dawn:T,dusk:R}}catch(o){console.error("Error calculating solar times:",o);const c=new Date(s),f=new Date(c);f.setHours(6,0,0,0);const d=new Date(c);d.setHours(18,0,0,0);const p=new Date(c);p.setHours(5,30,0,0);const m=new Date(c);return m.setHours(18,30,0,0),{sunrise:f,sunset:d,dawn:p,dusk:m}}},Rm=(s,a,l,o)=>{const c=new Date(s),f=a>=4&&a<=9,d=l>0;return d&&f||!d&&!f?{sunrise:new Date(c.setHours(3,0,0,0)),sunset:new Date(c.setHours(21,0,0,0)),dawn:new Date(c.setHours(2,30,0,0)),dusk:new Date(c.setHours(21,30,0,0))}:{sunrise:new Date(c.setHours(10,0,0,0)),sunset:new Date(c.setHours(14,0,0,0)),dawn:new Date(c.setHours(9,30,0,0)),dusk:new Date(c.setHours(14,30,0,0))}},Qu=({messages:s,currentUsername:a,onlineUsers:l,userLocation:o,isDarkMode:c,isLoading:f,onRefreshMap:d,onOpenModal:p})=>{console.log(` MapView: Received ${(s==null?void 0:s.length)||0} messages`),console.log(" MapView: Current userLocation:",o);const[m,y]=b.useState({longitude:0,latitude:20,zoom:1.2,pitch:20,bearing:0}),[E,S]=b.useState(null),[w,O]=b.useState(!1),[C,M]=b.useState(0),[A,U]=b.useState(null),[H,G]=b.useState(!1),[oe,$]=b.useState(!1),[de,he]=b.useState(!1),[re,ie]=b.useState("day"),ue=b.useRef(),Le=Vs(),Be=b.useRef(null),Ae=b.useRef(!1),Te=b.useRef(0),Ce=b.useRef(0),J=b.useRef(null),ce=b.useRef({latitude:null,longitude:null}),[se,be]=b.useState(null);b.useEffect(()=>{const z=o||{latitude:m.latitude,longitude:m.longitude},ee=Zi(new Date,z.latitude,z.longitude);console.log(` Initial light preset on mount: ${ee} for location ${z.latitude.toFixed(2)}, ${z.longitude.toFixed(2)}`),ie(ee);const ne=setInterval(()=>{const we=new Date,me=ue.current?{latitude:m.latitude,longitude:m.longitude}:z,Oe=Zi(we,me.latitude,me.longitude);Oe!==re&&(console.log(` Updating light preset to ${Oe} based on time change`),ie(Oe))},5*60*1e3);return()=>clearInterval(ne)},[]),b.useEffect(()=>{const z="mapview_has_fetched_messages";return sessionStorage.getItem(z)?console.log(" MapView: Already fetched messages in this session, skipping"):(console.log(" MapView: First mount, calling refresh function"),d&&d(),sessionStorage.setItem(z,"true")),()=>{document.visibilityState==="hidden"&&sessionStorage.removeItem(z)}},[d]),b.useEffect(()=>{const z=(s==null?void 0:s.length)||0;Te.current!==z&&(console.log(`MapView: Message count changed from ${Te.current} to ${z}`),Te.current=z)},[s]);const T=b.useCallback(()=>{console.log(" MapView: Safe refresh requested"),d&&d()},[d]);b.useCallback(z=>{z.preventDefault(),console.log(" MapView: Manual refresh requested via button"),T()},[T]),b.useEffect(()=>{const z=()=>{document.visibilityState==="visible"&&(console.log(" MapView: Document became visible, triggering refresh"),setTimeout(()=>{T()},500))};return document.addEventListener("visibilitychange",z),()=>{document.removeEventListener("visibilitychange",z)}},[T]);const R=(z,B)=>{B.stopPropagation(),Le(`/profile/${z}`),S(null)},X=b.useCallback(()=>{var z,B,ee,ne;H?(y(we=>({...we,pitch:0})),(ne=(ee=ue.current)==null?void 0:ee.getMap())!=null&&ne.isStyleLoaded()&&ue.current.getMap().setConfigProperty("basemap","show3dObjects",!1),G(!1),$(!1),he(!1)):($(!1),G(!0),y(we=>({...we,pitch:45,zoom:Math.max(we.zoom,15)})),(B=(z=ue.current)==null?void 0:z.getMap())!=null&&B.isStyleLoaded()&&ue.current.getMap().setConfigProperty("basemap","show3dObjects",!0),setTimeout(()=>{$(!0),he(!0),setTimeout(()=>{he(!1)},5e3)},1e3))},[H]);b.useEffect(()=>{a&&!A&&Lt.getUserByUsername(a).then(z=>{z.success&&z.data&&z.data.user&&z.data.user.likedMessages?U(z.data.user.likedMessages):z.success&&U([])}).catch(z=>{U([])})},[a,A]),b.useEffect(()=>{},[A,a]);const W=b.useCallback(z=>{if(!z||!A)return!1;const B=z.toString();return A.some(ee=>ee.toString()===B)},[A]),V=(z,B)=>{if(z.originalEvent.stopPropagation(),A&&B.dbId){const ee=W(B.dbId),ne={...B,likedByCurrentUser:ee};S(ne),O(ee),M(B.likesCount||0),A&&A.length>0}else B.hasOwnProperty("likedByCurrentUser")?(S(B),O(B.likedByCurrentUser),M(B.likesCount||0)):a&&B.dbId?Lt.getUserByUsername(a).then(ee=>{if(ee.success&&ee.data&&ee.data.user&&ee.data.user.likedMessages){const ne=B.dbId.toString(),we=ee.data.user.likedMessages.some(me=>me.toString()===ne);S({...B,likedByCurrentUser:we}),O(we),M(B.likesCount||0)}else S(B),O(!1),M(B.likesCount||0)}).catch(ee=>{console.error("Error checking if message is liked:",ee),S(B),O(!1),M(B.likesCount||0)}):(S(B),O(!1),M(B.likesCount||0))},fe=async z=>{if(z.stopPropagation(),!(!E||!E.dbId||!a))try{const B=await Lt.likeMessage(E.dbId);if(B.success)if(O(B.liked),M(B.likesCount),S(ee=>({...ee,likesCount:B.likesCount,likedByCurrentUser:B.liked})),B.liked){const ee=E.dbId.toString();U(ne=>ne?ne.some(me=>me.toString()===ee)?ne:[...ne,E.dbId]:[E.dbId])}else{const ee=E.dbId.toString();U(ne=>ne?ne.filter(we=>we.toString()!==ee):[])}}catch(B){console.error("Error toggling like:",B)}},ae=b.useMemo(()=>(console.log(" MapView: Filtering messages with location data"),s.filter(z=>z.location&&!z.location.error&&z.location.latitude&&z.location.longitude)),[s]);b.useEffect(()=>{if(!Ae.current){if(o&&o.latitude&&o.longitude){y({longitude:o.longitude,latitude:o.latitude,zoom:1.5,pitch:0,bearing:0}),Ae.current=!0;return}if(ae.length>0){const z=ae[ae.length-1];y({longitude:z.location.longitude,latitude:z.location.latitude,zoom:1.5,pitch:0,bearing:0}),Ae.current=!0}}},[o,ae]),b.useEffect(()=>{const z=s.length;if(z!==Te.current){if(console.log(`MapView: Message count changed from ${Te.current} to ${z}`),E){const B=s.find(ee=>ee.dbId===E.dbId);B&&(S(B),O(B.likedByCurrentUser||!1),M(B.likesCount||0))}Te.current=z}},[s,E]),b.useEffect(()=>{ae.length>0&&a&&ae.forEach(z=>{const B=z.dbId||z._id;z.likedByCurrentUser||A&&A.some(ee=>B&&ee.toString()===B.toString()),z.content||z.text})},[ae,A,a]);const Ee=b.useCallback(async()=>{if(!(!a||!A||A.length===0))try{const z=await Lt.getAllMessages(null,a);if(z&&z.messages&&Array.isArray(z.messages)){const ee=z.messages.filter(ne=>{const we=ne._id||ne.dbId;return we&&A.some(me=>me.toString()===we.toString())}).sort((ne,we)=>new Date(we.createdAt||we.timestamp)-new Date(ne.createdAt||ne.timestamp));ee.length===0||ee.forEach((ne,we)=>{const me=ne.text||ne.content||"",Oe=new Date(ne.createdAt||ne.timestamp).toLocaleString()})}}catch(z){console.error("Error fetching detailed liked messages:",z)}},[a,A]);b.useEffect(()=>{A&&A.length>0&&Ee()},[A,Ee]),b.useEffect(()=>{E&&Be.current&&setTimeout(()=>{document.activeElement===Be.current&&Be.current.blur()},50)},[E]);const ge=b.useCallback(()=>{var ee,ne;if(!ue.current)return;const z=new Date,B=Zi(z,m.latitude,m.longitude);console.log(`Recalibrating light preset at ${m.latitude.toFixed(2)}, ${m.longitude.toFixed(2)} - now ${B}`),B!==re&&(ie(B),(ne=(ee=ue.current)==null?void 0:ee.getMap())!=null&&ne.isStyleLoaded()&&ue.current.getMap().setConfigProperty("basemap","lightPreset",B)),ce.current={latitude:m.latitude,longitude:m.longitude},Ce.current=z.getTime()},[m.latitude,m.longitude,re]);b.useEffect(()=>{ce.current.latitude===null&&ge();const z=setInterval(()=>{var ne,we;const B=new Date,ee=Zi(B,m.latitude,m.longitude);ee!==re&&(console.log(`Updating light preset to ${ee} based on current time`),ie(ee),Ce.current=B.getTime(),(we=(ne=ue.current)==null?void 0:ne.getMap())!=null&&we.isStyleLoaded()&&ue.current.getMap().setConfigProperty("basemap","lightPreset",ee))},6e4);return()=>clearInterval(z)},[re,m.latitude,m.longitude,ge]),b.useEffect(()=>{const z=o||{latitude:m.latitude,longitude:m.longitude},ee=Zi(new Date,z.latitude,z.longitude);console.log(`Setting initial light preset: ${ee} at ${z.latitude.toFixed(2)}, ${z.longitude.toFixed(2)}`),ie(ee)},[]);const Z=b.useCallback(z=>{if(be(z),ue.current&&z&&z.weather&&z.weather[0]){const B=ue.current.getMap(),ee=z.weather[0].id;hu(B,ee)}},[]);b.useEffect(()=>{const z=()=>{if(ue.current){const B=ue.current.getMap();console.log(`Applying light preset ${re} on map style load`),B.setConfigProperty("basemap","lightPreset",re),console.log("Setting globe projection on map style load"),B.setProjection("globe");try{B.setFog({color:"rgb(156, 180, 205)","high-color":"rgb(36, 92, 223)","horizon-blend":.015,"space-color":"rgb(11, 11, 25)","star-intensity":.7,range:[2,14]}),se&&se.weather&&se.weather[0]&&hu(B,se.weather[0].id),console.log("Applied atmosphere and star field to globe view")}catch(ee){console.warn("Could not apply globe effects:",ee)}ge(),H&&B.setConfigProperty("basemap","show3dObjects",!0)}};if(ue.current&&ue.current.getMap()){const B=ue.current.getMap();return B.isStyleLoaded()?z():B.once("style.load",z),()=>{B&&B.off("style.load",z)}}},[H,ge,re,se]);const te=b.useMemo(()=>({latitude:m.latitude,longitude:m.longitude,isDarkMode:c}),[m.latitude,m.longitude,c]),ye=b.useCallback(z=>{y(z.viewState),J.current&&clearTimeout(J.current),J.current=setTimeout(()=>{const B=!ce.current.latitude||Math.abs(ce.current.latitude-z.viewState.latitude)>.05||Math.abs(ce.current.longitude-z.viewState.longitude)>.05,ee=new Date().getTime();(B||ee-Ce.current>5*60*1e3)&&ge(),z.viewState.zoom<1.5&&y(ne=>({...ne,latitude:Math.max(-80,Math.min(80,ne.latitude))}))},500)},[ge]);return b.useEffect(()=>()=>{J.current&&clearTimeout(J.current)},[]),b.useEffect(()=>{var z,B;if((B=(z=ue.current)==null?void 0:z.getMap())!=null&&B.isStyleLoaded()){const ee=ue.current.getMap();console.log(`Light preset changed to ${re}, applying to map immediately`),ee.setConfigProperty("basemap","lightPreset",re)}},[re]),h.jsxs("div",{className:`map-container globe-view light-preset-${re}`,children:[h.jsxs(Fu,{ref:ue,...m,onMove:ye,mapStyle:"mapbox://styles/mapbox/standard",mapboxAccessToken:"pk.eyJ1IjoiZGFya25pZ2h0MDA3IiwiYSI6ImNqOXpiMWF3MjhuajEyeHFzcjhzdDVzN20ifQ.DlcipLyUIsK1pVHRtPK9Mw",terrain:H?{source:"mapbox-dem",exaggeration:1.5}:void 0,projection:"globe",initialViewState:{...m,renderWorldCopies:!1},mapOptions:{localIdeographFontFamily:"'Noto Sans', 'Noto Sans CJK SC', sans-serif",basemap:{lightPreset:re,show3dObjects:H},fadeDuration:1e3},onStyleLoad:z=>{console.log(`Map style loaded, immediately applying light preset: ${re}`),z.setConfigProperty("basemap","lightPreset",re),z.setProjection("globe"),z.setFog({color:"rgb(156, 180, 205)","high-color":"rgb(36, 92, 223)","horizon-blend":.015,"space-color":"rgb(11, 11, 25)","star-intensity":.7,range:[2,14]}),se&&se.weather&&se.weather[0]&&hu(z,se.weather[0].id)},children:[f&&h.jsxs("div",{className:"map-loading-indicator",children:[h.jsx("div",{className:"spinner"}),h.jsx("p",{children:"Refreshing pins..."})]}),h.jsx(XS,{...te,onWeatherUpdate:Z}),ae.map((z,B)=>h.jsx(qS,{longitude:z.location.longitude,latitude:z.location.latitude,anchor:"top",onClick:ee=>V(ee,z),children:h.jsxs("div",{className:"map-marker",children:[h.jsx(Wa,{username:z.sender,size:"40px",className:"marker-avatar"}),l&&l[z.sender]&&h.jsx("span",{className:"online-indicator-map"})]})},B)),E&&h.jsx(GS,{longitude:E.location.longitude,latitude:E.location.latitude,anchor:"bottom",offsetTop:-65,onClose:()=>S(null),closeOnClick:!1,closeButton:!0,className:`map-popup ${c?"dark-mode":""}`,maxWidth:"300px",children:h.jsxs("div",{className:`message-card ${c?"dark-mode":""}`,onClick:z=>z.stopPropagation(),children:[h.jsxs("div",{className:"message-card-header",children:[h.jsx(Wa,{username:E.sender,size:"40px",className:"message-avatar",onClick:z=>R(E.sender,z),style:{cursor:"pointer"}}),h.jsxs("div",{className:"message-sender-info",children:[h.jsxs("span",{className:"message-sender",onClick:z=>R(E.sender,z),style:{cursor:"pointer"},children:[E.sender,l&&l[E.sender]&&h.jsx("span",{className:"online-indicator"})]}),h.jsx("span",{className:"message-timestamp",children:Ru(E.timestamp)})]})]}),E.image&&h.jsx("div",{className:"message-card-image",children:h.jsx("img",{src:E.image,alt:"Message attachment"})}),h.jsx("div",{className:"message-card-content",children:ku(E.content)}),h.jsxs("div",{className:"message-card-footer",children:[h.jsxs("button",{ref:Be,className:`like-button ${w?"liked":""}`,onClick:fe,disabled:!a,title:a?"Like this message":"Sign in to like messages",tabIndex:"-1",children:[w?h.jsx(wo,{className:"heart-filled"}):h.jsx(fS,{className:"heart-outline"}),h.jsx("span",{className:"like-count",children:C>0?C:""})]}),h.jsxs("button",{className:"location-button",onClick:()=>alert(`Location: ${E.location.latitude}, ${E.location.longitude}${E.location.fuzzyLocation===!1?" (Exact)":" (Approximate)"}`),title:"View location details",tabIndex:"-1",children:[h.jsx(Ja,{className:"location-icon"}),E.location.fuzzyLocation===!1?"Exact":"Approximate"]})]})]})})]}),h.jsx("div",{className:"time-preset-indicator",children:h.jsxs("div",{className:`time-indicator ${re}`,title:`Current lighting: ${re}`,children:[re==="day"&&h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"12",cy:"12",r:"5"}),h.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),h.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),h.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),h.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),h.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),h.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),h.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),h.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),re==="dawn"&&h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12 2v8"}),h.jsx("path",{d:"M5.2 11.2l1.4 1.4"}),h.jsx("path",{d:"M2 18h2"}),h.jsx("path",{d:"M20 18h2"}),h.jsx("path",{d:"M17.4 12.6l1.4-1.4"}),h.jsx("path",{d:"M22 22H2"}),h.jsx("path",{d:"M8 6l4-4 4 4"}),h.jsx("path",{d:"M16 18a4 4 0 0 0-8 0"})]}),re==="dusk"&&h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12 10v2"}),h.jsx("path",{d:"M12 22v-2"}),h.jsx("path",{d:"M5.2 11.2l1.4 1.4"}),h.jsx("path",{d:"M2 18h2"}),h.jsx("path",{d:"M20 18h2"}),h.jsx("path",{d:"M17.4 12.6l1.4-1.4"}),h.jsx("path",{d:"M22 22H2"}),h.jsx("path",{d:"M16 6l-4 4-4-4"}),h.jsx("path",{d:"M16 18a4 4 0 0 0-8 0"})]}),re==="night"&&h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),h.jsx("span",{className:"light-label",children:re})]})}),h.jsx("div",{className:`map-controls ${c?"dark-mode":""}`,children:h.jsxs("button",{className:`map-control-button ${H?"active":""}`,onClick:X,title:H?"Switch to 2D view":"Switch to 3D view",children:[h.jsx(vS,{}),h.jsx("span",{className:"control-label",children:H?"2D":"3D"})]})}),h.jsxs("div",{className:"map-action-buttons",children:[o&&h.jsx("button",{className:"location-control-button",onClick:()=>{y({longitude:o.longitude,latitude:o.latitude,zoom:14,pitch:H?45:0,bearing:0})},title:"Go to your location",children:h.jsx(dS,{})}),h.jsx("div",{className:"compose-button-container",children:h.jsx($u,{onClick:p,isDarkMode:c,style:{position:"relative"},"aria-label":"Create new message"})})]}),ae.length===0&&h.jsxs("div",{className:`no-location-messages ${c?"dark-mode":""}`,children:[h.jsx(Ja,{size:32,className:"empty-state-icon"}),h.jsx("p",{children:"The map is looking a bit empty!"}),h.jsx("p",{children:"Share what's happening around you to drop a pin!"}),f&&h.jsx("div",{className:"loading-spinner"})]})]})};Qu.propTypes={messages:P.arrayOf(P.shape({sender:P.string.isRequired,content:P.string.isRequired,timestamp:P.oneOfType([P.string,P.instanceOf(Date)]),isReceived:P.bool,location:P.shape({latitude:P.number,longitude:P.number,error:P.string}),likesCount:P.number})),currentUsername:P.string,onlineUsers:P.object,userLocation:P.shape({latitude:P.number,longitude:P.number,isFallback:P.bool}),isDarkMode:P.bool,isLoading:P.bool,onRefreshMap:P.func,onOpenModal:P.func};Qu.defaultProps={messages:[],currentUsername:null,onlineUsers:{},userLocation:null,isDarkMode:!1,isLoading:!1,onRefreshMap:null,onOpenModal:()=>console.log("Open modal function not provided")};var Co={exports:{}},QS=Co.exports,km;function PS(){return km||(km=1,function(s,a){(function(o,c){s.exports=c(Oo())})(QS,function(l){return function(o){var c={};function f(d){if(c[d])return c[d].exports;var p=c[d]={i:d,l:!1,exports:{}};return o[d].call(p.exports,p,p.exports,f),p.l=!0,p.exports}return f.m=o,f.c=c,f.d=function(d,p,m){f.o(d,p)||Object.defineProperty(d,p,{enumerable:!0,get:m})},f.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},f.t=function(d,p){if(p&1&&(d=f(d)),p&8||p&4&&typeof d=="object"&&d&&d.__esModule)return d;var m=Object.create(null);if(f.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:d}),p&2&&typeof d!="string")for(var y in d)f.d(m,y,(function(E){return d[E]}).bind(null,y));return m},f.n=function(d){var p=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(p,"a",p),p},f.o=function(d,p){return Object.prototype.hasOwnProperty.call(d,p)},f.p="",f(f.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(o,c,f){f.r(c);var d=f("react"),p=function(){var w=function(O,C){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,A){M.__proto__=A}||function(M,A){for(var U in A)A.hasOwnProperty(U)&&(M[U]=A[U])},w(O,C)};return function(O,C){w(O,C);function M(){this.constructor=O}O.prototype=C===null?Object.create(C):(M.prototype=C.prototype,new M)}}(),m=function(){return m=Object.assign||function(w){for(var O,C=1,M=arguments.length;C<M;C++){O=arguments[C];for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(w[A]=O[A])}return w},m.apply(this,arguments)},y=function(w,O){var C={};for(var M in w)Object.prototype.hasOwnProperty.call(w,M)&&O.indexOf(M)<0&&(C[M]=w[M]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,M=Object.getOwnPropertySymbols(w);A<M.length;A++)O.indexOf(M[A])<0&&Object.prototype.propertyIsEnumerable.call(w,M[A])&&(C[M[A]]=w[M[A]]);return C};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(O){var C=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return C?new Promise(function(M,A){C.call(navigator,O,M,A)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function E(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var S=function(w){p(O,w);function O(C){var M=w.call(this,C)||this;return M.canvas=null,M.ctx=null,M.requestUserMediaId=0,M.unmounted=!1,M.state={hasUserMedia:!1},M}return O.prototype.componentDidMount=function(){var C=this,M=C.state,A=C.props;if(this.unmounted=!1,!E()){A.onUserMediaError("getUserMedia not supported");return}M.hasUserMedia||this.requestUserMedia(),A.children&&typeof A.children!="function"&&console.warn("children must be a function")},O.prototype.componentDidUpdate=function(C){var M=this.props;if(!E()){M.onUserMediaError("getUserMedia not supported");return}var A=JSON.stringify(C.audioConstraints)!==JSON.stringify(M.audioConstraints),U=JSON.stringify(C.videoConstraints)!==JSON.stringify(M.videoConstraints),H=C.minScreenshotWidth!==M.minScreenshotWidth,G=C.minScreenshotHeight!==M.minScreenshotHeight;(U||H||G)&&(this.canvas=null,this.ctx=null),(A||U)&&(this.stopAndCleanup(),this.requestUserMedia())},O.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},O.stopMediaStream=function(C){C&&(C.getVideoTracks&&C.getAudioTracks?(C.getVideoTracks().map(function(M){C.removeTrack(M),M.stop()}),C.getAudioTracks().map(function(M){C.removeTrack(M),M.stop()})):C.stop())},O.prototype.stopAndCleanup=function(){var C=this.state;C.hasUserMedia&&(O.stopMediaStream(this.stream),C.src&&window.URL.revokeObjectURL(C.src))},O.prototype.getScreenshot=function(C){var M=this,A=M.state,U=M.props;if(!A.hasUserMedia)return null;var H=this.getCanvas(C);return H&&H.toDataURL(U.screenshotFormat,U.screenshotQuality)},O.prototype.getCanvas=function(C){var M=this,A=M.state,U=M.props;if(!this.video||!A.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var H=this.video.videoWidth,G=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var oe=H/G;H=U.minScreenshotWidth||this.video.clientWidth,G=H/oe,U.minScreenshotHeight&&G<U.minScreenshotHeight&&(G=U.minScreenshotHeight,H=G*oe)}this.canvas=document.createElement("canvas"),this.canvas.width=(C==null?void 0:C.width)||H,this.canvas.height=(C==null?void 0:C.height)||G,this.ctx=this.canvas.getContext("2d")}var $=this,de=$.ctx,he=$.canvas;return de&&he&&(he.width=(C==null?void 0:C.width)||he.width,he.height=(C==null?void 0:C.height)||he.height,U.mirrored&&(de.translate(he.width,0),de.scale(-1,1)),de.imageSmoothingEnabled=U.imageSmoothing,de.drawImage(this.video,0,0,(C==null?void 0:C.width)||he.width,(C==null?void 0:C.height)||he.height),U.mirrored&&(de.scale(-1,1),de.translate(-he.width,0))),he},O.prototype.requestUserMedia=function(){var C=this,M=this.props,A=function(G,oe){var $={video:typeof oe<"u"?oe:!0};M.audio&&($.audio=typeof G<"u"?G:!0),C.requestUserMediaId++;var de=C.requestUserMediaId;navigator.mediaDevices.getUserMedia($).then(function(he){C.unmounted||de!==C.requestUserMediaId?O.stopMediaStream(he):C.handleUserMedia(null,he)}).catch(function(he){C.handleUserMedia(he)})};if("mediaDevices"in navigator)A(M.audioConstraints,M.videoConstraints);else{var U=function(G){return{optional:[{sourceId:G}]}},H=function(G){var oe=G.deviceId;return typeof oe=="string"?oe:Array.isArray(oe)&&oe.length>0?oe[0]:typeof oe=="object"&&oe.ideal?oe.ideal:null};MediaStreamTrack.getSources(function(G){var oe=null,$=null;G.forEach(function(re){re.kind==="audio"?oe=re.id:re.kind==="video"&&($=re.id)});var de=H(M.audioConstraints);de&&(oe=de);var he=H(M.videoConstraints);he&&($=he),A(U(oe),U($))})}},O.prototype.handleUserMedia=function(C,M){var A=this.props;if(C||!M){this.setState({hasUserMedia:!1}),A.onUserMediaError(C);return}this.stream=M;try{this.video&&(this.video.srcObject=M),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(M)})}A.onUserMedia(M)},O.prototype.render=function(){var C=this,M=this,A=M.state,U=M.props,H=U.audio;U.forceScreenshotSourceSize;var G=U.disablePictureInPicture;U.onUserMedia,U.onUserMediaError,U.screenshotFormat,U.screenshotQuality,U.minScreenshotWidth,U.minScreenshotHeight,U.audioConstraints,U.videoConstraints,U.imageSmoothing;var oe=U.mirrored,$=U.style,de=$===void 0?{}:$,he=U.children,re=y(U,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),ie=oe?m(m({},de),{transform:(de.transform||"")+" scaleX(-1)"}):de,ue={getScreenshot:this.getScreenshot.bind(this)};return d.createElement(d.Fragment,null,d.createElement("video",m({autoPlay:!0,disablePictureInPicture:G,src:A.src,muted:!H,playsInline:!0,ref:function(Le){C.video=Le},style:ie},re)),he&&he(ue))},O.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},O}(d.Component);c.default=S},react:function(o,c){o.exports=l}}).default})}(Co)),Co.exports}var KS=PS();const JS=Ou(KS),Om=[{name:"Normal",filter:""},{name:"Grayscale",filter:"grayscale(1)"},{name:"Sepia",filter:"sepia(0.8)"},{name:"Warm",filter:"saturate(1.5) hue-rotate(10deg)"},{name:"Cool",filter:"saturate(1.2) hue-rotate(-10deg)"},{name:"Bright",filter:"brightness(1.2) contrast(1.1)"},{name:"Vintage",filter:"sepia(0.3) contrast(1.1) brightness(1.1)"},{name:"Fade",filter:"brightness(1.1) contrast(0.9) saturate(0.8)"}],WS=[{id:"time",type:"time",content:"",label:"Time"},{id:"smile",type:"emoji",content:"",label:"Smile"},{id:"love",type:"emoji",content:"",label:"Love"},{id:"cool",type:"emoji",content:"",label:"Cool"},{id:"party",type:"emoji",content:"",label:"Party"},{id:"star",type:"emoji",content:"",label:"Star"},{id:"fire",type:"emoji",content:"",label:"Fire"},{id:"crown",type:"emoji",content:"",label:"Crown"},{id:"sparkles",type:"emoji",content:"",label:"Sparkles"}],Qg=({onCapture:s,onClose:a})=>{const l=b.useRef(null),o=b.useRef(null),[c,f]=b.useState(null),[d,p]=b.useState("user"),[m,y]=b.useState(!0),[E,S]=b.useState(null),[w,O]=b.useState(Om[0]),[C,M]=b.useState([]),[A,U]=b.useState(new Date().toLocaleTimeString()),[H,G]=b.useState(null),[oe,$]=b.useState({width:{ideal:4096},height:{ideal:4096},facingMode:"user",aspectRatio:1,frameRate:{ideal:30,max:60}});b.useEffect(()=>{(async()=>{var X,W;try{if((await navigator.mediaDevices.enumerateDevices()).filter(ae=>ae.kind==="videoinput").length>0){const ae=await navigator.mediaDevices.getUserMedia({video:!0}),ge=ae.getVideoTracks()[0].getCapabilities(),Z=Math.min(((X=ge.width)==null?void 0:X.max)||4096,((W=ge.height)==null?void 0:W.max)||4096);$(te=>({...te,width:{ideal:Z},height:{ideal:Z},facingMode:d})),ae.getTracks().forEach(te=>te.stop())}}catch(V){console.error("Error getting camera capabilities:",V),Le(V)}})()},[d]),b.useEffect(()=>{const R=setInterval(()=>{U(new Date().toLocaleTimeString())},1e3);return()=>clearInterval(R)},[]),b.useEffect(()=>{if(o.current&&H){const R=o.current;return R.addEventListener("touchmove",ce,{passive:!1}),R.addEventListener("touchend",be,{passive:!1}),()=>{R.removeEventListener("touchmove",ce,{passive:!1}),R.removeEventListener("touchend",be,{passive:!1})}}},[H]);const de=b.useCallback(()=>{if(l.current)try{const R=l.current.getScreenshot({width:oe.width.ideal,height:oe.height.ideal,quality:.92});if(!R){console.error("Failed to capture image - no image data returned");return}if(!R.startsWith("data:image/")){console.error("Invalid image format captured");return}f(R),y(!1),console.log("Image captured successfully with dimensions:",oe.width.ideal,"x",oe.height.ideal)}catch(R){console.error("Error capturing image:",R)}},[l,oe]),he=()=>{f(null),y(!0),M([])},re=()=>{p(R=>R==="user"?"environment":"user")},ie=()=>new Promise(R=>{const X=document.createElement("canvas"),W=new Image;W.onload=()=>{X.width=W.width,X.height=W.height;const V=X.getContext("2d"),ae=document.querySelector(".preview-container").getBoundingClientRect();V.filter=w.filter,V.drawImage(W,0,0,X.width,X.height),V.filter="none";const Ee=X.width/ae.width,ge=X.height/ae.height;C.forEach(Z=>{var me,Oe;const te=Z.type==="time"?A:Z.content,ye=Z.scale||1,z=Z.rotation||0,B=(((me=Z.position)==null?void 0:me.x)||0)*Ee,ee=(((Oe=Z.position)==null?void 0:Oe.y)||0)*ge,ne=32*Ee,we=Math.round(ne*ye);V.save(),V.translate(B,ee),V.rotate(z*Math.PI/180),V.font=`${we}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`,V.textBaseline="middle",V.textAlign="center",V.shadowColor="rgba(0, 0, 0, 0.3)",V.shadowBlur=4*Ee,V.shadowOffsetX=2*Ee,V.shadowOffsetY=2*ge,V.fillStyle="white",V.fillText(te,0,0),V.restore()}),R(X.toDataURL("image/jpeg",.95))},W.src=c}),ue=()=>{if(!c){console.error("No image to confirm");return}try{C.length>0?ie().then(R=>{!R||!R.startsWith("data:image/")?(console.error("Invalid merged image format"),s(c)):(console.log("Image with stickers generated successfully"),s(R))}).catch(R=>{console.error("Error merging stickers:",R),s(c)}):(console.log("Using original captured image (no stickers)"),s(c))}catch(R){console.error("Error confirming image:",R),s(c)}},Le=R=>{console.error("Camera error:",R),S("Could not access camera. Please check permissions and try again.")},Be=R=>{const X={...R,id:`${R.id}-${Date.now()}`,position:{x:50,y:50},scale:1,rotation:0};M([...C,X])},Ae=R=>{M(C.filter(X=>X.id!==R))},Te=(R,X)=>{var ae,Ee;R.preventDefault();const V=document.querySelector(".preview-container").getBoundingClientRect(),fe=R.target;if(fe.classList.contains("rotate-handle")){const Z=fe.closest(".sticker-item").getBoundingClientRect(),te=Z.left+Z.width/2,ye=Z.top+Z.height/2;G({id:X.id,type:"rotate",centerX:te,centerY:ye,startAngle:X.rotation||0,startMouseAngle:Math.atan2(R.clientY-ye,R.clientX-te),containerRect:V})}else fe.classList.contains("resize-handle")?G({id:X.id,type:"resize",startX:R.clientX,startY:R.clientY,startScale:X.scale||1,containerRect:V}):G({id:X.id,type:"move",startX:R.clientX-(((ae=X.position)==null?void 0:ae.x)||0),startY:R.clientY-(((Ee=X.position)==null?void 0:Ee.y)||0),containerRect:V})},Ce=(R,X)=>{var Ee,ge;R.preventDefault();const W=R.touches[0],fe=document.querySelector(".preview-container").getBoundingClientRect(),ae=R.target;if(ae.classList.contains("rotate-handle")){const te=ae.closest(".sticker-item").getBoundingClientRect(),ye=te.left+te.width/2,z=te.top+te.height/2;G({id:X.id,type:"rotate",centerX:ye,centerY:z,startAngle:X.rotation||0,startMouseAngle:Math.atan2(W.clientY-z,W.clientX-ye),containerRect:fe})}else ae.classList.contains("resize-handle")?G({id:X.id,type:"resize",startX:W.clientX,startY:W.clientY,startScale:X.scale||1,containerRect:fe}):G({id:X.id,type:"move",startX:W.clientX-(((Ee=X.position)==null?void 0:Ee.x)||0),startY:W.clientY-(((ge=X.position)==null?void 0:ge.y)||0),containerRect:fe})},J=R=>{if(H){R.preventDefault();const{containerRect:X,type:W}=H;if(W==="rotate"){const fe=Math.atan2(R.clientY-H.centerY,R.clientX-H.centerX)-H.startMouseAngle,ae=(H.startAngle+fe*(180/Math.PI))%360;M(Ee=>Ee.map(ge=>ge.id===H.id?{...ge,rotation:ae}:ge))}else if(W==="resize"){const V=R.clientX-H.startX,fe=R.clientY-H.startY,Ee=Math.sqrt(V*V+fe*fe)/100,ge=Math.max(.5,Math.min(3,H.startScale+(V>0?Ee:-Ee)));M(Z=>Z.map(te=>te.id===H.id?{...te,scale:ge}:te))}else{const V=Math.max(0,Math.min(R.clientX-H.startX-X.left,X.width-50)),fe=Math.max(0,Math.min(R.clientY-H.startY-X.top,X.height-50));M(ae=>ae.map(Ee=>Ee.id===H.id?{...Ee,position:{x:V,y:fe}}:Ee))}}},ce=R=>{if(H){R.preventDefault();const X=R.touches[0],{containerRect:W,type:V}=H;if(V==="rotate"){const ae=Math.atan2(X.clientY-H.centerY,X.clientX-H.centerX)-H.startMouseAngle,Ee=(H.startAngle+ae*(180/Math.PI))%360;M(ge=>ge.map(Z=>Z.id===H.id?{...Z,rotation:Ee}:Z))}else if(V==="resize"){const fe=X.clientX-H.startX,ae=X.clientY-H.startY,ge=Math.sqrt(fe*fe+ae*ae)/100,Z=Math.max(.5,Math.min(3,H.startScale+(fe>0?ge:-ge)));M(te=>te.map(ye=>ye.id===H.id?{...ye,scale:Z}:ye))}else{const fe=Math.max(0,Math.min(X.clientX-H.startX-W.left,W.width-50)),ae=Math.max(0,Math.min(X.clientY-H.startY-W.top,W.height-50));M(Ee=>Ee.map(ge=>ge.id===H.id?{...ge,position:{x:fe,y:ae}}:ge))}}},se=()=>{G(null)},be=()=>{G(null)},T=R=>{var fe,ae;const X=R.type==="time"?A:R.content,W=R.scale||1,V=R.rotation||0;return h.jsxs("div",{className:"sticker-item",style:{transform:`translate(${((fe=R.position)==null?void 0:fe.x)||0}px, ${((ae=R.position)==null?void 0:ae.y)||0}px)`},onMouseDown:Ee=>Te(Ee,R),onTouchStart:Ee=>Ce(Ee,R),children:[h.jsx("div",{className:"sticker-content",style:{transform:`scale(${W}) rotate(${V}deg)`,transformOrigin:"center"},children:X}),h.jsx("button",{className:"sticker-remove",onClick:()=>Ae(R.id),children:""}),h.jsx("div",{className:"resize-handle"}),h.jsx("div",{className:"rotate-handle"})]},R.id)};return h.jsxs("div",{className:"camera-capture-container",children:[h.jsx("div",{className:"camera-header",children:h.jsx("button",{className:"close-button",onClick:a,children:""})}),h.jsx("div",{className:"camera-body",children:E?h.jsxs("div",{className:"camera-error",children:[h.jsx("p",{children:E}),h.jsx("button",{className:"cancel-button",onClick:a,children:"Close"})]}):m?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"camera-view-container",children:h.jsx(JS,{audio:!1,ref:l,screenshotFormat:"image/jpeg",screenshotQuality:.92,videoConstraints:oe,className:"webcam",style:{filter:w.filter},onUserMediaError:Le,imageSmoothing:!0})}),h.jsx("div",{className:"filters-roll",children:Om.map(R=>h.jsxs("button",{className:`filter-option ${R.name===w.name?"active":""}`,onClick:()=>O(R),children:[h.jsx("div",{className:"filter-preview",style:{filter:R.filter}}),h.jsx("span",{children:R.name})]},R.name))}),h.jsxs("div",{className:"camera-controls",children:[h.jsx("div",{className:"spacer"}),h.jsx("button",{className:"capture-btn",onClick:de,children:h.jsx(Og,{size:32})}),h.jsx("button",{className:"flip-camera",onClick:re,children:h.jsx(bS,{size:24})})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"preview-container",onMouseMove:J,onMouseUp:se,onMouseLeave:se,ref:o,children:[h.jsx("img",{src:c,alt:"Captured",className:"captured-image",style:{filter:w.filter}}),h.jsx("div",{className:"stickers-layer",children:C.map(T)})]}),h.jsx("div",{className:"stickers-roll",children:WS.map(R=>h.jsxs("button",{className:"sticker-option",onClick:()=>Be(R),children:[h.jsx("div",{className:"sticker-preview",children:R.content}),h.jsx("span",{children:R.label})]},R.id))}),h.jsxs("div",{className:"camera-controls",children:[h.jsx("button",{className:"retake-btn",onClick:he,children:h.jsx(Dg,{size:24})}),h.jsx("button",{className:"confirm-btn",onClick:ue,children:h.jsx(oS,{size:24})})]})]})})]})};Qg.propTypes={onCapture:P.func.isRequired,onClose:P.func.isRequired};const Pu=({isOpen:s,onClose:a,onShareUpdate:l,placeholder:o,disabled:c,isDarkMode:f})=>{const[d,p]=b.useState(""),[m,y]=b.useState(null),[E,S]=b.useState(!1),[w,O]=b.useState(!1),[C,M]=b.useState(!0),A=60,U=A-d.length,H=async de=>{de.preventDefault();const he=d.trim();if(he&&m)try{S(!0);const re=new FormData;if(typeof m=="string"&&m.startsWith("data:image"))try{const ue=m.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);if(ue&&ue.length===3){const Le=ue[1],Be=ue[2],Ae=atob(Be),Te=[];for(let J=0;J<Ae.length;J+=1024){const ce=Ae.slice(J,J+1024),se=new Array(ce.length);for(let T=0;T<ce.length;T++)se[T]=ce.charCodeAt(T);const be=new Uint8Array(se);Te.push(be)}const Ce=new Blob(Te,{type:Le});re.append("image",Ce,`image.${Le.split("/")[1]||"jpg"}`),console.log(`Created blob from base64 image with content type: ${Le}`)}else{console.log("Regex matching failed, using fetch API for blob conversion");const Be=await(await fetch(m)).blob();re.append("image",Be,"camera-image.jpg")}}catch(ue){console.error("Error converting base64 to blob:",ue),alert("There was a problem processing the image. Please try again or use a different image."),S(!1);return}else if(m instanceof File){if(!m.type.startsWith("image/")){alert("The selected file is not a valid image."),S(!1);return}if(m.size>5*1024*1024){alert("Image size must be less than 5MB."),S(!1);return}re.append("image",m),console.log(`Added file image with type: ${m.type}`)}else{console.error("Unknown image format:",typeof m),alert("Unsupported image format. Please try again with a different image."),S(!1);return}re.append("message",he),re.append("fuzzyLocation",C.toString());const ie=await l(he,re);p(""),y(null),a(),ie&&console.log("Countdown shown")}catch(re){console.error("Error uploading image:",re),alert("Failed to upload the image. Please try again.")}finally{S(!1)}},G=de=>{y(de),O(!1)},oe=()=>{O(!0)},$=()=>{y(null)};return b.useEffect(()=>{s&&(p(""),y(null),O(!1))},[s]),s?w?h.jsx("div",{className:"message-modal-overlay",children:h.jsx(Qg,{onCapture:G,onClose:()=>O(!1)})}):h.jsx("div",{className:"message-modal-overlay",onClick:a,children:h.jsxs("div",{className:`message-modal ${f?"dark-mode":""}`,onClick:de=>de.stopPropagation(),children:[h.jsxs("div",{className:"message-modal-header",children:[h.jsx("h3",{children:"Share Update"}),h.jsx("button",{className:"close-button",onClick:a,children:""})]}),h.jsxs("form",{className:"message-modal-form",onSubmit:H,children:[m?h.jsxs("div",{className:"image-preview-container",children:[h.jsx("img",{src:m,alt:"Message preview",className:"image-preview"}),h.jsx("button",{type:"button",className:"remove-image-btn",onClick:$,"aria-label":"Remove image",children:h.jsx(jg,{size:18})})]}):h.jsx("div",{className:"camera-button-container",children:h.jsxs("button",{type:"button",className:"camera-button",onClick:oe,"aria-label":"Take photo",children:[h.jsx(Og,{size:24}),h.jsx("span",{children:"Take Photo"})]})}),h.jsxs("div",{className:"message-input-container",children:[h.jsx("textarea",{className:"message-modal-input",value:d,onChange:de=>p(de.target.value),placeholder:o,autoComplete:"off",disabled:c,rows:3,autoFocus:!0,maxLength:A}),h.jsx("div",{className:`char-counter ${U<=10?"warning":""} ${U<=5?"danger":""}`,children:U})]}),h.jsx("div",{className:"location-option",children:h.jsxs("label",{className:`location-option-label ${f?"dark-mode":""}`,children:[h.jsx("input",{type:"checkbox",checked:C,onChange:de=>M(de.target.checked)}),h.jsx(Ja,{size:16,className:"location-icon"}),h.jsx("span",{children:"Use approximate location for privacy"})]})}),h.jsxs("div",{className:"message-modal-footer",children:[h.jsx("button",{type:"button",className:"cancel-button",onClick:a,children:"Cancel"}),h.jsx("button",{type:"submit",className:`send-button-round ${!d.trim()||!m||c||E?"disabled":""}`,disabled:!d.trim()||!m||c||E,"aria-label":"Share update",children:h.jsx(gS,{size:18})})]})]})]})}):null};Pu.propTypes={isOpen:P.bool.isRequired,onClose:P.func.isRequired,onShareUpdate:P.func.isRequired,placeholder:P.string,disabled:P.bool,isDarkMode:P.bool};Pu.defaultProps={placeholder:"What's happening?",disabled:!1,isDarkMode:!1};const Ku=b.createContext({messagesTimestamp:Date.now(),setMessagesTimestamp:()=>{}}),Pg=({children:s})=>{const[a,l]=b.useState(Date.now());return h.jsx(Ku.Provider,{value:{messagesTimestamp:a,setMessagesTimestamp:l},children:s})};Pg.propTypes={children:P.node.isRequired};const IS=["#1da1f2","#4267B2","#833AB4","#E1306C","#2867B2","#FF0000","#1DB954","#FF5700","#00aff0","#7289da","#25D366","#34B7F1","#000000","#6441a5"],Ro=({user:s,onlineUsers:a={},isDarkMode:l,toggleDarkMode:o})=>{const{username:c}=Qy(),f=Vs(),{messagesTimestamp:d,setMessagesTimestamp:p}=b.useContext(Ku),[m,y]=b.useState(s||null),[E,S]=b.useState(!s),[w,O]=b.useState(!1),[C,M]=b.useState(null),[A,U]=b.useState(null),[H,G]=b.useState([]),[oe,$]=b.useState(!1),[de,he]=b.useState(!1),[re,ie]=b.useState(1),[ue,Le]=b.useState(!0),Be=10,[Ae,Te]=b.useState(!c),[Ce,J]=b.useState(""),[ce,se]=b.useState(!1),[be,T]=b.useState(null),[R,X]=b.useState(0),[W,V]=b.useState([]),[fe,ae]=b.useState([]),[Ee,ge]=b.useState(!1),[Z,te]=b.useState(!1),[ye,z]=b.useState(1),[B,ee]=b.useState(!0),[ne,we]=b.useState("messages"),me=b.useRef(null),[Oe,Ve]=b.useState(!1),[xe,$e]=b.useState(Notification.permission==="granted"),[Ze,rt]=b.useState({username:(s==null?void 0:s.username)??"",email:(s==null?void 0:s.email)??"",profilePicture:(s==null?void 0:s.profilePicture)??"",coverColor:(s==null?void 0:s.coverColor)??"#1da1f2",bio:(s==null?void 0:s.bio)??"Just another gringo",darkMode:(s==null?void 0:s.darkMode)??!1,geolocationEnabled:(s==null?void 0:s.geolocationEnabled)??!1}),ft=b.useCallback(async()=>{if(m!=null&&m.username)try{$(!0),M(null);const Q=At.getUser(),le=Q?Q.username:null,I=await Lt.getUserMessages(m.username,le);if(!I.success){console.error("Error fetching user messages:",I.message||"Unknown error"),M("Failed to load user messages. Please try again.");return}if(!I.data||!I.data.messages){console.error("Invalid response format when fetching user messages:",I),M("Failed to load user messages. Invalid server response in profile card");return}if(re===1){const Ne=I.data.messages.slice(0,Be);G(Ne),Le(I.data.messages.length>Be),window.allUserMessages=I.data.messages}}catch(Q){console.error("Error in fetchUserMessages:",Q),M("Failed to load user messages. Please try again.")}finally{$(!1)}},[m==null?void 0:m.username,re,Be]);b.useEffect(()=>{const Q=At.getUser();if(Q&&J(Q.username),c){(async()=>{try{S(!0),M(null);const I=At.getUser(),Ne=I?I.username:null,qe=await Lt.getUserByUsername(c,Ne);if(qe.success){y(qe.data.user),Object.prototype.hasOwnProperty.call(qe.data.user,"isFollowing")&&se(qe.data.user.isFollowing);const _e=(I==null?void 0:I.username)===qe.data.user.username;Te(_e)}else M("User not found")}catch(I){console.error("Error fetching user profile:",I),M("Failed to load user profile")}finally{S(!1)}})();return}if(s){y(s);const le=At.getUser(),I=(le==null?void 0:le.username)===s.username;Te(I),se(!1)}},[s,c]),b.useEffect(()=>{$e(Notification.permission==="granted")},[]);const $n=async()=>{try{if(T("loading"),ce){const Q=await Lt.unfollowUser(m.username,Ce);Q.success?(se(!1),y(le=>({...le,followersCount:Q.data.followersCount,followingCount:Q.data.followingCount})),T("success"),Ce&&(await Lt.getUserByUsername(Ce)).success):T("error")}else{const Q=await Lt.followUser(m.username,Ce);Q.success?(se(!0),y(le=>({...le,followersCount:Q.data.followersCount,followingCount:Q.data.followingCount})),T("success"),Ce&&(await Lt.getUserByUsername(Ce)).success):T("error")}}catch{T("error")}finally{setTimeout(()=>{T(null)},2e3)}};b.useEffect(()=>{m!=null&&m.username&&(ie(1),M(null),ft())},[m==null?void 0:m.username,ft]),b.useEffect(()=>{if(!(m!=null&&m.username))return;const Q=()=>{ft()},le=cn.getSocket();if(le)return le.on("refreshMessages",Q),()=>{le.off("refreshMessages",Q)}},[m==null?void 0:m.username,ft]),b.useEffect(()=>{m&&a[m.username]!==void 0&&y(Q=>({...Q,isOnline:a[m.username]}))},[a,m==null?void 0:m.username]);const yn=Q=>{const{name:le,value:I}=Q.target;rt(Ne=>({...Ne,[le]:I}))},Ii=async Q=>{Q.preventDefault();try{(await At.updateProfile(Ze)).success?(y({...m,...Ze}),U("Profile updated successfully!"),O(!1),Ze.darkMode!==m.darkMode&&window.location.reload()):M("Failed to update profile. Please try again.")}catch{M("An error occurred. Please try again.")}},ns=()=>{rt({username:m.username,email:m.email,profilePicture:m.profilePicture||"",coverColor:m.coverColor||"#1da1f2",bio:m.bio||"Just another gringo",darkMode:m.darkMode||!1,geolocationEnabled:m.geolocationEnabled||!1}),O(!1),M(null)},Vo=Q=>{if(!Q)return"Not available";try{const le=new Date(Q);if(isNaN(le.getTime()))return"Invalid date";const I={year:"numeric",month:"long"};return le.toLocaleDateString(void 0,I)}catch{return"Date format error"}},el=()=>{!window.allUserMessages||de||(he(!0),setTimeout(()=>{const Q=re+1,le=0,I=Q*Be,Ne=window.allUserMessages.slice(le,I);G(Ne),ie(Q),Le(window.allUserMessages.length>I),he(!1)},500))};b.useEffect(()=>{(async()=>{if(m!=null&&m.username)try{const le=await Lt.getUserLikes(m.username);le.success&&(X(le.totalLikes),le.topLikedMessages&&(le.topLikedMessages.forEach((I,Ne)=>{}),V(le.topLikedMessages)))}catch{}})()},[m==null?void 0:m.username,d]),b.useEffect(()=>{(async()=>{if(!(!(m!=null&&m.username)||ne!=="likes")){ge(!0),z(1),M(null);try{const le=At.getUser(),I=le?le.username:null,Ne=await Lt.getLikedMessages(m.username,I);if(!Ne.success){console.error("Error fetching liked messages:",Ne.message||"Unknown error"),M("Failed to load liked messages. Please try again.");return}if(!Ne.likedMessages||!Array.isArray(Ne.likedMessages)){console.error("Invalid response format when fetching liked messages:",Ne),M("Failed to load liked messages. Invalid server response in profile card");return}const qe=Ne.likedMessages;let _e=qe;Ae&&I&&(_e=qe.map(qt=>({...qt,likedByCurrentUser:!0})));const tt=_e.slice(0,Be);ae(tt),ee(_e.length>Be),window.allLikedMessages=_e}catch(le){console.error("Error in fetchLikedMessages:",le),M("Failed to load liked messages. Please try again.")}finally{ge(!1)}}})()},[m==null?void 0:m.username,ne,Be,d,Ae]),b.useEffect(()=>(document.body.setAttribute("data-page","profile"),window.refreshProfileData=()=>{ne==="likes"&&(console.log("Refreshing profile liked messages"),p(Date.now()))},()=>{document.body.removeAttribute("data-page"),delete window.refreshProfileData}),[ne]),b.useEffect(()=>{const Q=()=>{if(me.current){const le=me.current.getBoundingClientRect(),I=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-height"));le.top<=I?Oe||Ve(!0):Oe&&Ve(!1)}};return window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)},[Oe]);const Bt=()=>{setTimeout(()=>{U(null),M(null)},3e3)},Zo=async Q=>{var le;try{const I=((le=Q==null?void 0:Q.target)==null?void 0:le.checked)!==void 0?Q.target.checked:!Ze.darkMode;if(rt(qe=>({...qe,darkMode:I})),o){o(),U("Dark mode preference updated!"),Bt();return}if(w)return;U("Updating dark mode preference..."),(await At.updateProfile({darkMode:I})).success?(U("Dark mode preference updated!"),y(qe=>({...qe,darkMode:I})),I?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),Bt()):(M("Failed to update dark mode preference."),Bt())}catch{M("An error occurred while updating dark mode preference."),Bt()}};b.useEffect(()=>{(async()=>{if(!("Notification"in window)){$e(!1);return}const le=()=>{const I=Notification.permission;$e(I==="granted")};le();try{const I=await navigator.permissions.query({name:"notifications"});return I.addEventListener("change",()=>{le()}),()=>{I.removeEventListener("change",le)}}catch{const Ne=setInterval(()=>{le()},1e3);return()=>clearInterval(Ne)}})()},[]),b.useEffect(()=>{(async()=>{try{if(!("geolocation"in navigator)){rt(Ne=>({...Ne,geolocationEnabled:!1}));return}const le=async Ne=>{const qe=Ne==="granted";rt(_e=>_e.geolocationEnabled!==qe?(!qe&&(m!=null&&m.geolocationEnabled)&&At.updateProfile({geolocationEnabled:!1}).then(()=>{y(tt=>({...tt,geolocationEnabled:!1}))}).catch(console.error),{..._e,geolocationEnabled:qe}):_e)},I=await navigator.permissions.query({name:"geolocation"});return le(I.state),I.addEventListener("change",()=>{le(I.state)}),()=>{I.removeEventListener("change",()=>{le(I.state)})}}catch(le){console.error("Error checking geolocation status:",le),rt(I=>({...I,geolocationEnabled:!1}))}})()},[m]);const xa=async Q=>{var le;try{if(((le=Q==null?void 0:Q.target)==null?void 0:le.checked)!==void 0?Q.target.checked:!xe){if(!("Notification"in window)){M("Notifications are not supported in your browser."),$e(!1),Bt();return}const Ne=await Notification.requestPermission();if(Ne==="granted"){$e(!0),U("Notifications enabled successfully!");const qe=new Notification("Notifications Enabled",{body:"You will now receive notifications from GringoX",icon:"/logo.png"});setTimeout(()=>qe.close(),3e3)}else $e(!1),M(Ne==="denied"?"Please enable notifications in your browser settings to use this feature.":"Notification permission was not granted.")}else Notification.permission==="granted"?(M("To disable notifications completely, please use your browser settings. The toggle will remain enabled while browser permissions are granted."),$e(!0)):$e(!1);Bt()}catch(I){console.error("Error toggling notifications:",I),M("An error occurred while updating notification settings."),Bt()}},jt=async Q=>{var le;try{if(((le=Q==null?void 0:Q.target)==null?void 0:le.checked)!==void 0?Q.target.checked:!Ze.geolocationEnabled){if(!("geolocation"in navigator)){M("Geolocation is not supported in your browser."),rt(Ne=>({...Ne,geolocationEnabled:!1})),Bt();return}try{if((await navigator.permissions.query({name:"geolocation"})).state==="denied"){M("Please enable location access in your browser settings."),rt(_e=>({..._e,geolocationEnabled:!1})),Bt();return}await new Promise((_e,tt)=>{navigator.geolocation.getCurrentPosition(_e,tt,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})})&&(rt(_e=>({..._e,geolocationEnabled:!0})),w||(await At.updateProfile({geolocationEnabled:!0})).success&&(U("Location services enabled successfully!"),y(tt=>({...tt,geolocationEnabled:!0}))))}catch(Ne){let qe="Could not access your location. ";Ne.code===1?qe+="Please enable location access in your browser settings.":Ne.code===2?qe+="Position is unavailable.":Ne.code===3&&(qe+="Request timed out."),M(qe),rt(_e=>({..._e,geolocationEnabled:!1})),w||await At.updateProfile({geolocationEnabled:!1}),Bt();return}}else rt(Ne=>({...Ne,geolocationEnabled:!1})),w||(await At.updateProfile({geolocationEnabled:!1})).success&&(U("Location services disabled successfully!"),y(qe=>({...qe,geolocationEnabled:!1})));Bt()}catch(I){console.error("Error updating location settings:",I),M("An error occurred while updating location settings."),Bt()}};return h.jsxs("div",{className:`profile-container ${l?"dark-mode":""}`,children:[C&&h.jsx("div",{className:"profile-error",children:C}),A&&h.jsx("div",{className:"profile-success",children:A}),E?h.jsx("div",{className:"profile-loading",children:"Loading profile..."}):h.jsx(h.Fragment,{children:m&&h.jsx("div",{className:"profile-card",children:w?h.jsx("div",{className:"profile-form",children:h.jsxs("form",{onSubmit:Ii,children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"username",children:"Username"}),h.jsx("input",{type:"text",id:"username",name:"username",value:Ze.username,onChange:yn,required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"email",children:"Email"}),h.jsx("input",{type:"email",id:"email",name:"email",value:Ze.email,onChange:yn,required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"bio",children:"Bio"}),h.jsx("textarea",{id:"bio",name:"bio",value:Ze.bio,onChange:yn,placeholder:"Tell us about yourself",rows:"3"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"profilePicture",children:"Profile Picture URL"}),h.jsx("input",{type:"text",id:"profilePicture",name:"profilePicture",value:Ze.profilePicture,onChange:yn,placeholder:"https://example.com/your-image.jpg"}),Ze.profilePicture&&h.jsx("img",{src:Ze.profilePicture,alt:"Profile preview",className:"profile-preview",onError:Q=>{Q.target.style.display="none"}})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"coverColor",children:"Profile Cover Color"}),h.jsxs("div",{className:"color-picker-container",children:[h.jsx("input",{type:"color",id:"coverColor",name:"coverColor",value:Ze.coverColor,onChange:yn,className:"color-picker"}),h.jsx("span",{className:"color-value",children:Ze.coverColor})]}),h.jsx("div",{className:"color-palette",children:IS.map(Q=>h.jsx("button",{type:"button",className:`color-swatch ${Ze.coverColor===Q?"selected":""}`,style:{backgroundColor:Q},onClick:()=>rt({...Ze,coverColor:Q}),"aria-label":`Select color ${Q}`},Q))}),h.jsx("div",{className:"cover-preview",style:{backgroundColor:Ze.coverColor},children:h.jsx("span",{children:"Cover Preview"})})]}),h.jsxs("div",{className:"profile-settings-section",children:[h.jsx("h3",{children:"Account Settings"}),h.jsxs("div",{className:"profile-setting-item",children:[h.jsx("span",{className:"setting-label",children:"Dark Mode"}),h.jsxs("div",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:Ze.darkMode,onChange:Zo,id:"darkModeToggle"}),h.jsxs("label",{htmlFor:"darkModeToggle",className:"toggle-label",children:[h.jsx("span",{className:"toggle-icon",children:Ze.darkMode?h.jsx(mS,{}):h.jsx(SS,{})}),h.jsx("span",{className:"toggle-text",children:Ze.darkMode?"Dark Mode":"Light Mode"})]})]})]}),h.jsxs("div",{className:"profile-setting-item",children:[h.jsx("span",{className:"setting-label",children:"Geolocation"}),h.jsxs("div",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:Ze.geolocationEnabled,onChange:jt,id:"geolocationToggle"}),h.jsxs("label",{htmlFor:"geolocationToggle",className:"toggle-label",children:[h.jsx("span",{className:"toggle-icon",children:h.jsx(Ja,{})}),h.jsx("span",{className:"toggle-text",children:Ze.geolocationEnabled?"Location Enabled":"Location Disabled"})]})]})]}),h.jsxs("div",{className:"profile-setting-item",children:[h.jsx("span",{className:"setting-label",children:"Notifications"}),h.jsxs("div",{className:"toggle-switch",children:[h.jsx("input",{type:"checkbox",id:"notification-toggle",checked:xe,onChange:xa}),h.jsxs("label",{htmlFor:"notification-toggle",className:"toggle-label",children:[h.jsx("span",{className:"toggle-icon",children:xe?h.jsx(iS,{}):h.jsx(lS,{})}),h.jsx("span",{className:"toggle-text",children:xe?"Enabled":"Disabled"})]})]})]})]}),h.jsxs("div",{className:"profile-form-actions",children:[h.jsx("button",{type:"button",className:"cancel-button",onClick:ns,children:"Cancel"}),h.jsx("button",{type:"submit",className:"save-button",children:"Save"})]})]})}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"profile-cover",style:{backgroundColor:m.coverColor||"#1da1f2"},children:h.jsx("div",{className:"profile-avatar-container",children:m.profilePicture?h.jsx("img",{src:m.profilePicture,alt:`${m.username}'s avatar`,className:"profile-avatar",onError:Q=>{const le=Q.target.parentNode,I=document.createElement("div");I.className="avatar-placeholder profile-avatar",I.style.backgroundColor=qe(m.username),I.style.width="120px",I.style.height="120px",I.style.display="flex",I.style.alignItems="center",I.style.justifyContent="center",I.style.color="#fff",I.style.fontSize="48px",I.style.fontWeight="bold",I.style.borderRadius="50%",I.style.textTransform="uppercase";function Ne(_e){if(!_e)return"?";const tt=_e.split(/[\s_.-]+/);return tt.length===1?_e.substring(0,2).toUpperCase():(tt[0][0]+tt[Math.min(tt.length-1,1)][0]).toUpperCase()}function qe(_e){if(!_e)return"#6c757d";const tt=_e.split("").reduce((pt,Qe)=>Qe.charCodeAt(0)+((pt<<5)-pt),0),qt=["#2563EB","#059669","#DC2626","#D97706","#7C3AED","#DB2777","#4338CA","#059669","#0891B2","#EA580C"];return qt[Math.abs(tt)%qt.length]}I.innerText=Ne(m.username),le.replaceChild(I,Q.target)}}):h.jsx(Wa,{username:m.username,size:"120px",className:"profile-avatar"})})}),h.jsxs("div",{className:"profile-header",children:[h.jsxs("div",{className:"profile-username",children:[h.jsx("h2",{children:m.username}),h.jsx("span",{className:`status-badge ${m.isOnline?"online":"offline"}`,children:m.isOnline?"Online":"Offline"})]}),h.jsxs("div",{className:"profile-actions",children:[Ae&&h.jsx("button",{className:"edit-button",onClick:()=>O(!0),children:"Edit Profile"}),!Ae&&h.jsx("button",{className:`follow-button ${ce?"following":""}`,onClick:$n,disabled:be==="loading",children:be==="loading"?h.jsx("span",{className:"follow-button-spinner"}):ce?"Following":"Follow"})]})]}),h.jsx("div",{className:"profile-bio",children:h.jsx("p",{children:m.bio||"Just another gringo"})}),h.jsx("div",{className:"profile-details",children:h.jsxs("div",{className:"profile-field",children:[h.jsx("span",{className:"profile-label",children:"Joined:"}),h.jsx("span",{className:"profile-value",children:Vo(m.createdAt)})]})}),h.jsxs("div",{className:"profile-stats",children:[h.jsxs("div",{className:"stat",children:[h.jsx("span",{className:"stat-value",children:m.followersCount||0}),h.jsx("span",{className:"stat-label",children:"Followers"})]}),h.jsxs("div",{className:"stat stat-middle",children:[h.jsx("span",{className:"stat-value",children:m.followingCount||0}),h.jsx("span",{className:"stat-label",children:"Following"})]}),h.jsxs("div",{className:"stat",children:[h.jsx("span",{className:"stat-value",children:R||0}),h.jsx("span",{className:"stat-label",children:"Likes"})]})]}),h.jsxs("div",{ref:me,className:`profile-tabs ${Oe?"sticky":""}`,children:[h.jsx("div",{className:"profile-sticky-title",children:m.username}),h.jsxs("button",{className:`profile-tab ${ne==="messages"?"active":""}`,onClick:()=>we("messages"),children:[h.jsx(uS,{className:"tab-icon"}),h.jsx("span",{children:"Updates"})]}),h.jsxs("button",{className:`profile-tab ${ne==="likes"?"active":""}`,onClick:()=>we("likes"),children:[h.jsx(wo,{className:"tab-icon"}),h.jsx("span",{children:"Likes"})]})]}),h.jsxs("div",{className:"tab-content",children:[ne==="messages"&&h.jsx("div",{className:"user-messages-section",children:oe?h.jsx("div",{className:"loading-messages",children:"Loading messages..."}):H.length===0?h.jsx("p",{className:"no-messages",children:Ae?"You haven't posted any updates yet.":`${m.username} hasn't posted any updates yet.`}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"user-messages-list instagram-style",children:H.slice().sort((Q,le)=>new Date(le.createdAt)-new Date(Q.createdAt)).map(Q=>{var le,I,Ne,qe,_e;return h.jsxs("div",{className:"user-message-item facebook-style",children:[h.jsxs("div",{className:"message-header",children:[(le=Q.author)!=null&&le.profilePicture?h.jsx("img",{src:((I=Q.author)==null?void 0:I.profilePicture)||m.profilePicture,alt:`${((Ne=Q.author)==null?void 0:Ne.username)||m.username}'s avatar`,className:"message-avatar",onError:tt=>{var Ca;const qt=((Ca=Q.author)==null?void 0:Ca.username)||m.username,pt=tt.target.parentNode,Qe=document.createElement("div");Qe.className="avatar-placeholder message-avatar";function vn(An){if(!An)return"?";const Sn=An.split(/[\s_.-]+/);return Sn.length===1?An.substring(0,2).toUpperCase():(Sn[0][0]+Sn[Math.min(Sn.length-1,1)][0]).toUpperCase()}function as(An){if(!An)return"#6c757d";const Sn=An.split("").reduce((tl,nl)=>nl.charCodeAt(0)+((tl<<5)-tl),0),Qn=["#2563EB","#059669","#DC2626","#D97706","#7C3AED","#DB2777","#4338CA","#059669","#0891B2","#EA580C"];return Qn[Math.abs(Sn)%Qn.length]}Qe.style.backgroundColor=as(qt),Qe.style.width="40px",Qe.style.height="40px",Qe.style.display="flex",Qe.style.alignItems="center",Qe.style.justifyContent="center",Qe.style.color="#fff",Qe.style.fontSize="16px",Qe.style.fontWeight="bold",Qe.style.borderRadius="50%",Qe.style.textTransform="uppercase",Qe.innerText=vn(qt),pt.replaceChild(Qe,tt.target)}}):h.jsx(Wa,{username:((qe=Q.author)==null?void 0:qe.username)||m.username,size:"40px",className:"message-avatar"}),h.jsx("div",{className:"message-author-info",children:h.jsx("span",{className:"message-author",children:((_e=Q.author)==null?void 0:_e.username)||m.username})}),h.jsx("span",{className:"message-timestamp-right",children:Ru(Q.createdAt)})]}),h.jsxs("div",{className:"message-content-square",children:[Q.image&&h.jsx("img",{src:Q.image,alt:"Message",className:"message-image"}),h.jsx("p",{className:"message-text-bold",children:ku(Q.text)})]}),h.jsxs("div",{className:"message-actions",children:[h.jsxs("div",{className:"likes-count",children:[h.jsx(wo,{className:`heart-icon ${Q.likedByCurrentUser?"liked-by-user":""}`})," ",Q.likesCount||0]}),h.jsxs("div",{className:"message-action-buttons",children:[Q.location?h.jsxs("button",{className:"location-button",onClick:()=>alert(`Location: ${Q.location.latitude.toFixed(6)}, ${Q.location.longitude.toFixed(6)}`),children:[h.jsx(Ja,{className:"location-icon"})," View Location"]}):h.jsx("div",{className:"location-placeholder"}),Ae&&h.jsxs("button",{className:"delete-button",onClick:()=>handleDeleteMessage(Q._id),"aria-label":"Delete post",children:[h.jsx(jg,{className:"delete-icon"})," Delete"]})]})]})]},Q._id)})}),ue&&h.jsx("div",{className:"load-more-container",children:h.jsx("button",{className:"load-more-button",onClick:el,disabled:de,children:de?"Loading...":"Load More Updates"})})]})}),ne==="likes"&&h.jsxs("div",{className:"user-messages-section",children:[h.jsxs("h3",{className:"section-title",children:["Messages ",m.username," Liked"]}),Ee?h.jsx("div",{className:"loading-messages",children:"Loading liked messages..."}):fe.length===0?h.jsx("p",{className:"no-messages",children:Ae?"You haven't liked any messages yet.":`${m.username} hasn't liked any messages yet.`}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"user-messages-list instagram-style",children:fe.map(Q=>{var le;return h.jsxs("div",{className:"user-message-item facebook-style",children:[h.jsxs("div",{className:"message-header",children:[(le=Q.author)!=null&&le.profilePicture?h.jsx("img",{src:Q.author.profilePicture,alt:`${Q.author.username}'s avatar`,className:"message-avatar",onError:I=>{const Ne=Q.author.username,qe=I.target.parentNode,_e=document.createElement("div");_e.className="avatar-placeholder message-avatar";function tt(pt){if(!pt)return"?";const Qe=pt.split(/[\s_.-]+/);return Qe.length===1?pt.substring(0,2).toUpperCase():(Qe[0][0]+Qe[Math.min(Qe.length-1,1)][0]).toUpperCase()}function qt(pt){if(!pt)return"#6c757d";const Qe=pt.split("").reduce((as,Ca)=>Ca.charCodeAt(0)+((as<<5)-as),0),vn=["#2563EB","#059669","#DC2626","#D97706","#7C3AED","#DB2777","#4338CA","#059669","#0891B2","#EA580C"];return vn[Math.abs(Qe)%vn.length]}_e.style.backgroundColor=qt(Ne),_e.style.width="40px",_e.style.height="40px",_e.style.display="flex",_e.style.alignItems="center",_e.style.justifyContent="center",_e.style.color="#fff",_e.style.fontSize="16px",_e.style.fontWeight="bold",_e.style.borderRadius="50%",_e.style.textTransform="uppercase",_e.innerText=tt(Ne),qe.replaceChild(_e,I.target)}}):h.jsx(Wa,{username:Q.author.username,size:"40px",className:"message-avatar"}),h.jsx("div",{className:"message-author-info",children:h.jsx("span",{className:"message-author",onClick:()=>f(`/profile/${Q.author.username}`),style:{cursor:"pointer"},children:Q.author.username})}),h.jsx("span",{className:"message-timestamp-right",children:Ru(Q.createdAt)})]}),h.jsxs("div",{className:"message-content-square",children:[Q.image&&h.jsx("img",{src:Q.image,alt:"Message",className:"message-image"}),h.jsx("p",{className:"message-text-bold",children:ku(Q.text)})]}),h.jsxs("div",{className:"message-actions",children:[h.jsxs("div",{className:"likes-count",children:[h.jsx(wo,{className:`heart-icon ${Q.likedByCurrentUser||Ae&&ne==="likes"?"liked-by-user":""}`})," ",Q.likesCount||0]}),Q.location&&Q.location.latitude&&Q.location.longitude?h.jsxs("button",{className:"location-button",onClick:()=>alert(`Location: ${Q.location.latitude.toFixed(6)}, ${Q.location.longitude.toFixed(6)}`),children:[h.jsx(Ja,{className:"location-icon"})," View Location"]}):h.jsx("div",{className:"location-placeholder"})]})]},Q.id)})}),B&&h.jsx("div",{className:"load-more-container",children:h.jsx("button",{className:"load-more-button",onClick:handleLoadMoreLikedMessages,disabled:Z,children:Z?"Loading...":"Load More Likes"})})]})]})]})]})})})]})};Ro.propTypes={user:P.shape({username:P.string,email:P.string,profilePicture:P.string,coverColor:P.string,bio:P.string,darkMode:P.bool,geolocationEnabled:P.bool,followersCount:P.number,followingCount:P.number,isOnline:P.bool}),onlineUsers:P.object,isDarkMode:P.bool,toggleDarkMode:P.func};Ro.defaultProps={user:null,onlineUsers:{},isDarkMode:!1,toggleDarkMode:null};const Kg=({user:s,onlineUsers:a,messages:l,handleSocketMessage:o,isConnected:c,connectionError:f,handleLogout:d,userLocation:p,isDarkMode:m,toggleDarkMode:y,notifications:E,onClearNotifications:S,isLoading:w,canUserSendMessage:O,getTimeRemainingBeforeNextMessage:C,handleRefreshMap:M})=>{const[A,U]=b.useState(!1),[H,G]=b.useState(!1),[oe,$]=b.useState(0),[de,he]=b.useState(null),re=()=>U(!1),ie=()=>{G(!1),de&&(clearInterval(de),he(null))},ue=Ae=>{const Te=Math.floor(Ae/6e4),Ce=Math.floor(Ae%6e4/1e3);return`${Te}:${Ce<10?"0":""}${Ce}`},Le=()=>{if(O())U(!0);else{const Ae=C();$(Ae),G(!0);const Te=setInterval(()=>{$(Ce=>{const J=Math.max(0,Ce-1e3);return J<=0?(clearInterval(Te),G(!1),0):J})},1e3);he(Te)}},Be=async(Ae,Te)=>{const Ce=await o(Ae,Te);if(Ce&&Ce.error){const J=Ce.timeRemaining||C();$(J),G(!0),re();const ce=setInterval(()=>{$(se=>{const be=Math.max(0,se-1e3);return be<=0?(clearInterval(ce),G(!1),0):be})},1e3);return he(ce),!1}return re(),!0};return b.useEffect(()=>()=>{de&&clearInterval(de)},[de]),h.jsxs("div",{className:`app ${m?"dark-mode":""}`,children:[h.jsx(zg,{onLogout:d,isDarkMode:m,toggleDarkMode:y,notifications:E,onClearNotifications:S}),f&&h.jsx("div",{className:"connection-error",children:f}),h.jsxs(Xm,{children:[h.jsx(Sa,{path:"/profile",element:h.jsx(Ro,{user:s,onlineUsers:a,isDarkMode:m,toggleDarkMode:y})}),h.jsx(Sa,{path:"/profile/:username",element:h.jsx(Ro,{onlineUsers:a,isDarkMode:m,toggleDarkMode:y})}),h.jsx(Sa,{path:"/auth",element:h.jsx(Fm,{to:"/",replace:!0})}),h.jsx(Sa,{path:"/",element:h.jsxs(h.Fragment,{children:[h.jsx("main",{className:`app-main ${m?"dark-mode":""}`,children:h.jsx("div",{className:`tab-content ${m?"dark-mode":""}`,children:h.jsx(Qu,{messages:l,currentUsername:s?s.username:null,onlineUsers:a,userLocation:p,isDarkMode:m,isLoading:w,onRefreshMap:M,onOpenModal:Le})})}),h.jsx(Pu,{isOpen:A,onClose:re,onShareUpdate:Be,disabled:!c||!s,placeholder:"What's happening around?",isDarkMode:m}),H&&h.jsx("div",{className:"message-modal-overlay",onClick:ie,children:h.jsxs("div",{className:`message-modal ${m?"dark-mode":""}`,onClick:Ae=>Ae.stopPropagation(),children:[h.jsxs("div",{className:"message-modal-header",children:[h.jsx("h3",{children:"Please Wait"}),h.jsx("button",{className:"close-button",onClick:ie,children:""})]}),h.jsxs("div",{className:"message-modal-form",style:{padding:"20px",textAlign:"center"},children:[h.jsx("p",{children:"You can only share an update once every 30 minutes."}),h.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",margin:"20px 0",color:m?"var(--dark-text)":"var(--text-color)"},children:ue(oe)}),h.jsx("p",{children:"Time remaining before you can share another update."})]}),h.jsx("div",{className:"message-modal-footer",children:h.jsx("button",{type:"button",className:"cancel-button",onClick:ie,style:{margin:"20px auto"},children:"Close"})})]})})]})})]})]})};Kg.propTypes={user:P.object,onlineUsers:P.object,messages:P.array,handleSocketMessage:P.func.isRequired,isConnected:P.bool,connectionError:P.string,handleLogout:P.func.isRequired,userLocation:P.object,isDarkMode:P.bool.isRequired,toggleDarkMode:P.func.isRequired,notifications:P.array,onClearNotifications:P.func,isLoading:P.bool,canUserSendMessage:P.func,getTimeRemainingBeforeNextMessage:P.func,handleRefreshMap:P.func};const Jg="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3clinearGradient%20id='logoGradient'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20stop-color='%231da1f2'%20/%3e%3cstop%20offset='100%25'%20stop-color='%236c5ce7'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M16%202C10.48%202%206%206.48%206%2012C6%2019.5%2016%2030%2016%2030C16%2030%2026%2019.5%2026%2012C26%206.48%2021.52%202%2016%202ZM16%2016C13.79%2016%2012%2014.21%2012%2012C12%209.79%2013.79%208%2016%208C18.21%208%2020%209.79%2020%2012C20%2014.21%2018.21%2016%2016%2016Z'%20fill='url(%23logoGradient)'/%3e%3ccircle%20cx='16'%20cy='12'%20r='4'%20fill='%23FFFFFF'/%3e%3c/svg%3e",Ju=({onLoginSuccess:s,isDarkMode:a})=>{const[l,o]=b.useState(""),[c,f]=b.useState(""),[d,p]=b.useState(""),[m,y]=b.useState(!1),E=async S=>{if(S.preventDefault(),console.log("Login form submitted with username:",l),!l.trim()||!c.trim()){p("Please enter both username and password");return}y(!0),p("");try{console.log("Calling authService.login...");const w=await At.login({credential:l,password:c});console.log("Login result:",w),w.success?(console.log("Login successful, calling onLoginSuccess with user:",w.data.user),s(w.data.user)):(console.error("Login failed:",w.message),p(w.message||"Login failed"))}catch(w){console.error("Error during login:",w),p(w.message||"An error occurred during login")}finally{y(!1)}};return h.jsxs("form",{className:`auth-form ${a?"dark-mode":""}`,onSubmit:E,children:[d&&h.jsx("div",{className:"form-error",children:d}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"username",children:"Username"}),h.jsx("input",{type:"text",id:"username",className:"form-control",value:l,onChange:S=>o(S.target.value),disabled:m,autoComplete:"username"})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"password",children:"Password"}),h.jsx("input",{type:"password",id:"password",className:"form-control",value:c,onChange:S=>f(S.target.value),disabled:m,autoComplete:"current-password"})]}),h.jsx("button",{type:"submit",className:"auth-button",disabled:m,children:m?"Logging in...":"Login"})]})};Ju.propTypes={onLoginSuccess:P.func.isRequired,isDarkMode:P.bool};Ju.defaultProps={isDarkMode:!1};const Wu=({onRegisterSuccess:s,onCancel:a,isDarkMode:l})=>{const[o,c]=b.useState(""),[f,d]=b.useState(""),[p,m]=b.useState(""),[y,E]=b.useState(""),[S,w]=b.useState({}),[O,C]=b.useState(!1),[M,A]=b.useState(""),U=()=>{const G={};return o.trim()?o.length<3&&(G.username="Username must be at least 3 characters"):G.username="Username is required",f.trim()?/\S+@\S+\.\S+/.test(f)||(G.email="Email is invalid"):G.email="Email is required",p?p.length<6&&(G.password="Password must be at least 6 characters"):G.password="Password is required",p!==y&&(G.confirmPassword="Passwords do not match"),w(G),Object.keys(G).length===0},H=async G=>{if(G.preventDefault(),!!U()){C(!0),A("");try{const oe=await At.register({username:o,email:f,password:p});oe.success?s():A(oe.message||"Registration failed")}catch(oe){A(oe.message||"An error occurred during registration")}finally{C(!1)}}};return h.jsxs("form",{className:`auth-form ${l?"dark-mode":""}`,onSubmit:H,children:[M&&h.jsx("div",{className:"form-error",children:M}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"username",children:"Username"}),h.jsx("input",{type:"text",id:"username",className:"form-control",value:o,onChange:G=>c(G.target.value),disabled:O}),S.username&&h.jsx("div",{className:"error-message",children:S.username})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"email",children:"Email"}),h.jsx("input",{type:"email",id:"email",className:"form-control",value:f,onChange:G=>d(G.target.value),disabled:O}),S.email&&h.jsx("div",{className:"error-message",children:S.email})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"password",children:"Password"}),h.jsx("input",{type:"password",id:"password",className:"form-control",value:p,onChange:G=>m(G.target.value),disabled:O}),S.password&&h.jsx("div",{className:"error-message",children:S.password})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),h.jsx("input",{type:"password",id:"confirmPassword",className:"form-control",value:y,onChange:G=>E(G.target.value),disabled:O}),S.confirmPassword&&h.jsx("div",{className:"error-message",children:S.confirmPassword})]}),h.jsx("button",{type:"submit",className:"auth-button",disabled:O,children:O?"Registering...":"Register"})]})};Wu.propTypes={onRegisterSuccess:P.func.isRequired,onCancel:P.func.isRequired,isDarkMode:P.bool};Wu.defaultProps={isDarkMode:!1};const ko=({onAuthSuccess:s,isDarkMode:a})=>{const[l,o]=b.useState("login"),[c,f]=b.useState(!1),d=es();return b.useEffect(()=>{new URLSearchParams(d.search).get("tab")==="register"&&o("register")},[d.search]),b.useEffect(()=>{const p=()=>{f(window.scrollY>20)};return window.addEventListener("scroll",p),p(),()=>window.removeEventListener("scroll",p)},[]),h.jsxs("div",{className:`auth-container ${a?"dark-mode":""}`,children:[h.jsx("div",{className:`auth-navbar ${c?"scrolled":""}`,children:h.jsxs("div",{className:"auth-navbar-content",children:[h.jsx(Fi,{to:"/",className:"back-to-home",children:" Home"}),h.jsxs("div",{className:"auth-logo",children:[h.jsx("img",{src:Jg,alt:"Gringo Logo"}),h.jsx("h1",{children:"Gringo"})]})]})}),h.jsxs("div",{className:"auth-content",children:[h.jsxs("div",{className:"auth-tabs",children:[h.jsx("button",{className:`auth-tab ${l==="login"?"active":""}`,onClick:()=>o("login"),children:"Login"}),h.jsx("button",{className:`auth-tab ${l==="register"?"active":""}`,onClick:()=>o("register"),children:"Register"})]}),l==="login"?h.jsx(Ju,{onLoginSuccess:s,isDarkMode:a}):h.jsx(Wu,{onRegisterSuccess:()=>o("login"),onCancel:()=>o("login"),isDarkMode:a})]})]})};ko.propTypes={onAuthSuccess:P.func.isRequired,isDarkMode:P.bool};ko.defaultProps={isDarkMode:!1};const eb=()=>{const[s,a]=b.useState(navigator.onLine);return b.useEffect(()=>{const l=()=>a(!0),o=()=>a(!1);return window.addEventListener("online",l),window.addEventListener("offline",o),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",o)}},[]),s?null:h.jsx("div",{className:"offline-fallback",children:h.jsxs("div",{className:"offline-content",children:[h.jsx("h2",{children:"You're offline"}),h.jsx("p",{children:"Please check your internet connection to continue using Gringo."}),h.jsx("div",{className:"offline-icon",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",fill:"currentColor",viewBox:"0 0 16 16",children:h.jsx("path",{d:"M10.706 3.294A12.545 12.545 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c.63 0 1.249.05 1.852.148l.854-.854zM8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065 8.448 8.448 0 0 1 4.577-1.336c.293 0 .582.014.866.042l.895-.895A7.444 7.444 0 0 0 8 6Zm-2.65 5.625a2.53 2.53 0 0 1 1.337-.694l1.313-1.313a2.52 2.52 0 0 0-.546-.06c-1.28 0-2.316.952-2.316 2.128a2.13 2.13 0 0 0 .212.939l.002-.002zM9 8.5a1.5 1.5 0 0 1 1.5-1.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1A1.5 1.5 0 0 1 9 8.5zm1.5-1.5A1.5 1.5 0 0 0 9 8.5v1A1.5 1.5 0 0 0 10.5 11h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H11zM5 0a.5.5 0 0 1 .5.5.5.5 0 0 1-.5.5A4.5 4.5 0 0 0 .5 5.5a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5A5.5 5.5 0 0 1 5 0z"})})})]})})},tb=()=>{const[s,a]=b.useState(null),[l,o]=b.useState(!1);b.useEffect(()=>{const d=m=>{m.preventDefault(),a(m),o(!0)};return window.matchMedia("(display-mode: standalone)").matches||window.addEventListener("beforeinstallprompt",d),()=>{window.removeEventListener("beforeinstallprompt",d)}},[]);const c=async()=>{if(!s)return;s.prompt();const{outcome:d}=await s.userChoice;console.log(`User response to the install prompt: ${d}`),a(null),o(!1)},f=()=>{o(!1)};return l?h.jsxs("div",{className:"pwa-install-prompt",children:[h.jsxs("div",{children:[h.jsx("strong",{children:"Install GringoX"}),h.jsx("p",{children:"Install this app on your device for the best experience"})]}),h.jsxs("div",{children:[h.jsx("button",{onClick:c,children:"Install"}),h.jsx("button",{className:"close-btn",onClick:f,children:""})]})]}):null},nb=()=>{const s=b.useRef(null);return b.useEffect(()=>{const a=s.current,l=a.getContext("2d");let o,c=[];const f=()=>{a.width=a.clientWidth,a.height=a.clientHeight,d()},d=()=>{const m=Math.floor(a.width*a.height/15e3);c=Array(m).fill().map(()=>({x:Math.random()*a.width,y:Math.random()*a.height,radius:3+Math.random()*3,color:`rgba(29, 161, 242, ${.3+Math.random()*.7})`,speedX:Math.random()*2-1,speedY:Math.random()*2-1,pulseSpeed:.02+Math.random()*.04,pulseDir:1,pulseSize:0}))},p=()=>{l.clearRect(0,0,a.width,a.height),l.fillStyle="rgba(29, 161, 242, 0.05)",l.fillRect(0,0,a.width,a.height),c.forEach(m=>{m.x+=m.speedX,m.y+=m.speedY,(m.x<0||m.x>a.width)&&(m.speedX*=-1),(m.y<0||m.y>a.height)&&(m.speedY*=-1),m.pulseSize+=m.pulseSpeed*m.pulseDir,m.pulseSize>1?m.pulseDir=-1:m.pulseSize<0&&(m.pulseDir=1),l.beginPath(),l.arc(m.x,m.y,m.radius*(1+m.pulseSize*.5),0,Math.PI*2),l.fillStyle=m.color,l.fill(),c.forEach(y=>{const E=m.x-y.x,S=m.y-y.y,w=Math.sqrt(E*E+S*S);w<100&&(l.beginPath(),l.moveTo(m.x,m.y),l.lineTo(y.x,y.y),l.strokeStyle=`rgba(29, 161, 242, ${.1*(1-w/100)})`,l.stroke())})}),o=requestAnimationFrame(p)};return window.addEventListener("resize",f),f(),p(),()=>{window.removeEventListener("resize",f),cancelAnimationFrame(o)}},[]),h.jsx("canvas",{ref:s,className:"animated-map"})},$a=({icon:s,title:a,description:l})=>h.jsxs("div",{className:"feature-item",children:[h.jsx("div",{className:"feature-icon",children:s}),h.jsx("h3",{children:a}),h.jsx("p",{children:l})]});$a.propTypes={icon:P.node.isRequired,title:P.string.isRequired,description:P.string.isRequired};const Iu=({isDarkMode:s})=>{const[a,l]=b.useState(!1);return b.useEffect(()=>{const o=()=>{l(window.scrollY>20)};return window.addEventListener("scroll",o),o(),()=>window.removeEventListener("scroll",o)},[]),h.jsxs("div",{className:`landing-page ${s?"dark-mode":""}`,children:[h.jsxs("header",{className:`landing-header ${a?"scrolled":""}`,children:[h.jsxs("div",{className:"landing-logo",children:[h.jsx("img",{src:Jg,alt:"Gringo Logo"}),h.jsx("h1",{children:"Gringo"})]}),h.jsxs("nav",{className:"landing-nav",children:[h.jsx(Fi,{to:"/auth",className:"auth-button login-button",children:"Login"}),h.jsx(Fi,{to:"/auth?tab=register",className:"auth-button register-button",children:"Sign Up"})]})]}),h.jsxs("div",{className:"content-container",children:[h.jsxs("section",{className:"hero-section",children:[h.jsxs("div",{className:"hero-content",children:[h.jsx("h1",{children:"Discover what's happening around you, right now"}),h.jsx("p",{children:"Gringo connects you with real-time updates and experiences from people nearby. Share moments, discover local gems, and connect with your community."}),h.jsx(Fi,{to:"/auth?tab=register",className:"hero-button",children:"Get Started"})]}),h.jsx("div",{className:"hero-visual",children:h.jsx(nb,{})})]}),h.jsxs("section",{className:"features-section",children:[h.jsx("h2",{children:"Why Choose Gringo?"}),h.jsxs("div",{className:"features-grid",children:[h.jsx($a,{icon:"",title:"Real-time Geolocation",description:"Discover what's happening near you right now with precise location tracking."}),h.jsx($a,{icon:"",title:"Mobile-First Experience",description:"Designed for on-the-go usage with a responsive interface that works on any device."}),h.jsx($a,{icon:"",title:"Instant Notifications",description:"Stay updated with real-time alerts about activity in your area."}),h.jsx($a,{icon:"",title:"Connect Locally",description:"Build connections with people and places in your community."}),h.jsx($a,{icon:"",title:"Rich Media Sharing",description:"Share photos and videos of what's happening around you."}),h.jsx($a,{icon:"",title:"Privacy Controls",description:"Choose how and when to share your location with customizable privacy settings."})]})]}),h.jsx("section",{className:"cta-section",children:h.jsxs("div",{className:"cta-content",children:[h.jsx("h2",{children:"Ready to explore your world?"}),h.jsx("p",{children:"Join thousands of users already discovering and sharing exciting moments around them."}),h.jsx(Fi,{to:"/auth?tab=register",className:"cta-button",children:"Create Your Account"})]})}),h.jsx("footer",{className:"landing-footer",children:h.jsxs("div",{className:"footer-content",children:[h.jsxs("p",{children:[" ",new Date().getFullYear()," Gringo. All rights reserved."]}),h.jsxs("div",{className:"footer-links",children:[h.jsx("a",{href:"#",children:"Privacy Policy"}),h.jsx("a",{href:"#",children:"Terms of Service"}),h.jsx("a",{href:"#",children:"Contact Us"})]})]})})]})]})};Iu.propTypes={isDarkMode:P.bool};Iu.defaultProps={isDarkMode:!1};const ab=(s=[])=>{console.log("Creating fallback location from messages array");const a=s.filter(l=>l.location&&l.location.latitude&&l.location.longitude);if(a.length>0){console.log("Found location in existing messages");const l=a[a.length-1];return{latitude:l.location.latitude,longitude:l.location.longitude,fuzzyLocation:!0}}return console.log("No message locations found, using default location"),{latitude:40.7128,longitude:-74.006,fuzzyLocation:!0}},sb=s=>{if(!s)return null;const a=(Math.random()-.5)*.003,l=(Math.random()-.5)*.003;return{latitude:s.latitude+a,longitude:s.longitude+l,fuzzyLocation:!0}},ib=(s,a=!0)=>{if(!s)return null;if(!a)return{latitude:s.latitude,longitude:s.longitude,fuzzyLocation:!1};const l=(Math.random()-.5)*.01,o=(Math.random()-.5)*.01;return{latitude:s.latitude+l,longitude:s.longitude+o,fuzzyLocation:!0}},lb=(s,a)=>{const l=s.filter(c=>new Date(c.timestamp)>=a),o=s.length-l.length;return o>0&&console.log(`Removed ${o} old messages`),l},ob=s=>s.sender==="System"||s.sender==="Server"?null:{id:Date.now(),sender:s.sender,preview:s.messagePreview,timestamp:s.timestamp||new Date,read:!1,type:"message",data:s};function rb(){const[s,a]=b.useState(null),[l,o]=b.useState(!0),[c,f]=b.useState([]),[d,p]=b.useState({}),[m,y]=b.useState(!1),[E,S]=b.useState(null),[w,O]=b.useState(null),[C,M]=b.useState(!1),[A,U]=b.useState([]),[H,G]=b.useState(Date.now()),{isOffline:oe}=b.useContext(Ku),$=b.useRef(c),de=b.useRef(d),he=b.useRef(s),re=b.useRef(A),ie=b.useCallback(()=>{G(Date.now())},[]),ue=b.useRef(null),Le=b.useRef(ie);b.useEffect(()=>{$.current=c,de.current=d,he.current=s,re.current=A,Le.current=ie},[c,d,s,A,ie]);const Be=b.useCallback(Z=>{window.location.href=`/profile/${Z}`},[]),Ae=b.useCallback((Z,te,ye,z=new Date,B=null,ee=null,ne=null)=>{if(Z==="System"||Z==="Server"){console.log(`System message: ${te}`);return}f(me=>{const Oe={sender:Z,content:te,timestamp:z,isReceived:ye,location:B||null,dbId:ee||null,image:ne||null},Ve=[...me,Oe].sort(($e,Ze)=>new Date(Ze.timestamp)-new Date($e.timestamp)),xe=new Date;return xe.setDate(xe.getDate()-1),lb(Ve,xe)})},[]),Te={IDLE:"idle",FETCHING:"fetching",SUCCESS:"success",ERROR:"error"},[Ce,J]=b.useState(0),[ce,se]=b.useState(Te.IDLE),be=b.useCallback(async(Z=0,te=!1)=>{if(oe){console.log(" fetchMessagesWithoutReset: Offline, skipping message fetch");return}if(ce===Te.FETCHING&&!te){console.log(" fetchMessagesWithoutReset: Already fetching messages, skipping this request");return}const ye=Date.now(),z=ye-Ce;if(z<1e4&&Z===0&&!te){console.log(` fetchMessagesWithoutReset: Skipping fetch - too soon (${z}ms since last fetch)`);return}J(ye),se(Te.FETCHING);const ee=parseInt(sessionStorage.getItem("messageFetchCount")||"0");sessionStorage.setItem("messageFetchCount",(ee+1).toString()),console.log(` fetchMessagesWithoutReset: Starting to fetch messages (Count: ${ee+1})`);try{o(!0),console.log(" fetchMessagesWithoutReset: About to call apiService.getMessages()");const ne=await Lt.getMessages();if(console.log(" fetchMessagesWithoutReset: Response received:",ne),ne&&ne.success){if(console.log(" fetchMessagesWithoutReset: Response was successful"),se(Te.SUCCESS),ne.messages&&Array.isArray(ne.messages)){console.log(` fetchMessagesWithoutReset: Found ${ne.messages.length} messages in response`);const we=ne.messages.map(xe=>{let $e;try{xe.createdAt?typeof xe.createdAt=="string"?$e=new Date(xe.createdAt):xe.createdAt.$date?$e=new Date(xe.createdAt.$date):$e=new Date(xe.createdAt):xe.timestamp?$e=new Date(xe.timestamp):$e=new Date,isNaN($e.getTime())&&(console.log(" Invalid timestamp for message:",xe),$e=new Date)}catch(Ze){console.error(" Error parsing timestamp:",Ze),$e=new Date}return{dbId:xe._id||xe.id||xe.messageId||null,sender:xe.senderUsername||xe.sender||"Unknown",content:xe.text||xe.content||"",timestamp:$e,image:xe.image||null,location:xe.location||null,likesCount:xe.likesCount||(xe.likes?xe.likes.length:0)||0,likedByCurrentUser:xe.likedByCurrentUser||!1,isReceived:!0}});console.log(" Formatted messages for MapView:",we);const me=new Date(Date.now()-30*60*1e3),Oe=we.filter(xe=>(xe.timestamp instanceof Date?xe.timestamp:new Date(xe.timestamp))>=me);console.log(` Filtered to ${Oe.length} messages from the last 30 minutes (out of ${we.length} total)`);const Ve=Oe.filter(xe=>xe.location&&xe.location.latitude&&xe.location.longitude);console.log(` fetchMessagesWithoutReset: ${Ve.length} out of ${Oe.length} messages have valid location data`),Ve.length>0?console.log(" fetchMessagesWithoutReset: Example message with location:",Ve[0]):console.log(" fetchMessagesWithoutReset: No messages with location found."),f(xe=>{if(xe.length===Oe.length){const $e=new Set(xe.map(rt=>rt.dbId)),Ze=new Set(Oe.map(rt=>rt.dbId));if($e.size===Ze.size&&[...$e].every(rt=>Ze.has(rt))&&!Oe.some(ft=>{const $n=xe.find(yn=>yn.dbId===ft.dbId);return $n?$n.content!==ft.content||$n.likesCount!==ft.likesCount||$n.likedByCurrentUser!==ft.likedByCurrentUser:!0}))return console.log(" fetchMessagesWithoutReset: No changes in messages, preventing re-render"),xe}return console.log(" fetchMessagesWithoutReset: Setting messages state with filtered data"),Oe})}else if(console.log(" fetchMessagesWithoutReset: No messages array in response or empty array",ne.messages),Z<2){console.log(` fetchMessagesWithoutReset: Retrying (attempt ${Z+1})`),setTimeout(()=>be(Z+1),1e3);return}ne.onlineUsers?(console.log(" fetchMessagesWithoutReset: Setting onlineUsers state"),p(ne.onlineUsers)):console.log(" fetchMessagesWithoutReset: No onlineUsers in response"),console.log(" fetchMessagesWithoutReset: Updating messages timestamp"),ie()}else if(console.error(" fetchMessagesWithoutReset: Response was not successful",ne),se(Te.ERROR),Z<1){console.log(` fetchMessagesWithoutReset: Retrying after error (attempt ${Z+1})`),setTimeout(()=>be(Z+1),5e3);return}}catch(ne){if(console.error(" fetchMessagesWithoutReset: Error fetching messages:",ne),se(Te.ERROR),ne.response&&ne.response.status===429){console.warn(" fetchMessagesWithoutReset: Rate limited (429), backing off");return}if(Z<1){console.log(` fetchMessagesWithoutReset: Retrying after exception (attempt ${Z+1})`),setTimeout(()=>be(Z+1),5e3);return}}finally{console.log(" fetchMessagesWithoutReset: Finished, setting loading state to false"),o(!1)}},[oe,ie,Ce,ce]);b.useEffect(()=>{ue.current=be},[be]),b.useEffect(()=>{const Z="socket_connection_attempt_count",te="socket_last_connection_time";if(!s||m)return;const B=parseInt(sessionStorage.getItem(Z)||"0"),ee=parseInt(sessionStorage.getItem(te)||"0"),ne=Date.now();if(ne-ee>3e4)sessionStorage.setItem(Z,"0");else if(B>=3){console.log(` Socket: Too many connection attempts (${B}), cooling down`);return}sessionStorage.setItem(Z,(B+1).toString()),sessionStorage.setItem(te,ne.toString()),console.log(" Socket: Checking server status before connecting");try{const we={onConnect:()=>{console.log(" Socket: Connected successfully"),y(!0),S(null)},onConnectError:me=>{console.error(" Socket: Connection error:",me),y(!1),S("Could not connect to server. Retrying...")},onDisconnect:me=>{console.log(" Socket: Disconnected, reason:",me),y(!1)},onAuthenticated:me=>{console.log(" Socket: Authentication successful:",me),Date.now()-Ce>5e3&&ce!==Te.FETCHING?(console.log(" Socket: Fetching messages after authentication"),be()):console.log(" Socket: Skipping message fetch after authentication - recent fetch already in progress")},onAuthenticationFailed:me=>{console.error(" Socket: Authentication failed:",me),S("Authentication failed. Please log in again."),me&&me.error==="Invalid authentication token"&&X()},onWelcome:me=>{console.log(" Socket: Received welcome message:",me)},onNewMessage:me=>{console.log(" Socket: Received new message event:",me)},onMessageAck:me=>{console.log(" Socket: Message acknowledgment received:",me),me&&me.dbId&&f(Oe=>Oe.map(Ve=>{const xe=new Date(Ve.timestamp).getTime(),$e=new Date(me.timestamp).getTime(),Ze=Math.abs(xe-$e);return!Ve.dbId&&Ve.sender===(s==null?void 0:s.username)&&Ze<1e4?(console.log(" Socket: Updating temporary message with server ID:",me.dbId),{...Ve,dbId:me.dbId}):Ve}))},onRefreshMessages:()=>{console.log(" Socket: Processing refreshMessages signal - updating data");const Oe=Date.now()-Ce;ce!==Te.FETCHING&&Oe>1e4?(console.log(" Socket: Refreshing messages"),ue.current&&ue.current()):(console.log(" Socket: Skipping refresh - messages were fetched recently or fetch in progress"),console.log(`  - Current fetch state: ${ce}`),console.log(`  - Time since last fetch: ${Oe}ms`))},onUserStatusChange:me=>{me&&me.username&&p(Oe=>{const Ve={...Oe};return Ve[me.username]=me.isOnline,Ve})},onMessageLiked:me=>{me&&me.messageId&&(f(Oe=>Oe.map(Ve=>Ve.dbId===me.messageId?{...Ve,likesCount:me.likesCount}:Ve)),s&&me.likedByUsername===s.username&&G(Date.now()))},onMessageUnliked:me=>{me&&me.messageId&&(f(Oe=>Oe.map(Ve=>Ve.dbId===me.messageId?{...Ve,likesCount:me.likesCount}:Ve)),s&&me.unlikedByUsername===s.username&&G(Date.now()))},onMessageDeleted:me=>{console.log(" Socket: Message deleted",me),me&&me.messageId&&(f(Oe=>Oe.filter(Ve=>Ve.dbId!==me.messageId)),G(Date.now()))}};s&&s.username?(console.log(" Socket: Connecting to socket with username:",s.username),cn.connect(we,s.username)):(console.error(" Socket: Cannot connect - invalid user or missing username"),S("Cannot connect - invalid user or missing username"))}catch(we){console.error(" Socket: Error connecting to socket:",we),S("Error connecting to server. Please try again later."),y(!1)}return()=>{console.log(" Socket: Cleaning up socket connection"),cn.disconnect()}},[s,m,ce,Ce,Be]),b.useEffect(()=>{if(!s||!cn.isFallbackMode())return;console.log(" Socket: In fallback mode, setting up periodic server checks");const Z=setInterval(async()=>{console.log(" Socket: Fallback mode - checking if server is back up");try{(await cn.checkServerStatus()).success?(console.log(" Socket: Server is now reachable, will exit fallback mode"),clearInterval(Z),S(null),cn.disableFallbackMode()):console.log(" Socket: Server still unreachable, staying in fallback mode")}catch(te){console.error(" Socket: Error during fallback mode server check:",te)}},3e4);return()=>{clearInterval(Z)}},[s,cn.isFallbackMode()]),b.useEffect(()=>{const Z=async()=>{console.log(" checkAuth: Starting authentication check");try{console.log(" checkAuth: Calling authService.checkLoginStatus()");const ye=await At.checkLoginStatus();console.log(" checkAuth: Auth status result:",ye?"User is logged in":"No user data"),ye?(console.log(" checkAuth: About to call handleAuthSuccess with shouldRedirect=false"),R(ye,!1),console.log(" checkAuth: After handleAuthSuccess call")):(console.log(" checkAuth: Setting user to null - not authenticated"),a(null))}catch(ye){console.error(" checkAuth: Error during authentication check:",ye),a(null)}finally{o(!1)}};console.log(" App: Running initial authentication check"),Z();const te=localStorage.getItem("darkMode");if(te!==null)M(te==="true");else{const ye=window.matchMedia("(prefers-color-scheme: dark)").matches;M(ye)}},[]);const T=b.useCallback(()=>{try{const te=Date.now()-Ce,ye=5e3;if(ce===Te.FETCHING){console.log(" App: Already fetching messages, ignoring request");return}if(te<ye){console.log(` App: Recently fetched messages (${te}ms ago), will fetch after cooling period`),setTimeout(()=>{try{be()}catch(z){console.error(" App: Error in delayed fetchMessagesWithoutReset:",z),se(Te.IDLE),o(!1)}},ye-te);return}be()}catch(Z){console.error(" App: Error in handleRefreshMap:",Z),se(Te.IDLE),o(!1)}},[Ce,ce,be]);b.useEffect(()=>{const Z=()=>{if(console.log("Getting user location..."),!navigator.geolocation){console.log("Geolocation not supported by this browser"),O(()=>({latitude:40.7128,longitude:-74.006,fuzzyLocation:!0,error:"Geolocation not supported"}));return}const z={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5};navigator.geolocation.getCurrentPosition(B=>{console.log("High accuracy position succeeded");const ee={latitude:B.coords.latitude,longitude:B.coords.longitude,fuzzyLocation:!1,error:null,accuracy:B.coords.accuracy,timestamp:B.timestamp};console.log("Setting user location:",ee),O(ee)},()=>{console.log("High accuracy position failed, trying low accuracy..."),navigator.geolocation.getCurrentPosition(B=>{console.log("Low accuracy position succeeded");const ee={latitude:B.coords.latitude,longitude:B.coords.longitude,fuzzyLocation:!1,error:null,accuracy:B.coords.accuracy,timestamp:B.timestamp};console.log("Setting user location:",ee),O(ee)},B=>{console.log("Geolocation error:",B.message),O({latitude:40.7128,longitude:-74.006,fuzzyLocation:!0,error:B.message})},{enableHighAccuracy:!1,timeout:1e4,maximumAge:6e5})},z)};Z();const te=setInterval(()=>{s&&Z()},3e5),ye=()=>{document.visibilityState==="visible"&&(console.log("App in foreground, requesting location"),Z())};return document.addEventListener("visibilitychange",ye),()=>{clearInterval(te),document.removeEventListener("visibilitychange",ye)}},[s]);const R=(Z,te=!1)=>{console.log(" handleAuthSuccess: Called with userData:",Z,"shouldRedirect:",te),a(Z.user||Z);const ye=Z.user||Z;console.log(" handleAuthSuccess: Setting user state with:",ye),ye&&ye.darkMode!==void 0&&M(ye.darkMode);const B=Date.now()-Ce,ee=5e3,ne=sessionStorage.getItem("fetchMessagesInitiated");!ne&&ce!==Te.FETCHING&&B>ee?(sessionStorage.setItem("fetchMessagesInitiated","true"),sessionStorage.setItem("messageFetchCount","0"),console.log(" handleAuthSuccess: Scheduling message fetch after login"),setTimeout(()=>{console.log(" handleAuthSuccess: Fetching messages after login"),be(0,!0)},1e3)):(console.log(" handleAuthSuccess: Skipping message fetch - already initiated or recent fetch in progress"),console.log(`  - Fetch initiated: ${ne?"Yes":"No"}`),console.log(`  - Current fetch state: ${ce}`),console.log(`  - Time since last fetch: ${B}ms`)),window.addEventListener("beforeunload",()=>{sessionStorage.removeItem("fetchMessagesInitiated")}),te&&(console.log(" handleAuthSuccess: Redirecting to home page"),window.location.href="/")},X=()=>{cn.disconnect(),At.logout(),a(null),f([]),p({}),localStorage.setItem("darkMode",C),window.location.href="/auth"},W=()=>{const Z=!C;M(Z),localStorage.setItem("darkMode",Z),s&&V(Z)},V=async Z=>{try{(await At.updateProfile({darkMode:Z})).success||console.error("Failed to update dark mode preference")}catch(te){console.error("Error updating dark mode preference:",te)}};b.useEffect(()=>{C?(document.documentElement.classList.add("dark-mode"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark-mode"),document.body.classList.remove("dark-mode")),localStorage.setItem("darkMode",C)},[C]);const fe=()=>{U(Z=>[])};b.useEffect(()=>{if(!s){console.log(" Periodic refresh: User not logged in, skipping message refresh setup");return}console.log(" Periodic refresh: Setting up periodic message refresh");const Z=setInterval(()=>{console.log(" Periodic refresh: Refreshing messages"),be()},6e4);return()=>{console.log(" Periodic refresh: Cleaning up message refresh interval"),clearInterval(Z)}},[s]);const ae=()=>{if(!s||!c||c.length===0)return!0;const Z=c.filter(ne=>ne.sender===s.username);if(Z.length===0)return!0;const te=Z.reduce((ne,we)=>new Date(ne.timestamp)>new Date(we.timestamp)?ne:we,Z[0]),ye=30*60*1e3,z=new Date,B=new Date(te.timestamp);return z-B>=ye},Ee=()=>{if(!s||!c||c.length===0)return 0;const Z=c.filter(ne=>ne.sender===s.username);if(Z.length===0)return 0;const te=Z.reduce((ne,we)=>new Date(ne.timestamp)>new Date(we.timestamp)?ne:we,Z[0]),ye=30*60*1e3,z=new Date,B=new Date(te.timestamp),ee=z-B;return Math.max(0,ye-ee)},ge=b.useCallback(async(Z,te=null)=>{if(!m)return console.error("Cannot send message while disconnected"),{error:"Cannot send message while disconnected"};if(!s)return console.error("Cannot send message while not logged in"),{error:"Cannot send message while not logged in"};if(!ae())return console.log("User attempted to send message before 30-minute cooldown period"),{error:"You can only send a message every 30 minutes",timeRemaining:Ee()};const ye=Date.now();let z=!0;te&&te.get&&(z=te.get("fuzzyLocation")==="true");let B=w;if(!B||B.error?(B=ab(c),console.log("Using fallback location:",B)):B.fuzzyLocation?(B=sb(B),console.log("Using varied location:",B)):(B=ib(B,z),console.log(z?"Using fuzzy location for privacy:":"Using exact location:",B)),te)try{console.log("Sending message with image via API");const ee=await Lt.sendMessageWithImage(Z,te,B);ee.success&&(console.log("Message with image sent successfully:",ee),ee.messageId&&ee.imageUrl&&Ae(s.username,Z,!1,ye,B,ee.messageId,ee.imageUrl))}catch(ee){console.error("Error sending message with image:",ee),Ae("Error","Failed to send your message with image. Please try again.",!0,ye)}else try{Ae(s.username,Z,!1,ye,B),console.log(" DEBUG - User object:",JSON.stringify(s,null,2)),console.log(" DEBUG - User username:",s.username),console.log(" DEBUG - Message to send:",Z),console.log(" DEBUG - Message location:",JSON.stringify(B,null,2)),console.log(" Sending message via socket as user:",s.username),cn.sendMessage(Z,s.username,B)}catch(ee){console.error("Error sending message via socket:",ee),Ae("Error","Failed to send your message. Please try again.",!0,ye)}},[m,w,c,s,Ae]);return b.useEffect(()=>{if(s&&cn.areNotificationsSupported()){const Z=sessionStorage.getItem("notificationPermissionJustGranted");if(Notification.permission==="granted"&&Z){const te=ob({sender:s.username,messagePreview:"Notifications enabled successfully!",timestamp:new Date});te&&U(ye=>[...ye,te]),sessionStorage.removeItem("notificationPermissionJustGranted")}else Notification.permission==="default"&&cn.requestNotificationPermission().then(te=>{}).catch(te=>{console.error("Error requesting notification permission:",te)})}},[s]),oe?h.jsx(eb,{messages:c,isDarkMode:C}):l?h.jsx("div",{className:`app-loading ${C?"dark-mode":""}`,children:h.jsx("div",{className:"loading-spinner"})}):s?(console.log(" Rendering main AppContent because user exists:",s==null?void 0:s.username),h.jsx($h,{children:h.jsx("div",{className:`app-container ${C?"dark-mode":""}`,children:s?h.jsx(Kg,{user:s,onlineUsers:d,messages:c,handleSocketMessage:ge,isConnected:m,connectionError:E,handleLogout:X,userLocation:w,isDarkMode:C,toggleDarkMode:W,notifications:A,onClearNotifications:fe,isLoading:l,canUserSendMessage:ae,getTimeRemainingBeforeNextMessage:Ee,handleRefreshMap:T}):h.jsx(ko,{onAuthSuccess:R,isDarkMode:C,toggleDarkMode:W})})})):(console.log(" Rendering Auth/Landing screen because user is null"),h.jsx($h,{children:h.jsxs("div",{className:`app ${C?"dark-mode":""}`,children:[h.jsx(tb,{isDarkMode:C}),h.jsxs(Xm,{children:[h.jsx(Sa,{path:"/",element:h.jsx(Iu,{isDarkMode:C})}),h.jsx(Sa,{path:"/auth/*",element:h.jsx(ko,{onAuthSuccess:Z=>{console.log(" Auth component calling handleAuthSuccess with shouldRedirect=true"),R(Z,!0)},isDarkMode:C})}),h.jsx(Sa,{path:"*",element:h.jsx(Fm,{to:"/auth"})})]})]})}))}function cb(s={}){const{immediate:a=!1,onNeedRefresh:l,onOfflineReady:o,onRegistered:c,onRegisteredSW:f,onRegisterError:d}=s;let p,m;const y=async(S=!0)=>{await m};async function E(){if("serviceWorker"in navigator){if(p=await Lg(async()=>{const{Workbox:S}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:S}},[]).then(({Workbox:S})=>new S("/sw.js",{scope:"/",type:"classic"})).catch(S=>{d==null||d(S)}),!p)return;p.addEventListener("activated",S=>{(S.isUpdate||S.isExternal)&&window.location.reload()}),p.addEventListener("installed",S=>{S.isUpdate||o==null||o()}),p.register({immediate:a}).then(S=>{f?f("/sw.js",S):c==null||c(S)}).catch(S=>{d==null||d(S)})}}return m=E(),y}const ub=cb({onNeedRefresh(){confirm("New content available. Reload?")&&ub(!0)},onOfflineReady(){console.log("App ready to work offline")}});vy.createRoot(document.getElementById("root")).render(h.jsx(b.StrictMode,{children:h.jsx(Pg,{children:h.jsx(rb,{})})}));export{Ou as g};
